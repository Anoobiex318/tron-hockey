const a0_0x3307ab=a0_0x92ff;(function(_0x35b334,_0xbd1478){const _0x3cfc23=a0_0x92ff,_0x528af7=_0x35b334();while(!![]){try{const _0x105cad=parseInt(_0x3cfc23(0x135))/0x1+parseInt(_0x3cfc23(0x193))/0x2+-parseInt(_0x3cfc23(0x155))/0x3+-parseInt(_0x3cfc23(0x15a))/0x4+-parseInt(_0x3cfc23(0x156))/0x5+-parseInt(_0x3cfc23(0x128))/0x6+-parseInt(_0x3cfc23(0x18d))/0x7*(parseInt(_0x3cfc23(0xf0))/0x8);if(_0x105cad===_0xbd1478)break;else _0x528af7['push'](_0x528af7['shift']());}catch(_0x132ef3){_0x528af7['push'](_0x528af7['shift']());}}}(a0_0x1fbb,0xec4c0));const canvas=document[a0_0x3307ab(0x144)](a0_0x3307ab(0x169)),ctx=canvas['getContext']('2d'),state={'running':![],'paused':![],'mode':'cpu','difficulty':a0_0x3307ab(0x17f),'p1':{'score':0x0,'x':0x0,'y':0x0,'prevX':0x0,'prevY':0x0,'vx':0x0,'vy':0x0,'radius':0x0,'color':a0_0x3307ab(0x189)},'p2':{'score':0x0,'x':0x0,'y':0x0,'prevX':0x0,'prevY':0x0,'vx':0x0,'vy':0x0,'radius':0x0,'color':a0_0x3307ab(0x139)},'puck':{'x':0x0,'y':0x0,'vx':0x0,'vy':0x0,'radius':0x0,'speed':0x0,'maxSpeed':0x0},'field':{'width':0x0,'height':0x0},'particles':[]},CONFIG={'friction':0.992,'wallBounce':0.9,'puckMaxSpeedMultiplier':0.04,'paddleRadiusRatio':0.08,'puckRadiusRatio':0.04,'winningScore':0x7},DIFFICULTIES={'medium':{'speed':0.09,'reaction':0.1,'error':0x1e},'difficult':{'speed':0.15,'reaction':0.05,'error':0xa},'insane':{'speed':0.35,'reaction':0.01,'error':0x0}},AudioContext=window[a0_0x3307ab(0x14c)]||window['webkitAudioContext'],audioCtx=new AudioContext();function playSound(_0x25e06f){const _0x543198=a0_0x3307ab;if(audioCtx[_0x543198(0x192)]===_0x543198(0x131))audioCtx[_0x543198(0x105)]();const _0x4a0dff=audioCtx[_0x543198(0x114)](),_0x5d4191=audioCtx[_0x543198(0x137)]();_0x4a0dff[_0x543198(0x17a)](_0x5d4191),_0x5d4191[_0x543198(0x17a)](audioCtx[_0x543198(0x104)]);const _0x37883b=audioCtx[_0x543198(0x10f)];if(_0x25e06f===_0x543198(0x17c))_0x4a0dff[_0x543198(0x183)][_0x543198(0x125)](0x190,_0x37883b),_0x4a0dff[_0x543198(0x183)][_0x543198(0x136)](0x64,_0x37883b+0.1),_0x5d4191[_0x543198(0x186)]['setValueAtTime'](0.3,_0x37883b),_0x5d4191[_0x543198(0x186)][_0x543198(0x136)](0.01,_0x37883b+0.1),_0x4a0dff['start'](_0x37883b),_0x4a0dff['stop'](_0x37883b+0.1);else{if(_0x25e06f==='wall')_0x4a0dff['frequency']['setValueAtTime'](0xc8,_0x37883b),_0x4a0dff[_0x543198(0x183)]['exponentialRampToValueAtTime'](0x32,_0x37883b+0.1),_0x5d4191['gain'][_0x543198(0x125)](0.2,_0x37883b),_0x5d4191['gain']['exponentialRampToValueAtTime'](0.01,_0x37883b+0.1),_0x4a0dff[_0x543198(0xd0)](_0x37883b),_0x4a0dff[_0x543198(0xda)](_0x37883b+0.1);else _0x25e06f===_0x543198(0xf3)&&(_0x4a0dff[_0x543198(0x132)]=_0x543198(0xea),_0x4a0dff[_0x543198(0x183)][_0x543198(0x125)](0x258,_0x37883b),_0x4a0dff[_0x543198(0x183)]['setValueAtTime'](0x320,_0x37883b+0.1),_0x4a0dff[_0x543198(0x183)][_0x543198(0x125)](0x190,_0x37883b+0.2),_0x5d4191[_0x543198(0x186)][_0x543198(0x125)](0.3,_0x37883b),_0x5d4191[_0x543198(0x186)][_0x543198(0x136)](0.01,_0x37883b+0.6),_0x4a0dff[_0x543198(0xd0)](_0x37883b),_0x4a0dff[_0x543198(0xda)](_0x37883b+0.6));}}function resize(){const _0x3a58b0=a0_0x3307ab,_0x89e475=document[_0x3a58b0(0x144)]('game-container'),_0x44506e=canvas[_0x3a58b0(0x168)]||0xa,_0x9b70b5=canvas[_0x3a58b0(0x108)]||0xa;canvas[_0x3a58b0(0x168)]=_0x89e475[_0x3a58b0(0xf7)]||window[_0x3a58b0(0xf4)],canvas[_0x3a58b0(0x108)]=_0x89e475['clientHeight']||window[_0x3a58b0(0x16a)];const _0xea312c=canvas[_0x3a58b0(0x168)]/_0x44506e,_0x3c0e88=canvas[_0x3a58b0(0x108)]/_0x9b70b5;state[_0x3a58b0(0x153)][_0x3a58b0(0x168)]=canvas['width'],state[_0x3a58b0(0x153)][_0x3a58b0(0x108)]=canvas[_0x3a58b0(0x108)];const _0x3b549b=Math[_0x3a58b0(0x188)](canvas[_0x3a58b0(0x168)],canvas[_0x3a58b0(0x108)]);state['p1'][_0x3a58b0(0xe7)]=_0x3b549b*CONFIG[_0x3a58b0(0x10a)],state['p2'][_0x3a58b0(0xe7)]=_0x3b549b*CONFIG[_0x3a58b0(0x10a)],state['puck'][_0x3a58b0(0xe7)]=_0x3b549b*CONFIG[_0x3a58b0(0x196)],state[_0x3a58b0(0xcb)]['maxSpeed']=canvas[_0x3a58b0(0x108)]*CONFIG[_0x3a58b0(0x11a)],state[_0x3a58b0(0x165)]&&_0x44506e>0xa?(state['p1']['x']*=_0xea312c,state['p1']['y']*=_0x3c0e88,state['p1'][_0x3a58b0(0x11c)]*=_0xea312c,state['p1'][_0x3a58b0(0xdf)]*=_0x3c0e88,state['p2']['x']*=_0xea312c,state['p2']['y']*=_0x3c0e88,state['p2'][_0x3a58b0(0x11c)]*=_0xea312c,state['p2'][_0x3a58b0(0xdf)]*=_0x3c0e88,state[_0x3a58b0(0xcb)]['x']*=_0xea312c,state[_0x3a58b0(0xcb)]['y']*=_0x3c0e88):resetPositions();}function resetPositions(){const _0x20f254=a0_0x3307ab;state[_0x20f254(0xcb)]['x']=state[_0x20f254(0x153)][_0x20f254(0x168)]/0x2,state['puck']['y']=state['field'][_0x20f254(0x108)]/0x2,state['puck']['vx']=0x0,state[_0x20f254(0xcb)]['vy']=0x0,state['p1']['x']=state[_0x20f254(0x153)][_0x20f254(0x168)]/0x2,state['p1']['y']=state[_0x20f254(0x153)][_0x20f254(0x108)]-state['field'][_0x20f254(0x108)]*0.15,state['p1'][_0x20f254(0x11c)]=state['p1']['x'],state['p1'][_0x20f254(0xdf)]=state['p1']['y'],state['p2']['x']=state[_0x20f254(0x153)][_0x20f254(0x168)]/0x2,state['p2']['y']=state['field'][_0x20f254(0x108)]*0.15,state['p2'][_0x20f254(0x11c)]=state['p2']['x'],state['p2'][_0x20f254(0xdf)]=state['p2']['y'];}function spawnParticles(_0x207a7f,_0x69aee2,_0x85c62f){const _0x34550c=a0_0x3307ab;for(let _0x545051=0x0;_0x545051<0x28;_0x545051++){const _0x574e05=Math[_0x34550c(0xff)]()*0xf+0x5,_0x30f8e0=Math[_0x34550c(0xff)]()*Math['PI']*0x2;state[_0x34550c(0x15c)]['push']({'x':_0x207a7f,'y':_0x69aee2,'vx':Math['cos'](_0x30f8e0)*_0x574e05,'vy':Math[_0x34550c(0x126)](_0x30f8e0)*_0x574e05,'life':0x1,'decay':Math[_0x34550c(0xff)]()*0.03+0.01,'color':_0x85c62f});}for(let _0x214f82=0x0;_0x214f82<0x14;_0x214f82++){const _0x4e6195=Math['PI']*0x2*_0x214f82/0x14;state[_0x34550c(0x15c)][_0x34550c(0x148)]({'x':_0x207a7f,'y':_0x69aee2,'vx':Math[_0x34550c(0x10d)](_0x4e6195)*0xa,'vy':Math['sin'](_0x4e6195)*0xa,'life':0x1,'decay':0.05,'color':_0x34550c(0x147)});}}function predictPuckX(_0x32fe78,_0x263608,_0x334f36){if(_0x32fe78['vy']===0x0)return _0x32fe78['x'];const _0x473a92=(_0x263608-_0x32fe78['y'])/_0x32fe78['vy'];if(_0x473a92<0x0)return _0x334f36/0x2;let _0x1babe3=_0x32fe78['x']+_0x32fe78['vx']*_0x473a92;const _0x25d4f1=_0x334f36;while(_0x1babe3<0x0||_0x1babe3>_0x25d4f1){if(_0x1babe3<0x0)_0x1babe3=-_0x1babe3;else _0x1babe3>_0x25d4f1&&(_0x1babe3=0x2*_0x25d4f1-_0x1babe3);}return _0x1babe3;}let peer=null,conn=null,myPeerId=null,isHost=![];function initPeer(){const _0x487a96=a0_0x3307ab;if(peer)return;document[_0x487a96(0x144)](_0x487a96(0x11f))[_0x487a96(0x149)]=_0x487a96(0x145);let _0x2ca84d=localStorage[_0x487a96(0x151)]('tron_hockey_peer_id');setupPeer(_0x2ca84d);}function setupPeer(_0x537a6a=null){const _0x184342=a0_0x3307ab;if(peer)peer[_0x184342(0xcc)]();const _0xc286c8={'debug':0x1};peer=_0x537a6a?new Peer(_0x537a6a,_0xc286c8):new Peer(null,_0xc286c8),peer['on']('open',_0xb1fec4=>{const _0x73c311=_0x184342;myPeerId=_0xb1fec4,localStorage['setItem'](_0x73c311(0x15f),_0xb1fec4);const _0x55858b=document[_0x73c311(0x144)](_0x73c311(0xf6));if(_0x55858b)_0x55858b['value']=_0xb1fec4;const _0x3edf2=document[_0x73c311(0x144)](_0x73c311(0x11f));if(_0x3edf2)_0x3edf2[_0x73c311(0x149)]=_0x73c311(0x13c);const _0x403e4d=new URLSearchParams(window['location'][_0x73c311(0x123)]);let _0x30cd87=_0x403e4d[_0x73c311(0x143)](_0x73c311(0x115));if(_0x30cd87&&!state['running']){if(_0x30cd87===myPeerId){console['log'](_0x73c311(0x101));return;}_0x30cd87['includes'](_0x73c311(0xf5))&&(_0x30cd87=_0x30cd87[_0x73c311(0xdd)]('game=')[0x1][_0x73c311(0xdd)]('&')[0x0]),openLobby(),document[_0x73c311(0x144)](_0x73c311(0x146))['value']=_0x30cd87,setTimeout(connectToPeer,0x1f4);}}),peer['on'](_0x184342(0x14b),_0x260b7f=>{const _0x2d2935=_0x184342;if(_0x260b7f[_0x2d2935(0x132)]===_0x2d2935(0x152)){console['warn'](_0x2d2935(0x18f)),setupPeer(null);return;}if(_0x260b7f[_0x2d2935(0x132)]===_0x2d2935(0xee)){alert('Host\x20not\x20found!\x20Make\x20sure\x20the\x20Host\x20is\x20online\x20and\x20the\x20ID\x20is\x20correct.'),document[_0x2d2935(0x144)](_0x2d2935(0xe3))[_0x2d2935(0x149)]=_0x2d2935(0x17e);if(conn)conn[_0x2d2935(0x174)]();return;}const _0x46e1f0=document[_0x2d2935(0x144)]('connection-status');if(_0x46e1f0)_0x46e1f0[_0x2d2935(0x149)]='Error:\x20'+_0x260b7f['type'];console['error']('PeerJS\x20Error:',_0x260b7f);}),peer['on'](_0x184342(0x177),_0x28f19d=>{const _0x40153d=_0x184342;if(conn&&conn[_0x40153d(0x15e)]){_0x28f19d[_0x40153d(0x174)](),console[_0x40153d(0x158)](_0x40153d(0x10b));return;}if(conn)conn['close']();conn=_0x28f19d,isHost=!![],setupConnection();});}function setupConnection(){const _0x12c0c4=a0_0x3307ab;conn['off'](_0x12c0c4(0x15e)),conn[_0x12c0c4(0x16d)]('data'),conn['off'](_0x12c0c4(0x174)),conn['on'](_0x12c0c4(0x15e),()=>{const _0x546687=_0x12c0c4;document[_0x546687(0x144)](_0x546687(0xe3))[_0x546687(0x149)]=_0x546687(0x16c),document[_0x546687(0x144)](_0x546687(0xe3))[_0x546687(0x16e)]['color']=_0x546687(0x150),setTimeout(()=>{const _0x195356=_0x546687;document[_0x195356(0x144)]('lobby-modal')[_0x195356(0x106)][_0x195356(0x11e)]('hidden'),startGame(isHost?_0x195356(0x107):_0x195356(0x12f));},0x3e8);}),conn['on']('data',_0x4ae0b7=>{handleData(_0x4ae0b7);}),conn['on'](_0x12c0c4(0x174),()=>{const _0x1a2fb0=_0x12c0c4;stopGame();const _0x35dc0e=document[_0x1a2fb0(0x144)]('pause-modal'),_0x50edb6=document['getElementById'](_0x1a2fb0(0x141)),_0x1ecaff=document[_0x1a2fb0(0x144)](_0x1a2fb0(0x12c));_0x35dc0e&&_0x50edb6&&_0x1ecaff?(_0x50edb6[_0x1a2fb0(0x149)]='Connection\x20Lost',_0x1ecaff[_0x1a2fb0(0x16e)][_0x1a2fb0(0xd1)]=_0x1a2fb0(0x124),_0x35dc0e['classList']['remove'](_0x1a2fb0(0x11d))):(alert(_0x1a2fb0(0xd5)),location[_0x1a2fb0(0x10c)]());}),conn['on'](_0x12c0c4(0x14b),_0x3b56f3=>{console['error']('Connection\x20Error:',_0x3b56f3);});}function handleData(_0x52af84){const _0x24c955=a0_0x3307ab;if(state['mode']===_0x24c955(0x107))_0x52af84[_0x24c955(0x132)]==='input'&&(_0x52af84['y']<state[_0x24c955(0x153)][_0x24c955(0x108)]/0x2&&(state['p2']['x']=_0x52af84['x'],state['p2']['y']=_0x52af84['y']));else{if(state[_0x24c955(0xed)]===_0x24c955(0x12f)){if(_0x52af84[_0x24c955(0x132)]===_0x24c955(0x192)){state['p1']['x']=_0x52af84['p1']['x'],state['p1']['y']=_0x52af84['p1']['y'],state['p2']['x']=_0x52af84['p2']['x'],state['p2']['y']=_0x52af84['p2']['y'],state['p1'][_0x24c955(0xf3)]=_0x52af84['scores']['p1'],state['p2'][_0x24c955(0xf3)]=_0x52af84[_0x24c955(0x15b)]['p2'],state[_0x24c955(0xcb)]['x']=_0x52af84[_0x24c955(0xcb)]['x'],state[_0x24c955(0xcb)]['y']=_0x52af84['puck']['y'],state['puck']['vx']=_0x52af84[_0x24c955(0xcb)]['vx'],state['puck']['vy']=_0x52af84[_0x24c955(0xcb)]['vy'];if(_0x52af84['event']){if(_0x52af84[_0x24c955(0x159)]===_0x24c955(0xf3))handleGoal(_0x52af84[_0x24c955(0xef)],!![]);else{if(_0x52af84[_0x24c955(0x159)]===_0x24c955(0x17c))playSound(_0x24c955(0x17c));else _0x52af84['event']===_0x24c955(0x142)&&playSound(_0x24c955(0x142));}}}_0x52af84[_0x24c955(0x132)]==='game_over'&&endGame(_0x52af84[_0x24c955(0x160)]);}}}window[a0_0x3307ab(0x113)]=()=>{const _0x3b5f5e=a0_0x3307ab;document[_0x3b5f5e(0x144)](_0x3b5f5e(0x179))[_0x3b5f5e(0x106)]['add']('hidden'),document['getElementById'](_0x3b5f5e(0x110))[_0x3b5f5e(0x106)][_0x3b5f5e(0xf1)](_0x3b5f5e(0x11d)),initPeer();},window[a0_0x3307ab(0x14f)]=()=>{const _0x41c621=a0_0x3307ab;document[_0x41c621(0x144)]('lobby-modal')[_0x41c621(0x106)][_0x41c621(0x11e)]('hidden'),document[_0x41c621(0x144)](_0x41c621(0x179))['classList'][_0x41c621(0xf1)](_0x41c621(0x11d));},window[a0_0x3307ab(0x197)]=()=>{const _0x2c7d89=a0_0x3307ab;document[_0x2c7d89(0x144)](_0x2c7d89(0xe5))[_0x2c7d89(0x106)][_0x2c7d89(0x11e)](_0x2c7d89(0x11d)),document[_0x2c7d89(0x144)](_0x2c7d89(0x100))[_0x2c7d89(0x106)]['remove'](_0x2c7d89(0x11d));},window[a0_0x3307ab(0x121)]=()=>{const _0x3b1752=a0_0x3307ab;document[_0x3b1752(0x144)](_0x3b1752(0x100))[_0x3b1752(0x106)]['add'](_0x3b1752(0x11d)),document[_0x3b1752(0x144)](_0x3b1752(0xe5))[_0x3b1752(0x106)][_0x3b1752(0xf1)]('hidden');},window[a0_0x3307ab(0x14d)]=()=>{const _0x517d46=a0_0x3307ab,_0x494b60=document['getElementById'](_0x517d46(0xf6))[_0x517d46(0x14a)],_0x1b7e44=window[_0x517d46(0xd3)][_0x517d46(0x18c)]+window[_0x517d46(0xd3)]['pathname']+'?game='+_0x494b60;navigator['clipboard']['writeText'](_0x1b7e44)[_0x517d46(0xe2)](()=>{const _0x17e171=_0x517d46;document['getElementById'](_0x17e171(0x11f))[_0x17e171(0x149)]=_0x17e171(0x187),setTimeout(()=>document[_0x17e171(0x144)](_0x17e171(0x11f))['textContent']='Ready\x20to\x20Connect',0x7d0);});},window[a0_0x3307ab(0x18b)]=()=>{const _0x4e6767=a0_0x3307ab;let _0x5e3b25=document['getElementById'](_0x4e6767(0x146))['value'][_0x4e6767(0x176)]();if(!_0x5e3b25)return;if(_0x5e3b25[_0x4e6767(0x175)](_0x4e6767(0xec))||_0x5e3b25[_0x4e6767(0x175)](_0x4e6767(0xf5)))try{_0x5e3b25[_0x4e6767(0x175)](_0x4e6767(0xf5))&&(_0x5e3b25=_0x5e3b25[_0x4e6767(0xdd)](_0x4e6767(0xf5))[0x1][_0x4e6767(0xdd)]('&')[0x0]);}catch(_0x4de8e6){console[_0x4e6767(0x158)]('Error\x20parsing\x20ID',_0x4de8e6);}conn&&conn[_0x4e6767(0x174)](),document[_0x4e6767(0x144)](_0x4e6767(0xe3))[_0x4e6767(0x149)]=_0x4e6767(0x164)+_0x5e3b25+'...',conn=peer['connect'](_0x5e3b25),isHost=![],setupConnection();};function update(){const _0x4d915d=a0_0x3307ab;state['p1']['vx']=state['p1']['x']-state['p1'][_0x4d915d(0x11c)],state['p1']['vy']=state['p1']['y']-state['p1'][_0x4d915d(0xdf)],state['p1'][_0x4d915d(0x11c)]=state['p1']['x'],state['p1']['prevY']=state['p1']['y'],state['p2']['vx']=state['p2']['x']-state['p2']['prevX'],state['p2']['vy']=state['p2']['y']-state['p2'][_0x4d915d(0xdf)],state['p2'][_0x4d915d(0x11c)]=state['p2']['x'],state['p2']['prevY']=state['p2']['y'];if(!state[_0x4d915d(0x165)]||state['paused'])return;if(state[_0x4d915d(0xed)]===_0x4d915d(0x12f)){conn&&conn['open']&&conn[_0x4d915d(0x166)]({'type':_0x4d915d(0x191),'x':state['p2']['x'],'y':state['p2']['y']});state[_0x4d915d(0x15c)][_0x4d915d(0x172)](_0x230dce=>{_0x230dce['x']+=_0x230dce['vx'],_0x230dce['y']+=_0x230dce['vy'],_0x230dce['life']-=_0x230dce['decay'];}),state[_0x4d915d(0x15c)]=state[_0x4d915d(0x15c)][_0x4d915d(0xfb)](_0x1d648e=>_0x1d648e['life']>0x0);return;}if(state[_0x4d915d(0xed)]===_0x4d915d(0x12d)){const _0x367ff8=DIFFICULTIES[state[_0x4d915d(0xde)]]||DIFFICULTIES[_0x4d915d(0x17f)];let _0x27678d=state[_0x4d915d(0xcb)]['x'],_0x12a570=state[_0x4d915d(0x153)][_0x4d915d(0x108)]*0.12;state['puck']['vy']<0x0?_0x27678d=predictPuckX(state[_0x4d915d(0xcb)],_0x12a570,state[_0x4d915d(0x153)]['width']):_0x27678d=state['field'][_0x4d915d(0x168)]/0x2;let _0x31bafb=![];if(state[_0x4d915d(0xde)]===_0x4d915d(0x184)){if(state[_0x4d915d(0xcb)]['y']<state['field'][_0x4d915d(0x108)]*0.45&&state[_0x4d915d(0xcb)]['y']>state['p2']['y'])_0x31bafb=!![],_0x27678d=state[_0x4d915d(0xcb)]['x'],_0x12a570=state[_0x4d915d(0xcb)]['y'];else state['puck']['vy']>0x0&&state['puck']['y']<state[_0x4d915d(0x153)][_0x4d915d(0x108)]*0.3&&(_0x31bafb=!![],_0x27678d=state[_0x4d915d(0xcb)]['x'],_0x12a570=state[_0x4d915d(0xcb)]['y']);}else state[_0x4d915d(0xde)]===_0x4d915d(0xe6)?state['puck']['y']<state['field'][_0x4d915d(0x108)]*0.4&&state['puck']['vy']<0x0&&(_0x31bafb=!![],_0x27678d=state['puck']['x'],_0x12a570=state[_0x4d915d(0xcb)]['y']-0x14):state[_0x4d915d(0xcb)]['y']<state[_0x4d915d(0x153)][_0x4d915d(0x108)]*0.25&&state[_0x4d915d(0xcb)]['vy']<0x0&&(_0x31bafb=!![],_0x12a570=state[_0x4d915d(0xcb)]['y']-0xa);if(!_0x31bafb){if(state[_0x4d915d(0xde)]===_0x4d915d(0xe6))_0x27678d+=(Math[_0x4d915d(0xff)]()-0.5)*_0x367ff8['error'];if(state[_0x4d915d(0xde)]===_0x4d915d(0x17f))_0x27678d+=(Math[_0x4d915d(0xff)]()-0.5)*_0x367ff8['error'];}const _0x45266d=_0x27678d-state['p2']['x'],_0x5e6d84=_0x12a570-state['p2']['y'];let _0x1d357e=_0x367ff8[_0x4d915d(0xfa)];if(_0x31bafb)_0x1d357e*=1.5;state['p2']['x']+=_0x45266d*_0x1d357e,state['p2']['y']+=_0x5e6d84*_0x1d357e;}state[_0x4d915d(0xcb)]['x']+=state[_0x4d915d(0xcb)]['vx'],state['puck']['y']+=state[_0x4d915d(0xcb)]['vy'],state[_0x4d915d(0xcb)]['vx']*=CONFIG['friction'],state[_0x4d915d(0xcb)]['vy']*=CONFIG[_0x4d915d(0x10e)];if(Math[_0x4d915d(0x133)](state[_0x4d915d(0xcb)]['vx'])<0.05)state[_0x4d915d(0xcb)]['vx']=0x0;if(Math[_0x4d915d(0x133)](state[_0x4d915d(0xcb)]['vy'])<0.05)state[_0x4d915d(0xcb)]['vy']=0x0;let _0x59d91f=![];state[_0x4d915d(0xcb)]['x']-state['puck']['radius']<0x0&&(state[_0x4d915d(0xcb)]['x']=state[_0x4d915d(0xcb)][_0x4d915d(0xe7)],state['puck']['vx']*=-0x1*CONFIG[_0x4d915d(0x154)],_0x59d91f=!![]);state['puck']['x']+state[_0x4d915d(0xcb)][_0x4d915d(0xe7)]>state['field'][_0x4d915d(0x168)]&&(state['puck']['x']=state['field'][_0x4d915d(0x168)]-state[_0x4d915d(0xcb)]['radius'],state[_0x4d915d(0xcb)]['vx']*=-0x1*CONFIG['wallBounce'],_0x59d91f=!![]);if(_0x59d91f){playSound('wall');if(state[_0x4d915d(0xed)]==='online_host')broadcast({'type':'state','event':_0x4d915d(0x142)});}const _0x1e77ed=state[_0x4d915d(0x153)][_0x4d915d(0x168)]*0.3,_0x1a5f4c=state[_0x4d915d(0x153)]['width']/0x2;if(state[_0x4d915d(0xcb)]['y']<0x0){handleGoal(0x1);return;}const _0x1276e3=Math[_0x4d915d(0x157)](state[_0x4d915d(0xcb)]['x']-_0x1a5f4c,state['puck']['y']-0x0);if(state[_0x4d915d(0xcb)]['y']<_0x1e77ed&&_0x1276e3<_0x1e77ed){}if(state[_0x4d915d(0xcb)]['y']>state[_0x4d915d(0x153)][_0x4d915d(0x108)]){handleGoal(0x2);return;}checkPaddleCollision(state['p1']),checkPaddleCollision(state['p2']),state['particles'][_0x4d915d(0x172)](_0x2e8349=>{const _0x232308=_0x4d915d;_0x2e8349['x']+=_0x2e8349['vx'],_0x2e8349['y']+=_0x2e8349['vy'],_0x2e8349[_0x232308(0x13e)]-=_0x2e8349[_0x232308(0x127)];}),state['particles']=state[_0x4d915d(0x15c)][_0x4d915d(0xfb)](_0x228dad=>_0x228dad['life']>0x0),state[_0x4d915d(0xed)]===_0x4d915d(0x107)&&conn&&conn[_0x4d915d(0x15e)]&&conn['send']({'type':_0x4d915d(0x192),'p1':{'x':state['p1']['x'],'y':state['p1']['y']},'p2':{'x':state['p2']['x'],'y':state['p2']['y']},'puck':{'x':state[_0x4d915d(0xcb)]['x'],'y':state[_0x4d915d(0xcb)]['y'],'vx':state[_0x4d915d(0xcb)]['vx'],'vy':state['puck']['vy']},'scores':{'p1':state['p1'][_0x4d915d(0xf3)],'p2':state['p2'][_0x4d915d(0xf3)]}});}function handleGoal(_0x31a17b,_0x2df1b3=![]){const _0x27d95a=a0_0x3307ab;if(_0x2df1b3){playSound(_0x27d95a(0xf3));if(_0x31a17b===0x1)spawnParticles(state['puck']['x'],0x0,state['p1'][_0x27d95a(0x18e)]);else spawnParticles(state['puck']['x'],state['field']['height'],state['p2'][_0x27d95a(0x18e)]);return;}playSound(_0x27d95a(0xf3)),state[_0x27d95a(0xcb)]['vx']=0x0,state[_0x27d95a(0xcb)]['vy']=0x0;_0x31a17b===0x1?(state['p1'][_0x27d95a(0xf3)]++,spawnParticles(state[_0x27d95a(0xcb)]['x'],0x0,state['p1']['color'])):(state['p2'][_0x27d95a(0xf3)]++,spawnParticles(state[_0x27d95a(0xcb)]['x'],state['field'][_0x27d95a(0x108)],state['p2'][_0x27d95a(0x18e)]));if(state[_0x27d95a(0xed)]==='online_host')broadcast({'type':_0x27d95a(0x192),'event':'score','scorer':_0x31a17b});state['p1'][_0x27d95a(0xf3)]>=CONFIG[_0x27d95a(0xfc)]||state['p2'][_0x27d95a(0xf3)]>=CONFIG[_0x27d95a(0xfc)]?endGame(_0x31a17b===0x1):resetPositions();}function broadcast(_0xd04ab9){const _0x83801f=a0_0x3307ab;conn&&conn[_0x83801f(0x15e)]&&conn[_0x83801f(0x166)]({..._0xd04ab9,'p1':{'x':state['p1']['x'],'y':state['p1']['y']},'p2':{'x':state['p2']['x'],'y':state['p2']['y']},'puck':{'x':state[_0x83801f(0xcb)]['x'],'y':state[_0x83801f(0xcb)]['y'],'vx':state[_0x83801f(0xcb)]['vx'],'vy':state[_0x83801f(0xcb)]['vy']},'scores':{'p1':state['p1'][_0x83801f(0xf3)],'p2':state['p2'][_0x83801f(0xf3)]}});}function a0_0x92ff(_0x5d790e,_0x5b8384){_0x5d790e=_0x5d790e-0xcb;const _0x1fbb53=a0_0x1fbb();let _0x92ff31=_0x1fbb53[_0x5d790e];return _0x92ff31;}function stopGame(){const _0x325f4e=a0_0x3307ab;state[_0x325f4e(0x165)]=![],state['paused']=![],document['getElementById'](_0x325f4e(0x179))['classList'][_0x325f4e(0xf1)](_0x325f4e(0x11d)),document['getElementById']('game-ui')['classList'][_0x325f4e(0x11e)](_0x325f4e(0x11d)),document[_0x325f4e(0x144)](_0x325f4e(0x134))['classList'][_0x325f4e(0x11e)](_0x325f4e(0x11d)),showMainMenu();}function endGame(_0x192bfa){const _0x59f4ad=a0_0x3307ab;state[_0x59f4ad(0x165)]=![];state[_0x59f4ad(0xed)]==='online_host'&&broadcast({'type':_0x59f4ad(0xfd),'p1Won':_0x192bfa});const _0x1097db=document['getElementById'](_0x59f4ad(0x167)),_0x2b0bb=document[_0x59f4ad(0x144)](_0x59f4ad(0x16f)),_0x2775bf=document[_0x59f4ad(0x144)](_0x59f4ad(0x180)),_0x4b0503=state[_0x59f4ad(0xed)]!=='online_client',_0x334284=_0x4b0503?_0x192bfa:!_0x192bfa;_0x2b0bb['textContent']=_0x334284?_0x59f4ad(0x15d):_0x59f4ad(0x178),_0x2b0bb[_0x59f4ad(0x16e)][_0x59f4ad(0x18e)]=_0x334284?'#0ff':_0x59f4ad(0x12b),_0x2775bf['textContent']=state['p1'][_0x59f4ad(0xf3)]+'\x20\x20-\x20\x20'+state['p2']['score'];if(_0x334284){let _0x5ee4b9=parseInt(localStorage[_0x59f4ad(0x151)](_0x59f4ad(0xdc))||'0');_0x5ee4b9++,localStorage[_0x59f4ad(0x161)](_0x59f4ad(0xdc),_0x5ee4b9),updateHighScoreDisplay();}_0x1097db[_0x59f4ad(0x106)][_0x59f4ad(0xf1)](_0x59f4ad(0x11d)),document[_0x59f4ad(0x144)](_0x59f4ad(0x119))[_0x59f4ad(0x106)][_0x59f4ad(0x11e)](_0x59f4ad(0x11d));}window[a0_0x3307ab(0x138)]=()=>{const _0x305a7e=a0_0x3307ab;document[_0x305a7e(0x144)](_0x305a7e(0x167))[_0x305a7e(0x106)]['add'](_0x305a7e(0x11d)),document[_0x305a7e(0x144)](_0x305a7e(0x179))['classList'][_0x305a7e(0xf1)]('hidden');},window[a0_0x3307ab(0xd2)]=()=>{const _0x2f7a64=a0_0x3307ab;state['paused']=!state[_0x2f7a64(0x185)];const _0x35025e=document['getElementById'](_0x2f7a64(0x134)),_0x9be5ac=document['getElementById'](_0x2f7a64(0x141)),_0x21e3f3=document['getElementById'](_0x2f7a64(0x12c));if(state['paused']){if(_0x9be5ac)_0x9be5ac[_0x2f7a64(0x149)]=_0x2f7a64(0xe9);if(_0x21e3f3)_0x21e3f3['style']['display']=_0x2f7a64(0xf8);_0x35025e[_0x2f7a64(0x106)][_0x2f7a64(0xf1)](_0x2f7a64(0x11d));}else _0x35025e[_0x2f7a64(0x106)][_0x2f7a64(0x11e)](_0x2f7a64(0x11d));},window[a0_0x3307ab(0xf2)]=()=>{const _0x1344c4=a0_0x3307ab;document[_0x1344c4(0x144)]('game-over-modal')['classList'][_0x1344c4(0x11e)]('hidden'),startGame(state['mode']);};function updateHighScoreDisplay(){const _0x53ea40=a0_0x3307ab,_0x2e3fed=localStorage['getItem'](_0x53ea40(0xdc))||'0',_0x3379a5=document[_0x53ea40(0x144)](_0x53ea40(0x130));if(_0x3379a5)_0x3379a5[_0x53ea40(0x149)]=_0x53ea40(0x103)+_0x2e3fed;}function checkPaddleCollision(_0x4c83c1){const _0x40b3cd=a0_0x3307ab,_0x83e145=state[_0x40b3cd(0xcb)]['x']-_0x4c83c1['x'],_0x4806a4=state[_0x40b3cd(0xcb)]['y']-_0x4c83c1['y'],_0x5e0159=Math[_0x40b3cd(0xd6)](_0x83e145*_0x83e145+_0x4806a4*_0x4806a4),_0x3e3c7b=state[_0x40b3cd(0xcb)][_0x40b3cd(0xe7)]+_0x4c83c1[_0x40b3cd(0xe7)];if(_0x5e0159<_0x3e3c7b){const _0x2812d2=Math[_0x40b3cd(0x109)](_0x4806a4,_0x83e145),_0x3f63b1=_0x3e3c7b-_0x5e0159;state['puck']['x']+=Math[_0x40b3cd(0x10d)](_0x2812d2)*_0x3f63b1,state['puck']['y']+=Math[_0x40b3cd(0x126)](_0x2812d2)*_0x3f63b1;const _0x4a3a9f=Math[_0x40b3cd(0x10d)](_0x2812d2),_0x1c0c5a=Math[_0x40b3cd(0x126)](_0x2812d2),_0x114c56=state[_0x40b3cd(0xcb)]['vx']*_0x4a3a9f+state['puck']['vy']*_0x1c0c5a;state[_0x40b3cd(0xcb)]['vx']=state[_0x40b3cd(0xcb)]['vx']-0x2*_0x114c56*_0x4a3a9f,state[_0x40b3cd(0xcb)]['vy']=state[_0x40b3cd(0xcb)]['vy']-0x2*_0x114c56*_0x1c0c5a;const _0x48cfb3=Math['sqrt'](_0x4c83c1['vx']**0x2+_0x4c83c1['vy']**0x2);_0x48cfb3>0.1?(state['puck']['vx']+=_0x4c83c1['vx']*1.5,state['puck']['vy']+=_0x4c83c1['vy']*1.5):(state[_0x40b3cd(0xcb)]['vx']*=0.8,state[_0x40b3cd(0xcb)]['vy']*=0.8);const _0x474fe3=Math[_0x40b3cd(0xd6)](state[_0x40b3cd(0xcb)]['vx']**0x2+state['puck']['vy']**0x2);_0x474fe3>state['puck'][_0x40b3cd(0xe8)]&&(state[_0x40b3cd(0xcb)]['vx']=state[_0x40b3cd(0xcb)]['vx']/_0x474fe3*state['puck'][_0x40b3cd(0xe8)],state[_0x40b3cd(0xcb)]['vy']=state[_0x40b3cd(0xcb)]['vy']/_0x474fe3*state[_0x40b3cd(0xcb)][_0x40b3cd(0xe8)]),playSound(_0x40b3cd(0x17c));}}function a0_0x1fbb(){const _0x29cd01=['width','gameCanvas','innerHeight','toString','Connected!','off','style','game-over-title','resize','arc','forEach','strokeText','close','includes','trim','connection','YOU\x20LOSE','main-menu','connect','#0ff','hit','flipped','Host\x20invalid\x20or\x20offline','medium','game-over-score','round','textBaseline','frequency','insane','paused','gain','Link\x20Copied!','min','#ffffff','left','connectToPeer','origin','22015ztqqnD','color','Saved\x20ID\x20is\x20unavailable,\x20generating\x20new\x20one...','#00ffff','input','state','3728352LPrsAq','strokeStyle','top','puckRadiusRatio','showCpuMenu','puck','destroy','clientY','toggleFlip','miterLimit','start','display','togglePause','location','local','Connection\x20Lost','sqrt','moveTo','length','startGame','stop','textAlign','tron_hockey_wins','split','difficulty','prevY','shadowBlur','shadowColor','then','connection-status','lineWidth','mode-menu','difficult','radius','maxSpeed','PAUSED','square','rgba(0,\x20255,\x20255,\x200.1)','http','mode','peer-unavailable','scorer','2256pSHaKg','remove','restartGame','score','innerWidth','game=','peer-id-input','clientWidth','block','beginPath','speed','filter','winningScore','game_over','clientX','random','cpu-menu','Ignoring\x20join\x20parameter\x20(Self\x20ID)','querySelectorAll','WINS:\x20','destination','resume','classList','online_host','height','atan2','paddleRadiusRatio','Rejected\x20extra\x20connection','reload','cos','friction','currentTime','lobby-modal','px\x20sans-serif','fill','openLobby','createOscillator','game','#103035','.diff-btn','globalAlpha','game-ui','puckMaxSpeedMultiplier','getBoundingClientRect','prevX','hidden','add','lobby-status','right','showMainMenu','preventDefault','search','none','setValueAtTime','sin','decay','1665768FxqaBE','touchmove','difficulty-select','#ff3366','resume-btn','cpu','lineJoin','online_client','highscore-display','suspended','type','abs','pause-modal','1432653SCmsHr','exponentialRampToValueAtTime','createGain','returnToMenu','#ffcc00','clearRect','bottom','Ready\x20to\x20Connect','roundRect','life','stroke','max','pause-title','wall','get','getElementById','Initializing...','connect-id-input','#fff','push','textContent','value','error','AudioContext','copyPeerId','lineTo','closeLobby','#0f0','getItem','unavailable-id','field','wallBounce','1227246dEQZxq','603105cRaair','hypot','log','event','2538944rqbilF','scores','particles','YOU\x20WIN','open','tron_hockey_peer_id','p1Won','setItem','addEventListener','#2a4d53','Connecting\x20to\x20','running','send','game-over-modal'];a0_0x1fbb=function(){return _0x29cd01;};return a0_0x1fbb();}function viewX(_0x13d673){const _0x3a54cd=a0_0x3307ab;if(state[_0x3a54cd(0x17d)])return state['field'][_0x3a54cd(0x168)]-_0x13d673;return _0x13d673;}function viewY(_0x201448){const _0x318ff9=a0_0x3307ab;if(state['flipped'])return state['field'][_0x318ff9(0x108)]-_0x201448;return _0x201448;}window[a0_0x3307ab(0xce)]=()=>{const _0x24a90d=a0_0x3307ab;state[_0x24a90d(0x17d)]=!state[_0x24a90d(0x17d)];};function draw(){const _0x431711=a0_0x3307ab;ctx[_0x431711(0x13a)](0x0,0x0,canvas[_0x431711(0x168)],canvas['height']);const _0x35c7ef=canvas['width'],_0x3237a9=canvas[_0x431711(0x108)];state['mode']===_0x431711(0x12f)&&state[_0x431711(0x17d)]===undefined&&(state[_0x431711(0x17d)]=!![]);const _0x9aec40=_0x3237a9/0x2;drawGrid(_0x35c7ef,_0x3237a9),ctx[_0x431711(0xe4)]=0x3,ctx[_0x431711(0x194)]=_0x431711(0x163),ctx['beginPath'](),ctx[_0x431711(0xd7)](0x0,_0x9aec40-0x6),ctx[_0x431711(0x14e)](_0x35c7ef,_0x9aec40-0x6),ctx[_0x431711(0x13f)](),ctx[_0x431711(0xf9)](),ctx[_0x431711(0xd7)](0x0,_0x9aec40+0x6),ctx[_0x431711(0x14e)](_0x35c7ef,_0x9aec40+0x6),ctx[_0x431711(0x13f)](),ctx[_0x431711(0x194)]='rgba(0,\x20255,\x20255,\x200.3)',ctx['shadowBlur']=0xa,ctx[_0x431711(0xe1)]=_0x431711(0x190),ctx[_0x431711(0xf9)](),ctx['arc'](_0x35c7ef/0x2,_0x9aec40,_0x35c7ef*0.22,0x0,Math['PI']*0x2),ctx[_0x431711(0x13f)](),ctx[_0x431711(0xf9)](),ctx[_0x431711(0x171)](_0x35c7ef/0x2,_0x9aec40,_0x35c7ef*0.18,0x0,Math['PI']*0x2),ctx[_0x431711(0x194)]=_0x431711(0xeb),ctx[_0x431711(0x13f)]();const _0x1a2582=_0x35c7ef*0.3;ctx['shadowBlur']=0xf,ctx[_0x431711(0xe1)]=state['p2']['color'],ctx[_0x431711(0x194)]=state['p2'][_0x431711(0x18e)],ctx['lineWidth']=0x4,ctx[_0x431711(0xf9)]();const _0x24bbbf=state[_0x431711(0x17d)],_0x9fb8ad=_0x24bbbf?state['p1'][_0x431711(0x18e)]:state['p2'][_0x431711(0x18e)],_0x2c9088=_0x24bbbf?state['p2'][_0x431711(0x18e)]:state['p1'][_0x431711(0x18e)];ctx[_0x431711(0xe1)]=_0x9fb8ad,ctx[_0x431711(0x194)]=_0x9fb8ad,ctx[_0x431711(0xf9)](),ctx[_0x431711(0x171)](_0x35c7ef/0x2,-0x3c,_0x1a2582,0x0,Math['PI'],![]),ctx[_0x431711(0x13f)](),ctx[_0x431711(0xe1)]=_0x2c9088,ctx[_0x431711(0x194)]=_0x2c9088,ctx[_0x431711(0xf9)](),ctx[_0x431711(0x171)](_0x35c7ef/0x2,_0x3237a9+0x3c,_0x1a2582,Math['PI'],0x0,![]),ctx['stroke'](),ctx['shadowBlur']=0x0,ctx['textBaseline']=_0x431711(0x195);const _0x482a11=_0x3237a9*0.08;ctx['font']='900\x20'+_0x482a11+_0x431711(0x111);const _0x4b00b1=(_0x4bc133,_0xaf5f97,_0x5aefdc,_0x1a5eca,_0x579f0f)=>{const _0x101668=_0x431711;ctx[_0x101668(0x182)]=_0x579f0f,ctx[_0x101668(0x12e)]=_0x101668(0x181),ctx[_0x101668(0xcf)]=0x2,ctx[_0x101668(0x194)]=_0x1a5eca,ctx['lineWidth']=0x4,ctx[_0x101668(0xdb)]=_0x101668(0x120),ctx[_0x101668(0x173)](_0x4bc133,_0xaf5f97,_0x5aefdc);},_0x168f42=_0x24bbbf?state['p1']['score']:state['p2'][_0x431711(0xf3)],_0xfa4366=_0x24bbbf?state['p2'][_0x431711(0xf3)]:state['p1'][_0x431711(0xf3)];_0x4b00b1(_0x168f42[_0x431711(0x16b)](),_0x35c7ef-0x19,0x19,_0x9fb8ad,_0x431711(0x195)),_0x4b00b1(_0xfa4366['toString'](),_0x35c7ef-0x19,_0x3237a9-0x19,_0x2c9088,_0x431711(0x13b)),drawPaddle(state['p1']),drawPaddle(state['p2']),drawPuck(state[_0x431711(0xcb)]),state[_0x431711(0x15c)][_0x431711(0x172)](_0x19cd3d=>{const _0x2427cf=_0x431711;ctx[_0x2427cf(0x118)]=_0x19cd3d['life']>0x0?_0x19cd3d[_0x2427cf(0x13e)]:0x0,ctx['fillStyle']=_0x19cd3d[_0x2427cf(0x18e)],ctx[_0x2427cf(0xf9)](),ctx[_0x2427cf(0x171)](viewX(_0x19cd3d['x']),viewY(_0x19cd3d['y']),0x4,0x0,Math['PI']*0x2),ctx[_0x2427cf(0x112)](),ctx[_0x2427cf(0x118)]=0x1;}),requestAnimationFrame(draw);}function drawGrid(_0x265b00,_0x2f64ad){const _0xb671d1=a0_0x3307ab,_0x3d584b=0x5,_0x37cfff=0x9,_0xbd8ade=_0x265b00/_0x3d584b,_0x1a374e=_0x2f64ad/_0x37cfff,_0x5565fb=0x5;ctx[_0xb671d1(0x194)]=_0xb671d1(0x116),ctx[_0xb671d1(0xe4)]=0x2,ctx[_0xb671d1(0xe0)]=0x0;for(let _0x14dc56=0x0;_0x14dc56<_0x37cfff;_0x14dc56++){for(let _0x799607=0x0;_0x799607<_0x3d584b;_0x799607++){const _0x1ce091=_0x799607*_0xbd8ade+_0x5565fb,_0x34588f=_0x14dc56*_0x1a374e+_0x5565fb,_0x1cb958=_0xbd8ade-_0x5565fb*0x2,_0x5a3348=_0x1a374e-_0x5565fb*0x2;ctx[_0xb671d1(0xf9)](),ctx[_0xb671d1(0x13d)](_0x1ce091,_0x34588f,_0x1cb958,_0x5a3348,0xc),ctx[_0xb671d1(0x13f)]();}}}function drawPaddle(_0x4b474f){const _0x5da31a=a0_0x3307ab,_0xa38e68=viewX(_0x4b474f['x']),_0x39ffa1=viewY(_0x4b474f['y']),_0x5c276a=_0x4b474f[_0x5da31a(0xe7)],_0x268d4e=_0x4b474f[_0x5da31a(0x18e)];ctx[_0x5da31a(0xe0)]=0xf,ctx[_0x5da31a(0xe1)]=_0x268d4e,_0x268d4e==='#ffffff'?(ctx[_0x5da31a(0xe4)]=0x5,ctx[_0x5da31a(0x194)]=_0x5da31a(0x147),ctx[_0x5da31a(0xf9)](),ctx['arc'](_0xa38e68,_0x39ffa1,_0x5c276a,0x0,Math['PI']*0x2),ctx[_0x5da31a(0x13f)](),ctx[_0x5da31a(0xe4)]=0x2,ctx[_0x5da31a(0x194)]='#555',ctx[_0x5da31a(0xf9)](),ctx[_0x5da31a(0x171)](_0xa38e68,_0x39ffa1,Math['max'](0x0,_0x5c276a-0x6),0x0,Math['PI']*0x2),ctx['stroke']()):(ctx[_0x5da31a(0xe4)]=0x4,ctx[_0x5da31a(0x194)]=_0x268d4e,ctx[_0x5da31a(0xf9)](),ctx[_0x5da31a(0x171)](_0xa38e68,_0x39ffa1,_0x5c276a,0x0,Math['PI']*0x2),ctx[_0x5da31a(0x13f)](),ctx[_0x5da31a(0xf9)](),ctx[_0x5da31a(0x171)](_0xa38e68,_0x39ffa1,Math[_0x5da31a(0x140)](0x0,_0x5c276a-0x8),0x0,Math['PI']*0x2),ctx['stroke']()),ctx['shadowBlur']=0x0;}function drawPuck(_0x575252){const _0x5a9b1c=a0_0x3307ab,_0x14620e=viewX(_0x575252['x']),_0x4aa653=viewY(_0x575252['y']),_0x3b1b6c=_0x575252[_0x5a9b1c(0xe7)];ctx[_0x5a9b1c(0xe0)]=0xf,ctx[_0x5a9b1c(0xe1)]='#0ff',ctx[_0x5a9b1c(0x194)]=_0x5a9b1c(0x17b),ctx[_0x5a9b1c(0xe4)]=0x5,ctx[_0x5a9b1c(0xf9)](),ctx[_0x5a9b1c(0x171)](_0x14620e,_0x4aa653,_0x3b1b6c,Math['PI'],1.5*Math['PI']-0.5),ctx['stroke'](),ctx['beginPath'](),ctx[_0x5a9b1c(0x171)](_0x14620e,_0x4aa653,_0x3b1b6c,1.5*Math['PI']+0.5,0x0),ctx[_0x5a9b1c(0x13f)](),ctx[_0x5a9b1c(0xf9)](),ctx[_0x5a9b1c(0x171)](_0x14620e,_0x4aa653,_0x3b1b6c,0x0+0.5,0.5*Math['PI']),ctx[_0x5a9b1c(0x13f)](),ctx['beginPath'](),ctx[_0x5a9b1c(0x171)](_0x14620e,_0x4aa653,_0x3b1b6c,0.5*Math['PI']+0.5,Math['PI']),ctx['stroke'](),ctx[_0x5a9b1c(0xe4)]=0x3,ctx[_0x5a9b1c(0xf9)]();const _0x3c9b33=0x6;ctx['moveTo'](_0x14620e,_0x4aa653-_0x3b1b6c+_0x3c9b33),ctx['lineTo'](_0x14620e,_0x4aa653-_0x3b1b6c-0x4),ctx[_0x5a9b1c(0xd7)](_0x14620e,_0x4aa653+_0x3b1b6c-_0x3c9b33),ctx[_0x5a9b1c(0x14e)](_0x14620e,_0x4aa653+_0x3b1b6c+0x4),ctx[_0x5a9b1c(0xd7)](_0x14620e-_0x3b1b6c+_0x3c9b33,_0x4aa653),ctx[_0x5a9b1c(0x14e)](_0x14620e-_0x3b1b6c-0x4,_0x4aa653),ctx[_0x5a9b1c(0xd7)](_0x14620e+_0x3b1b6c+_0x3c9b33,_0x4aa653),ctx[_0x5a9b1c(0x14e)](_0x14620e+_0x3b1b6c+0x4,_0x4aa653),ctx[_0x5a9b1c(0x13f)](),ctx[_0x5a9b1c(0xe1)]='#ffcc00',ctx[_0x5a9b1c(0x194)]=_0x5a9b1c(0x139),ctx[_0x5a9b1c(0xe4)]=0x4,ctx[_0x5a9b1c(0xf9)](),ctx[_0x5a9b1c(0x171)](_0x14620e,_0x4aa653,_0x3b1b6c*0.5,0x0,Math['PI']*0x2),ctx['stroke'](),ctx[_0x5a9b1c(0xe0)]=0x0;}function handleInput(_0x31705e,_0x5def1a,_0x22b8db){const _0x4afd2a=a0_0x3307ab;if(!state[_0x4afd2a(0x165)])return;let _0x492d32;if(state['mode']===_0x4afd2a(0x12f))_0x492d32=state['p2'];else state[_0x4afd2a(0xed)]===_0x4afd2a(0x107)||state[_0x4afd2a(0xed)]===_0x4afd2a(0x12d)?_0x492d32=state['p1']:_0x492d32=_0x22b8db?state['p1']:state['p2'];const _0x1a0a68=_0x492d32===state['p1'],_0x5c9abb=_0x1a0a68?state[_0x4afd2a(0x153)][_0x4afd2a(0x108)]/0x2+_0x492d32['radius']:_0x492d32[_0x4afd2a(0xe7)],_0x1314fe=_0x1a0a68?state[_0x4afd2a(0x153)]['height']-_0x492d32[_0x4afd2a(0xe7)]:state[_0x4afd2a(0x153)][_0x4afd2a(0x108)]/0x2-_0x492d32[_0x4afd2a(0xe7)];_0x492d32['x']=Math[_0x4afd2a(0x140)](_0x492d32[_0x4afd2a(0xe7)],Math[_0x4afd2a(0x188)](state[_0x4afd2a(0x153)][_0x4afd2a(0x168)]-_0x492d32[_0x4afd2a(0xe7)],_0x31705e)),_0x492d32['y']=Math[_0x4afd2a(0x140)](_0x5c9abb,Math[_0x4afd2a(0x188)](_0x1314fe,_0x5def1a));}canvas[a0_0x3307ab(0x162)]('pointermove',_0x54f79c=>{const _0x2674bb=a0_0x3307ab;_0x54f79c[_0x2674bb(0x122)]();if(state[_0x2674bb(0x185)])return;const _0x53cfbe=canvas[_0x2674bb(0x11b)]();let _0x2a63ae=_0x54f79c[_0x2674bb(0xfe)]-_0x53cfbe[_0x2674bb(0x18a)],_0x39f3ab=_0x54f79c[_0x2674bb(0xcd)]-_0x53cfbe[_0x2674bb(0x195)];state['flipped']&&(_0x2a63ae=state['field'][_0x2674bb(0x168)]-_0x2a63ae,_0x39f3ab=state['field']['height']-_0x39f3ab),handleInput(_0x2a63ae,_0x39f3ab,!![]);}),canvas[a0_0x3307ab(0x162)](a0_0x3307ab(0x129),_0x4e0fca=>{const _0x5daac7=a0_0x3307ab;_0x4e0fca['preventDefault']();if(state[_0x5daac7(0x185)])return;const _0x557b4e=canvas[_0x5daac7(0x11b)]();for(let _0x219fab=0x0;_0x219fab<_0x4e0fca['touches'][_0x5daac7(0xd8)];_0x219fab++){const _0x98f6e3=_0x4e0fca['touches'][_0x219fab];let _0x1e0d52=_0x98f6e3[_0x5daac7(0xfe)]-_0x557b4e[_0x5daac7(0x18a)],_0x8c1d6a=_0x98f6e3[_0x5daac7(0xcd)]-_0x557b4e[_0x5daac7(0x195)];state[_0x5daac7(0x17d)]&&(_0x1e0d52=state[_0x5daac7(0x153)][_0x5daac7(0x168)]-_0x1e0d52,_0x8c1d6a=state['field'][_0x5daac7(0x108)]-_0x8c1d6a);if(state[_0x5daac7(0xed)]===_0x5daac7(0xd4)){if(_0x8c1d6a>state[_0x5daac7(0x153)][_0x5daac7(0x108)]/0x2)handleInput(_0x1e0d52,_0x8c1d6a,!![]);else handleInput(_0x1e0d52,_0x8c1d6a,![]);}else handleInput(_0x1e0d52,_0x8c1d6a,!![]);}},{'passive':![]});const updateLoop=setInterval(update,0x3e8/0x3c);requestAnimationFrame(draw),window[a0_0x3307ab(0xd9)]=_0xe1a3c5=>{const _0x199979=a0_0x3307ab;state[_0x199979(0xed)]=_0xe1a3c5,state[_0x199979(0xde)]=document['getElementById'](_0x199979(0x12a))[_0x199979(0x14a)],state[_0x199979(0x165)]=!![],state['p1']['score']=0x0,state['p2']['score']=0x0,resize(),resetPositions(),document['getElementById']('main-menu')[_0x199979(0x106)]['add']('hidden'),document[_0x199979(0x144)](_0x199979(0x119))['classList'][_0x199979(0xf1)]('hidden');if(audioCtx[_0x199979(0x192)]===_0x199979(0x131))audioCtx[_0x199979(0x105)]();},window['selectDiff']=(_0x35a436,_0xb184c)=>{const _0x125b9d=a0_0x3307ab;document[_0x125b9d(0x144)](_0x125b9d(0x12a))[_0x125b9d(0x14a)]=_0x35a436;const _0x12265c=document[_0x125b9d(0x102)](_0x125b9d(0x117));_0x12265c['forEach'](_0x256e3e=>_0x256e3e[_0x125b9d(0x106)][_0x125b9d(0xf1)]('active')),_0xb184c[_0x125b9d(0x106)][_0x125b9d(0x11e)]('active');},window[a0_0x3307ab(0x162)](a0_0x3307ab(0x170),resize),setTimeout(()=>{resize(),resetPositions(),updateHighScoreDisplay();},0x64);