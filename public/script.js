const a0_0x301637=a0_0x3d7a;(function(_0x19a310,_0x4f9524){const _0x272e92=a0_0x3d7a,_0xdba788=_0x19a310();while(!![]){try{const _0x5cf560=parseInt(_0x272e92(0x1ba))/0x1*(parseInt(_0x272e92(0x1ce))/0x2)+-parseInt(_0x272e92(0x1cf))/0x3*(parseInt(_0x272e92(0x207))/0x4)+-parseInt(_0x272e92(0x1d2))/0x5*(-parseInt(_0x272e92(0x1bb))/0x6)+-parseInt(_0x272e92(0x16b))/0x7*(parseInt(_0x272e92(0x182))/0x8)+-parseInt(_0x272e92(0x1c0))/0x9*(parseInt(_0x272e92(0x145))/0xa)+parseInt(_0x272e92(0x206))/0xb*(parseInt(_0x272e92(0x196))/0xc)+parseInt(_0x272e92(0x191))/0xd;if(_0x5cf560===_0x4f9524)break;else _0xdba788['push'](_0xdba788['shift']());}catch(_0x5ee252){_0xdba788['push'](_0xdba788['shift']());}}}(a0_0x10ef,0xe2c5f));const canvas=document['getElementById'](a0_0x301637(0x1bd)),ctx=canvas[a0_0x301637(0x21b)]('2d'),state={'running':![],'paused':![],'mode':a0_0x301637(0x14c),'difficulty':'medium','p1':{'score':0x0,'x':0x0,'y':0x0,'prevX':0x0,'prevY':0x0,'vx':0x0,'vy':0x0,'radius':0x0,'color':a0_0x301637(0x221)},'p2':{'score':0x0,'x':0x0,'y':0x0,'prevX':0x0,'prevY':0x0,'vx':0x0,'vy':0x0,'radius':0x0,'color':a0_0x301637(0x1de)},'puck':{'x':0x0,'y':0x0,'vx':0x0,'vy':0x0,'radius':0x0,'speed':0x0,'maxSpeed':0x0},'field':{'width':0x0,'height':0x0},'particles':[]},CONFIG={'friction':0.992,'wallBounce':0.9,'puckMaxSpeedMultiplier':0.04,'paddleRadiusRatio':0.08,'puckRadiusRatio':0.04,'winningScore':0x7},DIFFICULTIES={'medium':{'speed':0.09,'reaction':0.1,'error':0x1e},'difficult':{'speed':0.15,'reaction':0.05,'error':0xa},'insane':{'speed':0.35,'reaction':0.01,'error':0x0}},AudioContext=window[a0_0x301637(0x1fc)]||window[a0_0x301637(0x156)],audioCtx=new AudioContext();function playSound(_0x278d9f){const _0x403980=a0_0x301637;if(audioCtx['state']===_0x403980(0x160))audioCtx[_0x403980(0x21e)]();const _0x17d0d7=audioCtx[_0x403980(0x167)](),_0xfda5c2=audioCtx[_0x403980(0x1e7)]();_0x17d0d7[_0x403980(0x143)](_0xfda5c2),_0xfda5c2[_0x403980(0x143)](audioCtx[_0x403980(0x164)]);const _0x31c176=audioCtx[_0x403980(0x16e)];if(_0x278d9f===_0x403980(0x1ff))_0x17d0d7[_0x403980(0x1f8)][_0x403980(0x16c)](0x190,_0x31c176),_0x17d0d7[_0x403980(0x1f8)]['exponentialRampToValueAtTime'](0x64,_0x31c176+0.1),_0xfda5c2[_0x403980(0x187)][_0x403980(0x16c)](0.3,_0x31c176),_0xfda5c2[_0x403980(0x187)][_0x403980(0x211)](0.01,_0x31c176+0.1),_0x17d0d7[_0x403980(0x1da)](_0x31c176),_0x17d0d7[_0x403980(0x1c6)](_0x31c176+0.1);else{if(_0x278d9f===_0x403980(0x1f4))_0x17d0d7[_0x403980(0x1f8)][_0x403980(0x16c)](0xc8,_0x31c176),_0x17d0d7[_0x403980(0x1f8)]['exponentialRampToValueAtTime'](0x32,_0x31c176+0.1),_0xfda5c2[_0x403980(0x187)][_0x403980(0x16c)](0.2,_0x31c176),_0xfda5c2['gain'][_0x403980(0x211)](0.01,_0x31c176+0.1),_0x17d0d7['start'](_0x31c176),_0x17d0d7[_0x403980(0x1c6)](_0x31c176+0.1);else _0x278d9f===_0x403980(0x205)&&(_0x17d0d7[_0x403980(0x1f1)]=_0x403980(0x1ee),_0x17d0d7[_0x403980(0x1f8)]['setValueAtTime'](0x258,_0x31c176),_0x17d0d7[_0x403980(0x1f8)][_0x403980(0x16c)](0x320,_0x31c176+0.1),_0x17d0d7['frequency'][_0x403980(0x16c)](0x190,_0x31c176+0.2),_0xfda5c2[_0x403980(0x187)][_0x403980(0x16c)](0.3,_0x31c176),_0xfda5c2[_0x403980(0x187)][_0x403980(0x211)](0.01,_0x31c176+0.6),_0x17d0d7[_0x403980(0x1da)](_0x31c176),_0x17d0d7[_0x403980(0x1c6)](_0x31c176+0.6));}}function resize(){const _0x11ff2e=a0_0x301637,_0x1f1d6a=document[_0x11ff2e(0x1d0)](_0x11ff2e(0x1a2)),_0x50eafc=canvas[_0x11ff2e(0x21f)]||0xa,_0x5ce354=canvas[_0x11ff2e(0x213)]||0xa;canvas[_0x11ff2e(0x21f)]=_0x1f1d6a[_0x11ff2e(0x1af)]||window[_0x11ff2e(0x226)],canvas[_0x11ff2e(0x213)]=_0x1f1d6a[_0x11ff2e(0x193)]||window[_0x11ff2e(0x222)];const _0x5822ba=canvas[_0x11ff2e(0x21f)]/_0x50eafc,_0x3ca4e2=canvas[_0x11ff2e(0x213)]/_0x5ce354;state[_0x11ff2e(0x1c2)][_0x11ff2e(0x21f)]=canvas[_0x11ff2e(0x21f)],state[_0x11ff2e(0x1c2)]['height']=canvas[_0x11ff2e(0x213)];const _0x53d757=Math[_0x11ff2e(0x1ca)](canvas[_0x11ff2e(0x21f)],canvas[_0x11ff2e(0x213)]);state['p1'][_0x11ff2e(0x20d)]=_0x53d757*CONFIG[_0x11ff2e(0x1a5)],state['p2'][_0x11ff2e(0x20d)]=_0x53d757*CONFIG[_0x11ff2e(0x1a5)],state[_0x11ff2e(0x212)][_0x11ff2e(0x20d)]=_0x53d757*CONFIG[_0x11ff2e(0x224)],state[_0x11ff2e(0x212)][_0x11ff2e(0x186)]=canvas[_0x11ff2e(0x213)]*CONFIG[_0x11ff2e(0x1a8)],state[_0x11ff2e(0x1e9)]&&_0x50eafc>0xa?(state['p1']['x']*=_0x5822ba,state['p1']['y']*=_0x3ca4e2,state['p1'][_0x11ff2e(0x1aa)]*=_0x5822ba,state['p1'][_0x11ff2e(0x170)]*=_0x3ca4e2,state['p2']['x']*=_0x5822ba,state['p2']['y']*=_0x3ca4e2,state['p2'][_0x11ff2e(0x1aa)]*=_0x5822ba,state['p2'][_0x11ff2e(0x170)]*=_0x3ca4e2,state[_0x11ff2e(0x212)]['x']*=_0x5822ba,state['puck']['y']*=_0x3ca4e2):resetPositions();}function resetPositions(){const _0xe60524=a0_0x301637;state[_0xe60524(0x212)]['x']=state[_0xe60524(0x1c2)][_0xe60524(0x21f)]/0x2,state['puck']['y']=state[_0xe60524(0x1c2)][_0xe60524(0x213)]/0x2,state['puck']['vx']=0x0,state[_0xe60524(0x212)]['vy']=0x0,state['p1']['x']=state['field'][_0xe60524(0x21f)]/0x2,state['p1']['y']=state[_0xe60524(0x1c2)][_0xe60524(0x213)]-state[_0xe60524(0x1c2)]['height']*0.15,state['p1'][_0xe60524(0x1aa)]=state['p1']['x'],state['p1'][_0xe60524(0x170)]=state['p1']['y'],state['p2']['x']=state[_0xe60524(0x1c2)]['width']/0x2,state['p2']['y']=state['field']['height']*0.15,state['p2']['prevX']=state['p2']['x'],state['p2'][_0xe60524(0x170)]=state['p2']['y'];}function spawnParticles(_0x523b18,_0xf45fdd,_0x42a127){const _0x6391a8=a0_0x301637;for(let _0x239ea1=0x0;_0x239ea1<0x28;_0x239ea1++){const _0x4ce120=Math[_0x6391a8(0x183)]()*0xf+0x5,_0x25b3f4=Math[_0x6391a8(0x183)]()*Math['PI']*0x2;state[_0x6391a8(0x17f)][_0x6391a8(0x1c5)]({'x':_0x523b18,'y':_0xf45fdd,'vx':Math[_0x6391a8(0x1e4)](_0x25b3f4)*_0x4ce120,'vy':Math[_0x6391a8(0x154)](_0x25b3f4)*_0x4ce120,'life':0x1,'decay':Math[_0x6391a8(0x183)]()*0.03+0.01,'color':_0x42a127});}for(let _0x3cecf1=0x0;_0x3cecf1<0x14;_0x3cecf1++){const _0x7e93ff=Math['PI']*0x2*_0x3cecf1/0x14;state[_0x6391a8(0x17f)]['push']({'x':_0x523b18,'y':_0xf45fdd,'vx':Math[_0x6391a8(0x1e4)](_0x7e93ff)*0xa,'vy':Math['sin'](_0x7e93ff)*0xa,'life':0x1,'decay':0.05,'color':_0x6391a8(0x166)});}}function predictPuckX(_0x2210d2,_0x116d2e,_0x175425){if(_0x2210d2['vy']===0x0)return _0x2210d2['x'];const _0x375de4=(_0x116d2e-_0x2210d2['y'])/_0x2210d2['vy'];if(_0x375de4<0x0)return _0x175425/0x2;let _0x531781=_0x2210d2['x']+_0x2210d2['vx']*_0x375de4;const _0x35a1c8=_0x175425;while(_0x531781<0x0||_0x531781>_0x35a1c8){if(_0x531781<0x0)_0x531781=-_0x531781;else _0x531781>_0x35a1c8&&(_0x531781=0x2*_0x35a1c8-_0x531781);}return _0x531781;}let peer=null,conn=null,myPeerId=null,isHost=![];function initPeer(){const _0x38ecd1=a0_0x301637;if(peer)return;document[_0x38ecd1(0x1d0)](_0x38ecd1(0x208))[_0x38ecd1(0x1a6)]=_0x38ecd1(0x151);let _0x58b1b9=localStorage['getItem'](_0x38ecd1(0x171));setupPeer(_0x58b1b9);}function setupPeer(_0x25dad1=null){const _0x400c5b=a0_0x301637;if(peer)peer['destroy']();const _0x3f83e8={'debug':0x1};peer=_0x25dad1?new Peer(_0x25dad1,_0x3f83e8):new Peer(null,_0x3f83e8),peer['on']('open',_0x48506b=>{const _0x350a8b=a0_0x3d7a;myPeerId=_0x48506b,localStorage[_0x350a8b(0x1c4)](_0x350a8b(0x171),_0x48506b);const _0x5e1433=document['getElementById']('peer-id-input');if(_0x5e1433)_0x5e1433[_0x350a8b(0x150)]=_0x48506b;const _0x18cc82=document['getElementById']('lobby-status');if(_0x18cc82)_0x18cc82[_0x350a8b(0x1a6)]=_0x350a8b(0x1ec);const _0x26910b=new URLSearchParams(window[_0x350a8b(0x1d3)][_0x350a8b(0x190)]);let _0x3a3f55=_0x26910b[_0x350a8b(0x176)]('game');if(_0x3a3f55&&!state[_0x350a8b(0x1e9)]){if(_0x3a3f55===myPeerId){console[_0x350a8b(0x1c7)]('Ignoring\x20join\x20parameter\x20(Self\x20ID)');return;}_0x3a3f55['includes']('game=')&&(_0x3a3f55=_0x3a3f55[_0x350a8b(0x1cb)](_0x350a8b(0x198))[0x1]['split']('&')[0x0]),openLobby(),document[_0x350a8b(0x1d0)]('connect-id-input')['value']=_0x3a3f55,setTimeout(connectToPeer,0x1f4);}}),peer['on'](_0x400c5b(0x1ae),_0x36d995=>{const _0x2d0f4b=_0x400c5b;if(_0x36d995[_0x2d0f4b(0x1f1)]===_0x2d0f4b(0x148)){console['warn'](_0x2d0f4b(0x1e5)),setupPeer(null);return;}if(_0x36d995[_0x2d0f4b(0x1f1)]==='peer-unavailable'){alert(_0x2d0f4b(0x1ea)),document[_0x2d0f4b(0x1d0)](_0x2d0f4b(0x219))[_0x2d0f4b(0x1a6)]=_0x2d0f4b(0x144);if(conn)conn[_0x2d0f4b(0x165)]();return;}const _0x57b6f3=document[_0x2d0f4b(0x1d0)](_0x2d0f4b(0x219));if(_0x57b6f3)_0x57b6f3[_0x2d0f4b(0x1a6)]=_0x2d0f4b(0x168)+_0x36d995[_0x2d0f4b(0x1f1)];console[_0x2d0f4b(0x1ae)]('PeerJS\x20Error:',_0x36d995);}),peer['on'](_0x400c5b(0x216),_0x23eafd=>{const _0x23d00e=_0x400c5b;if(conn&&conn[_0x23d00e(0x204)]){_0x23eafd[_0x23d00e(0x165)](),console[_0x23d00e(0x1c7)](_0x23d00e(0x180));return;}if(conn)conn[_0x23d00e(0x165)]();conn=_0x23eafd,isHost=!![],setupConnection();});}function setupConnection(){const _0x16d2d9=a0_0x301637;conn[_0x16d2d9(0x22d)](_0x16d2d9(0x204)),conn[_0x16d2d9(0x22d)](_0x16d2d9(0x1e2)),conn[_0x16d2d9(0x22d)](_0x16d2d9(0x165)),conn['on']('open',()=>{const _0x4f4a85=_0x16d2d9;document[_0x4f4a85(0x1d0)]('connection-status')[_0x4f4a85(0x1a6)]='Connected!',document[_0x4f4a85(0x1d0)](_0x4f4a85(0x219))['style'][_0x4f4a85(0x21a)]=_0x4f4a85(0x1d4),setTimeout(()=>{const _0x17bf0c=_0x4f4a85;document[_0x17bf0c(0x1d0)]('lobby-modal')['classList'][_0x17bf0c(0x1d6)](_0x17bf0c(0x1bf)),startGame(isHost?_0x17bf0c(0x19a):_0x17bf0c(0x17d));},0x3e8);}),conn['on']('data',_0x2fefdc=>{handleData(_0x2fefdc);}),conn['on'](_0x16d2d9(0x165),()=>{const _0x33a7d2=_0x16d2d9;stopGame();const _0x12d987=document[_0x33a7d2(0x1d0)](_0x33a7d2(0x17a)),_0x9410ec=document[_0x33a7d2(0x1d0)](_0x33a7d2(0x1f9)),_0x3d1bf7=document[_0x33a7d2(0x1d0)](_0x33a7d2(0x1e6));_0x12d987&&_0x9410ec&&_0x3d1bf7?(_0x9410ec[_0x33a7d2(0x1a6)]=_0x33a7d2(0x210),_0x3d1bf7[_0x33a7d2(0x1c1)][_0x33a7d2(0x1f6)]=_0x33a7d2(0x1df),_0x12d987['classList'][_0x33a7d2(0x16f)](_0x33a7d2(0x1bf))):(alert(_0x33a7d2(0x210)),location[_0x33a7d2(0x22c)]());}),conn['on']('error',_0x377565=>{const _0x188259=_0x16d2d9;console[_0x188259(0x1ae)](_0x188259(0x229),_0x377565);});}function handleData(_0x142959){const _0x4e6412=a0_0x301637;if(state[_0x4e6412(0x203)]==='online_host')_0x142959[_0x4e6412(0x1f1)]===_0x4e6412(0x173)&&(_0x142959['y']<state[_0x4e6412(0x1c2)][_0x4e6412(0x213)]/0x2&&(state['p2']['x']=_0x142959['x'],state['p2']['y']=_0x142959['y']));else{if(state[_0x4e6412(0x203)]==='online_client'){if(_0x142959[_0x4e6412(0x1f1)]===_0x4e6412(0x195)){state['p1']['x']=_0x142959['p1']['x'],state['p1']['y']=_0x142959['p1']['y'],state['p2']['x']=_0x142959['p2']['x'],state['p2']['y']=_0x142959['p2']['y'],state['p1'][_0x4e6412(0x205)]=_0x142959[_0x4e6412(0x141)]['p1'],state['p2'][_0x4e6412(0x205)]=_0x142959[_0x4e6412(0x141)]['p2'],state[_0x4e6412(0x212)]['x']=_0x142959[_0x4e6412(0x212)]['x'],state[_0x4e6412(0x212)]['y']=_0x142959[_0x4e6412(0x212)]['y'],state[_0x4e6412(0x212)]['vx']=_0x142959[_0x4e6412(0x212)]['vx'],state[_0x4e6412(0x212)]['vy']=_0x142959[_0x4e6412(0x212)]['vy'];if(_0x142959[_0x4e6412(0x220)]){if(_0x142959[_0x4e6412(0x220)]==='score')handleGoal(_0x142959[_0x4e6412(0x15f)],!![]);else{if(_0x142959[_0x4e6412(0x220)]===_0x4e6412(0x1ff))playSound(_0x4e6412(0x1ff));else _0x142959['event']===_0x4e6412(0x1f4)&&playSound(_0x4e6412(0x1f4));}}}_0x142959[_0x4e6412(0x1f1)]===_0x4e6412(0x1dd)&&endGame(_0x142959[_0x4e6412(0x18d)]);}}}window[a0_0x301637(0x152)]=()=>{const _0x441c3f=a0_0x301637;if(!navigator[_0x441c3f(0x1b1)]){document['getElementById'](_0x441c3f(0x1fe))[_0x441c3f(0x18f)][_0x441c3f(0x16f)](_0x441c3f(0x1bf));return;}document[_0x441c3f(0x1d0)](_0x441c3f(0x201))[_0x441c3f(0x18f)][_0x441c3f(0x1d6)](_0x441c3f(0x1bf)),document[_0x441c3f(0x1d0)](_0x441c3f(0x163))[_0x441c3f(0x18f)]['remove'](_0x441c3f(0x1bf)),initPeer();},window[a0_0x301637(0x214)]=()=>{const _0x1ef2d1=a0_0x301637;document[_0x1ef2d1(0x1d0)]('lobby-modal')[_0x1ef2d1(0x18f)][_0x1ef2d1(0x1d6)](_0x1ef2d1(0x1bf)),document[_0x1ef2d1(0x1d0)](_0x1ef2d1(0x201))[_0x1ef2d1(0x18f)][_0x1ef2d1(0x16f)](_0x1ef2d1(0x1bf));},window[a0_0x301637(0x1b0)]=()=>{const _0x281c9c=a0_0x301637;document[_0x281c9c(0x1d0)]('mode-menu')[_0x281c9c(0x18f)][_0x281c9c(0x1d6)](_0x281c9c(0x1bf)),document['getElementById'](_0x281c9c(0x1b9))[_0x281c9c(0x18f)][_0x281c9c(0x16f)](_0x281c9c(0x1bf));},window[a0_0x301637(0x1db)]=()=>{const _0x7f55aa=a0_0x301637;document[_0x7f55aa(0x1d0)]('cpu-menu')['classList'][_0x7f55aa(0x1d6)](_0x7f55aa(0x1bf)),document['getElementById']('mode-menu')['classList'][_0x7f55aa(0x16f)](_0x7f55aa(0x1bf));},window[a0_0x301637(0x1f2)]=()=>{const _0x29f42b=a0_0x301637,_0xc0024=document[_0x29f42b(0x1d0)]('peer-id-input')[_0x29f42b(0x150)];navigator[_0x29f42b(0x1c8)][_0x29f42b(0x1a3)](_0xc0024)[_0x29f42b(0x1b5)](()=>{const _0x56dcba=_0x29f42b;document[_0x56dcba(0x1d0)](_0x56dcba(0x208))[_0x56dcba(0x1a6)]='ID\x20Copied!',setTimeout(()=>document[_0x56dcba(0x1d0)](_0x56dcba(0x208))[_0x56dcba(0x1a6)]='Ready\x20to\x20Connect',0x7d0);});},window[a0_0x301637(0x1b2)]=()=>{const _0x3a2dbe=a0_0x301637;let _0x1cad44=document[_0x3a2dbe(0x1d0)](_0x3a2dbe(0x153))[_0x3a2dbe(0x150)][_0x3a2dbe(0x1a4)]();if(!_0x1cad44)return;if(_0x1cad44[_0x3a2dbe(0x14e)](_0x3a2dbe(0x228))||_0x1cad44[_0x3a2dbe(0x14e)]('game='))try{_0x1cad44[_0x3a2dbe(0x14e)]('game=')&&(_0x1cad44=_0x1cad44['split'](_0x3a2dbe(0x198))[0x1][_0x3a2dbe(0x1cb)]('&')[0x0]);}catch(_0x4c08dc){console[_0x3a2dbe(0x1c7)](_0x3a2dbe(0x1bc),_0x4c08dc);}conn&&conn['close'](),document[_0x3a2dbe(0x1d0)]('connection-status')[_0x3a2dbe(0x1a6)]=_0x3a2dbe(0x1a7)+_0x1cad44+_0x3a2dbe(0x15a),conn=peer['connect'](_0x1cad44),isHost=![],setupConnection();};function update(){const _0x1e0e43=a0_0x301637;state['p1']['vx']=state['p1']['x']-state['p1']['prevX'],state['p1']['vy']=state['p1']['y']-state['p1']['prevY'],state['p1'][_0x1e0e43(0x1aa)]=state['p1']['x'],state['p1']['prevY']=state['p1']['y'],state['p2']['vx']=state['p2']['x']-state['p2']['prevX'],state['p2']['vy']=state['p2']['y']-state['p2']['prevY'],state['p2'][_0x1e0e43(0x1aa)]=state['p2']['x'],state['p2']['prevY']=state['p2']['y'];if(!state[_0x1e0e43(0x1e9)]||state[_0x1e0e43(0x1b7)])return;if(state[_0x1e0e43(0x203)]===_0x1e0e43(0x17d)){conn&&conn[_0x1e0e43(0x204)]&&conn['send']({'type':_0x1e0e43(0x173),'x':state['p2']['x'],'y':state['p2']['y']});state['particles'][_0x1e0e43(0x22a)](_0x65ba88=>{const _0x5c9a1d=_0x1e0e43;_0x65ba88['x']+=_0x65ba88['vx'],_0x65ba88['y']+=_0x65ba88['vy'],_0x65ba88[_0x5c9a1d(0x1dc)]-=_0x65ba88['decay'];}),state[_0x1e0e43(0x17f)]=state[_0x1e0e43(0x17f)][_0x1e0e43(0x20e)](_0x41eee0=>_0x41eee0[_0x1e0e43(0x1dc)]>0x0);return;}if(state[_0x1e0e43(0x203)]===_0x1e0e43(0x14c)){const _0x3cf64d=DIFFICULTIES[state[_0x1e0e43(0x14f)]]||DIFFICULTIES[_0x1e0e43(0x14a)];let _0xe462d7=state['puck']['x'],_0x547db2=state[_0x1e0e43(0x1c2)][_0x1e0e43(0x213)]*0.12;state['puck']['vy']<0x0?_0xe462d7=predictPuckX(state[_0x1e0e43(0x212)],_0x547db2,state[_0x1e0e43(0x1c2)]['width']):_0xe462d7=state[_0x1e0e43(0x1c2)][_0x1e0e43(0x21f)]/0x2;let _0x467818=![];if(state[_0x1e0e43(0x14f)]===_0x1e0e43(0x1b4)){if(state[_0x1e0e43(0x212)]['y']<state[_0x1e0e43(0x1c2)][_0x1e0e43(0x213)]*0.45&&state[_0x1e0e43(0x212)]['y']>state['p2']['y'])_0x467818=!![],_0xe462d7=state['puck']['x'],_0x547db2=state[_0x1e0e43(0x212)]['y'];else state['puck']['vy']>0x0&&state[_0x1e0e43(0x212)]['y']<state[_0x1e0e43(0x1c2)][_0x1e0e43(0x213)]*0.3&&(_0x467818=!![],_0xe462d7=state[_0x1e0e43(0x212)]['x'],_0x547db2=state[_0x1e0e43(0x212)]['y']);}else state[_0x1e0e43(0x14f)]==='difficult'?state[_0x1e0e43(0x212)]['y']<state[_0x1e0e43(0x1c2)]['height']*0.4&&state['puck']['vy']<0x0&&(_0x467818=!![],_0xe462d7=state[_0x1e0e43(0x212)]['x'],_0x547db2=state[_0x1e0e43(0x212)]['y']-0x14):state['puck']['y']<state['field']['height']*0.25&&state[_0x1e0e43(0x212)]['vy']<0x0&&(_0x467818=!![],_0x547db2=state[_0x1e0e43(0x212)]['y']-0xa);if(!_0x467818){if(state[_0x1e0e43(0x14f)]==='difficult')_0xe462d7+=(Math[_0x1e0e43(0x183)]()-0.5)*_0x3cf64d['error'];if(state[_0x1e0e43(0x14f)]===_0x1e0e43(0x14a))_0xe462d7+=(Math['random']()-0.5)*_0x3cf64d[_0x1e0e43(0x1ae)];}const _0x47fb99=_0xe462d7-state['p2']['x'],_0x2f37c0=_0x547db2-state['p2']['y'];let _0x4708dc=_0x3cf64d[_0x1e0e43(0x14b)];if(_0x467818)_0x4708dc*=1.5;state['p2']['x']+=_0x47fb99*_0x4708dc,state['p2']['y']+=_0x2f37c0*_0x4708dc;}state[_0x1e0e43(0x212)]['x']+=state[_0x1e0e43(0x212)]['vx'],state['puck']['y']+=state[_0x1e0e43(0x212)]['vy'],state[_0x1e0e43(0x212)]['vx']*=CONFIG['friction'],state[_0x1e0e43(0x212)]['vy']*=CONFIG[_0x1e0e43(0x179)];if(Math[_0x1e0e43(0x192)](state['puck']['vx'])<0.05)state[_0x1e0e43(0x212)]['vx']=0x0;if(Math[_0x1e0e43(0x192)](state['puck']['vy'])<0.05)state[_0x1e0e43(0x212)]['vy']=0x0;let _0x1c71cc=![];state[_0x1e0e43(0x212)]['x']-state['puck'][_0x1e0e43(0x20d)]<0x0&&(state[_0x1e0e43(0x212)]['x']=state[_0x1e0e43(0x212)][_0x1e0e43(0x20d)],state[_0x1e0e43(0x212)]['vx']*=-0x1*CONFIG[_0x1e0e43(0x15d)],_0x1c71cc=!![]);state[_0x1e0e43(0x212)]['x']+state[_0x1e0e43(0x212)]['radius']>state[_0x1e0e43(0x1c2)][_0x1e0e43(0x21f)]&&(state['puck']['x']=state[_0x1e0e43(0x1c2)][_0x1e0e43(0x21f)]-state[_0x1e0e43(0x212)]['radius'],state[_0x1e0e43(0x212)]['vx']*=-0x1*CONFIG['wallBounce'],_0x1c71cc=!![]);if(_0x1c71cc){playSound(_0x1e0e43(0x1f4));if(state[_0x1e0e43(0x203)]===_0x1e0e43(0x19a))broadcast({'type':_0x1e0e43(0x195),'event':_0x1e0e43(0x1f4)});}const _0x5b0958=state[_0x1e0e43(0x1c2)][_0x1e0e43(0x21f)]*0.3,_0x947b33=state[_0x1e0e43(0x1c2)]['width']/0x2;if(state['puck']['y']<0x0){handleGoal(0x1);return;}const _0x2c1b08=Math[_0x1e0e43(0x15c)](state[_0x1e0e43(0x212)]['x']-_0x947b33,state[_0x1e0e43(0x212)]['y']-0x0);if(state[_0x1e0e43(0x212)]['y']<_0x5b0958&&_0x2c1b08<_0x5b0958){}if(state[_0x1e0e43(0x212)]['y']>state[_0x1e0e43(0x1c2)][_0x1e0e43(0x213)]){handleGoal(0x2);return;}checkPaddleCollision(state['p1']),checkPaddleCollision(state['p2']),state[_0x1e0e43(0x17f)][_0x1e0e43(0x22a)](_0x5b27e9=>{const _0x4aa322=_0x1e0e43;_0x5b27e9['x']+=_0x5b27e9['vx'],_0x5b27e9['y']+=_0x5b27e9['vy'],_0x5b27e9[_0x4aa322(0x1dc)]-=_0x5b27e9[_0x4aa322(0x1be)];}),state[_0x1e0e43(0x17f)]=state[_0x1e0e43(0x17f)][_0x1e0e43(0x20e)](_0x2ba2d6=>_0x2ba2d6['life']>0x0),state[_0x1e0e43(0x203)]===_0x1e0e43(0x19a)&&conn&&conn['open']&&conn[_0x1e0e43(0x1eb)]({'type':'state','p1':{'x':state['p1']['x'],'y':state['p1']['y']},'p2':{'x':state['p2']['x'],'y':state['p2']['y']},'puck':{'x':state[_0x1e0e43(0x212)]['x'],'y':state[_0x1e0e43(0x212)]['y'],'vx':state[_0x1e0e43(0x212)]['vx'],'vy':state['puck']['vy']},'scores':{'p1':state['p1']['score'],'p2':state['p2'][_0x1e0e43(0x205)]}});}function handleGoal(_0x327a0d,_0x17404f=![]){const _0x1b9aad=a0_0x301637;if(_0x17404f){playSound(_0x1b9aad(0x205));if(_0x327a0d===0x1)spawnParticles(state[_0x1b9aad(0x212)]['x'],0x0,state['p1']['color']);else spawnParticles(state[_0x1b9aad(0x212)]['x'],state['field'][_0x1b9aad(0x213)],state['p2'][_0x1b9aad(0x21a)]);return;}playSound(_0x1b9aad(0x205)),state[_0x1b9aad(0x212)]['vx']=0x0,state[_0x1b9aad(0x212)]['vy']=0x0;_0x327a0d===0x1?(state['p1'][_0x1b9aad(0x205)]++,spawnParticles(state[_0x1b9aad(0x212)]['x'],0x0,state['p1'][_0x1b9aad(0x21a)])):(state['p2'][_0x1b9aad(0x205)]++,spawnParticles(state[_0x1b9aad(0x212)]['x'],state['field'][_0x1b9aad(0x213)],state['p2'][_0x1b9aad(0x21a)]));if(state[_0x1b9aad(0x203)]==='online_host')broadcast({'type':_0x1b9aad(0x195),'event':'score','scorer':_0x327a0d});state['p1'][_0x1b9aad(0x205)]>=CONFIG[_0x1b9aad(0x181)]||state['p2'][_0x1b9aad(0x205)]>=CONFIG[_0x1b9aad(0x181)]?endGame(_0x327a0d===0x1):resetPositions();}function broadcast(_0x5baaf2){const _0x336101=a0_0x301637;conn&&conn[_0x336101(0x204)]&&conn[_0x336101(0x1eb)]({..._0x5baaf2,'p1':{'x':state['p1']['x'],'y':state['p1']['y']},'p2':{'x':state['p2']['x'],'y':state['p2']['y']},'puck':{'x':state['puck']['x'],'y':state[_0x336101(0x212)]['y'],'vx':state[_0x336101(0x212)]['vx'],'vy':state[_0x336101(0x212)]['vy']},'scores':{'p1':state['p1'][_0x336101(0x205)],'p2':state['p2']['score']}});}function stopGame(){const _0x5015c0=a0_0x301637;state[_0x5015c0(0x1e9)]=![],state['paused']=![],document[_0x5015c0(0x1d0)](_0x5015c0(0x201))[_0x5015c0(0x18f)]['remove'](_0x5015c0(0x1bf)),document[_0x5015c0(0x1d0)](_0x5015c0(0x1ac))[_0x5015c0(0x18f)]['add'](_0x5015c0(0x1bf)),document[_0x5015c0(0x1d0)](_0x5015c0(0x17a))['classList'][_0x5015c0(0x1d6)](_0x5015c0(0x1bf)),showMainMenu();}function endGame(_0x1f25f1){const _0xe0aaee=a0_0x301637;state[_0xe0aaee(0x1e9)]=![];state['mode']===_0xe0aaee(0x19a)&&broadcast({'type':_0xe0aaee(0x1dd),'p1Won':_0x1f25f1});const _0x94cfdf=document[_0xe0aaee(0x1d0)](_0xe0aaee(0x1b8)),_0x43b428=document[_0xe0aaee(0x1d0)](_0xe0aaee(0x1b6)),_0x3adace=document[_0xe0aaee(0x1d0)]('game-over-score'),_0x245195=state[_0xe0aaee(0x203)]!==_0xe0aaee(0x17d),_0xbb8694=_0x245195?_0x1f25f1:!_0x1f25f1;_0x43b428[_0xe0aaee(0x1a6)]=_0xbb8694?_0xe0aaee(0x172):_0xe0aaee(0x197),_0x43b428['style']['color']=_0xbb8694?_0xe0aaee(0x217):_0xe0aaee(0x18a),_0x3adace[_0xe0aaee(0x1a6)]=state['p1'][_0xe0aaee(0x205)]+'\x20\x20-\x20\x20'+state['p2'][_0xe0aaee(0x205)];if(_0xbb8694){let _0x1d1655=parseInt(localStorage[_0xe0aaee(0x1ed)]('tron_hockey_wins')||'0');_0x1d1655++,localStorage[_0xe0aaee(0x1c4)](_0xe0aaee(0x1a0),_0x1d1655),updateHighScoreDisplay();}const _0x714364=document[_0xe0aaee(0x1d0)](_0xe0aaee(0x157));_0x714364&&(state[_0xe0aaee(0x203)]===_0xe0aaee(0x19a)||state[_0xe0aaee(0x203)]===_0xe0aaee(0x17d)?(_0x714364['textContent']=_0xe0aaee(0x175),_0x714364[_0xe0aaee(0x159)]=()=>quitLobby()):(_0x714364[_0xe0aaee(0x1a6)]=_0xe0aaee(0x223),_0x714364[_0xe0aaee(0x159)]=()=>returnToMenu())),_0x94cfdf[_0xe0aaee(0x18f)][_0xe0aaee(0x16f)](_0xe0aaee(0x1bf)),document[_0xe0aaee(0x1d0)](_0xe0aaee(0x1ac))[_0xe0aaee(0x18f)][_0xe0aaee(0x1d6)](_0xe0aaee(0x1bf));}window[a0_0x301637(0x16d)]=()=>{const _0x67f9bf=a0_0x301637;conn&&(conn['close'](),conn=null),localStorage['removeItem'](_0x67f9bf(0x171)),state['running']=![],window[_0x67f9bf(0x1d3)]['href']=window[_0x67f9bf(0x1d3)][_0x67f9bf(0x18b)];},window['returnToMenu']=()=>{const _0x49b005=a0_0x301637;document[_0x49b005(0x1d0)](_0x49b005(0x1b8))['classList'][_0x49b005(0x1d6)](_0x49b005(0x1bf)),document['getElementById']('main-menu')[_0x49b005(0x18f)][_0x49b005(0x16f)](_0x49b005(0x1bf));},window[a0_0x301637(0x1d9)]=()=>{const _0x1a879d=a0_0x301637;state[_0x1a879d(0x1b7)]=!state['paused'];const _0x3ab7a0=document[_0x1a879d(0x1d0)](_0x1a879d(0x17a)),_0x5cd102=document[_0x1a879d(0x1d0)](_0x1a879d(0x1f9)),_0x13aa42=document[_0x1a879d(0x1d0)](_0x1a879d(0x1e6)),_0x1518a6=document[_0x1a879d(0x1d0)](_0x1a879d(0x1fb));if(state[_0x1a879d(0x1b7)]){if(_0x5cd102)_0x5cd102['textContent']=_0x1a879d(0x149);if(_0x13aa42)_0x13aa42['style']['display']=_0x1a879d(0x162);_0x1518a6&&(state[_0x1a879d(0x203)]==='online_host'||state[_0x1a879d(0x203)]===_0x1a879d(0x17d)?(_0x1518a6[_0x1a879d(0x1a6)]=_0x1a879d(0x175),_0x1518a6[_0x1a879d(0x159)]=()=>quitLobby()):(_0x1518a6[_0x1a879d(0x1a6)]='EXIT',_0x1518a6[_0x1a879d(0x159)]=()=>stopGame())),_0x3ab7a0[_0x1a879d(0x18f)][_0x1a879d(0x16f)]('hidden');}else _0x3ab7a0[_0x1a879d(0x18f)]['add'](_0x1a879d(0x1bf));},window['restartGame']=()=>{const _0x4e9112=a0_0x301637;document[_0x4e9112(0x1d0)](_0x4e9112(0x1b8))[_0x4e9112(0x18f)]['add'](_0x4e9112(0x1bf)),startGame(state[_0x4e9112(0x203)]);};function updateHighScoreDisplay(){const _0x581890=a0_0x301637,_0xbb950e=localStorage[_0x581890(0x1ed)]('tron_hockey_wins')||'0',_0x8993b9=document[_0x581890(0x1d0)](_0x581890(0x1a9));if(_0x8993b9)_0x8993b9[_0x581890(0x1a6)]=_0x581890(0x1d7)+_0xbb950e;}function checkPaddleCollision(_0x31d90a){const _0xd3b641=a0_0x301637,_0x3f6c3b=state[_0xd3b641(0x212)]['x']-_0x31d90a['x'],_0x9e1a2f=state[_0xd3b641(0x212)]['y']-_0x31d90a['y'],_0x53e2f0=Math[_0xd3b641(0x19e)](_0x3f6c3b*_0x3f6c3b+_0x9e1a2f*_0x9e1a2f),_0x162c9b=state['puck'][_0xd3b641(0x20d)]+_0x31d90a[_0xd3b641(0x20d)];if(_0x53e2f0<_0x162c9b){const _0x15b98b=Math[_0xd3b641(0x1fa)](_0x9e1a2f,_0x3f6c3b),_0x5d5e7c=_0x162c9b-_0x53e2f0;state[_0xd3b641(0x212)]['x']+=Math[_0xd3b641(0x1e4)](_0x15b98b)*_0x5d5e7c,state[_0xd3b641(0x212)]['y']+=Math[_0xd3b641(0x154)](_0x15b98b)*_0x5d5e7c;const _0x401321=Math[_0xd3b641(0x1e4)](_0x15b98b),_0x39bff3=Math[_0xd3b641(0x154)](_0x15b98b),_0x3532d5=state[_0xd3b641(0x212)]['vx']*_0x401321+state['puck']['vy']*_0x39bff3;state[_0xd3b641(0x212)]['vx']=state[_0xd3b641(0x212)]['vx']-0x2*_0x3532d5*_0x401321,state['puck']['vy']=state[_0xd3b641(0x212)]['vy']-0x2*_0x3532d5*_0x39bff3;const _0x194540=Math[_0xd3b641(0x19e)](_0x31d90a['vx']**0x2+_0x31d90a['vy']**0x2);_0x194540>0.1?(state[_0xd3b641(0x212)]['vx']+=_0x31d90a['vx']*1.5,state['puck']['vy']+=_0x31d90a['vy']*1.5):(state['puck']['vx']*=0.8,state[_0xd3b641(0x212)]['vy']*=0.8);const _0x308859=Math['sqrt'](state[_0xd3b641(0x212)]['vx']**0x2+state[_0xd3b641(0x212)]['vy']**0x2);_0x308859>state[_0xd3b641(0x212)]['maxSpeed']&&(state['puck']['vx']=state[_0xd3b641(0x212)]['vx']/_0x308859*state[_0xd3b641(0x212)][_0xd3b641(0x186)],state[_0xd3b641(0x212)]['vy']=state['puck']['vy']/_0x308859*state['puck'][_0xd3b641(0x186)]),playSound(_0xd3b641(0x1ff));}}function a0_0x3d7a(_0x68e93,_0x3e755c){_0x68e93=_0x68e93-0x141;const _0x10ef71=a0_0x10ef();let _0x3d7a00=_0x10ef71[_0x68e93];return _0x3d7a00;}function viewX(_0x355a19){const _0x33fc1e=a0_0x301637;if(state[_0x33fc1e(0x16a)])return state[_0x33fc1e(0x1c2)][_0x33fc1e(0x21f)]-_0x355a19;return _0x355a19;}function viewY(_0x4acf6f){const _0x3ec9ad=a0_0x301637;if(state[_0x3ec9ad(0x16a)])return state[_0x3ec9ad(0x1c2)][_0x3ec9ad(0x213)]-_0x4acf6f;return _0x4acf6f;}window[a0_0x301637(0x14d)]=()=>{const _0x4aae55=a0_0x301637;state[_0x4aae55(0x16a)]=!state['flipped'];};function draw(){const _0x57f124=a0_0x301637;ctx[_0x57f124(0x202)](0x0,0x0,canvas[_0x57f124(0x21f)],canvas['height']);const _0x23140a=canvas['width'],_0x447acc=canvas['height'];state[_0x57f124(0x203)]===_0x57f124(0x17d)&&state[_0x57f124(0x16a)]===undefined&&(state[_0x57f124(0x16a)]=!![]);const _0x2505ca=_0x447acc/0x2;drawGrid(_0x23140a,_0x447acc),ctx[_0x57f124(0x20a)]=0x3,ctx['strokeStyle']='#2a4d53',ctx[_0x57f124(0x1f3)](),ctx['moveTo'](0x0,_0x2505ca-0x6),ctx[_0x57f124(0x19c)](_0x23140a,_0x2505ca-0x6),ctx['stroke'](),ctx[_0x57f124(0x1f3)](),ctx[_0x57f124(0x17c)](0x0,_0x2505ca+0x6),ctx[_0x57f124(0x19c)](_0x23140a,_0x2505ca+0x6),ctx[_0x57f124(0x177)](),ctx[_0x57f124(0x225)]=_0x57f124(0x188),ctx[_0x57f124(0x1d1)]=0xa,ctx[_0x57f124(0x178)]=_0x57f124(0x20c),ctx[_0x57f124(0x1f3)](),ctx[_0x57f124(0x194)](_0x23140a/0x2,_0x2505ca,_0x23140a*0.22,0x0,Math['PI']*0x2),ctx[_0x57f124(0x177)](),ctx[_0x57f124(0x1f3)](),ctx['arc'](_0x23140a/0x2,_0x2505ca,_0x23140a*0.18,0x0,Math['PI']*0x2),ctx['strokeStyle']=_0x57f124(0x184),ctx['stroke']();const _0x3d698c=_0x23140a*0.3;ctx['shadowBlur']=0xf,ctx[_0x57f124(0x178)]=state['p2'][_0x57f124(0x21a)],ctx[_0x57f124(0x225)]=state['p2']['color'],ctx['lineWidth']=0x4,ctx[_0x57f124(0x1f3)]();const _0x3fa41b=state['flipped'],_0x5b8364=_0x3fa41b?state['p1'][_0x57f124(0x21a)]:state['p2']['color'],_0x3455ab=_0x3fa41b?state['p2'][_0x57f124(0x21a)]:state['p1']['color'];ctx[_0x57f124(0x178)]=_0x5b8364,ctx[_0x57f124(0x225)]=_0x5b8364,ctx[_0x57f124(0x1f3)](),ctx[_0x57f124(0x194)](_0x23140a/0x2,-0x3c,_0x3d698c,0x0,Math['PI'],![]),ctx[_0x57f124(0x177)](),ctx[_0x57f124(0x178)]=_0x3455ab,ctx[_0x57f124(0x225)]=_0x3455ab,ctx[_0x57f124(0x1f3)](),ctx['arc'](_0x23140a/0x2,_0x447acc+0x3c,_0x3d698c,Math['PI'],0x0,![]),ctx[_0x57f124(0x177)](),ctx[_0x57f124(0x1d1)]=0x0,ctx[_0x57f124(0x142)]=_0x57f124(0x1c9);const _0x5a67cf=_0x447acc*0.08;ctx[_0x57f124(0x1e3)]='900\x20'+_0x5a67cf+_0x57f124(0x20f);const _0x7ccf21=(_0x338237,_0x3ac8ad,_0x4212c4,_0x4c875c,_0x5bcd3c)=>{const _0x278ac4=_0x57f124;ctx['textBaseline']=_0x5bcd3c,ctx[_0x278ac4(0x146)]=_0x278ac4(0x22b),ctx[_0x278ac4(0x1e8)]=0x2,ctx[_0x278ac4(0x225)]=_0x4c875c,ctx[_0x278ac4(0x20a)]=0x4,ctx[_0x278ac4(0x227)]='right',ctx[_0x278ac4(0x18e)](_0x338237,_0x3ac8ad,_0x4212c4);},_0x557701=_0x3fa41b?state['p1']['score']:state['p2']['score'],_0x5ce214=_0x3fa41b?state['p2']['score']:state['p1'][_0x57f124(0x205)];_0x7ccf21(_0x557701['toString'](),_0x23140a-0x19,0x19,_0x5b8364,_0x57f124(0x1c9)),_0x7ccf21(_0x5ce214[_0x57f124(0x1a1)](),_0x23140a-0x19,_0x447acc-0x19,_0x3455ab,_0x57f124(0x18c)),drawPaddle(state['p1']),drawPaddle(state['p2']),drawPuck(state['puck']),state['particles'][_0x57f124(0x22a)](_0x30c01d=>{const _0x26d70c=_0x57f124;ctx[_0x26d70c(0x1cc)]=_0x30c01d[_0x26d70c(0x1dc)]>0x0?_0x30c01d[_0x26d70c(0x1dc)]:0x0,ctx[_0x26d70c(0x1f5)]=_0x30c01d[_0x26d70c(0x21a)],ctx[_0x26d70c(0x1f3)](),ctx[_0x26d70c(0x194)](viewX(_0x30c01d['x']),viewY(_0x30c01d['y']),0x4,0x0,Math['PI']*0x2),ctx[_0x26d70c(0x1cd)](),ctx[_0x26d70c(0x1cc)]=0x1;}),requestAnimationFrame(draw);}function drawGrid(_0x39d90c,_0x49b0ac){const _0x120ee2=a0_0x301637,_0x36d4e2=0x5,_0x4eb0a7=0x9,_0x17c17e=_0x39d90c/_0x36d4e2,_0x29c767=_0x49b0ac/_0x4eb0a7,_0x358d72=0x5;ctx[_0x120ee2(0x225)]=_0x120ee2(0x161),ctx[_0x120ee2(0x20a)]=0x2,ctx['shadowBlur']=0x0;for(let _0x31ba60=0x0;_0x31ba60<_0x4eb0a7;_0x31ba60++){for(let _0x5ed642=0x0;_0x5ed642<_0x36d4e2;_0x5ed642++){const _0x15678e=_0x5ed642*_0x17c17e+_0x358d72,_0x1a0c19=_0x31ba60*_0x29c767+_0x358d72,_0x402c58=_0x17c17e-_0x358d72*0x2,_0x48be15=_0x29c767-_0x358d72*0x2;ctx[_0x120ee2(0x1f3)](),ctx[_0x120ee2(0x215)](_0x15678e,_0x1a0c19,_0x402c58,_0x48be15,0xc),ctx[_0x120ee2(0x177)]();}}}function drawPaddle(_0x2cf7d7){const _0xc840e7=a0_0x301637,_0x276bbd=viewX(_0x2cf7d7['x']),_0x3a6b1b=viewY(_0x2cf7d7['y']),_0x1ea752=_0x2cf7d7['radius'],_0x57c1b6=_0x2cf7d7[_0xc840e7(0x21a)];ctx[_0xc840e7(0x1d1)]=0xf,ctx[_0xc840e7(0x178)]=_0x57c1b6,_0x57c1b6===_0xc840e7(0x221)?(ctx['lineWidth']=0x5,ctx[_0xc840e7(0x225)]=_0xc840e7(0x166),ctx['beginPath'](),ctx['arc'](_0x276bbd,_0x3a6b1b,_0x1ea752,0x0,Math['PI']*0x2),ctx[_0xc840e7(0x177)](),ctx[_0xc840e7(0x20a)]=0x2,ctx['strokeStyle']=_0xc840e7(0x1d8),ctx['beginPath'](),ctx[_0xc840e7(0x194)](_0x276bbd,_0x3a6b1b,Math['max'](0x0,_0x1ea752-0x6),0x0,Math['PI']*0x2),ctx[_0xc840e7(0x177)]()):(ctx[_0xc840e7(0x20a)]=0x4,ctx[_0xc840e7(0x225)]=_0x57c1b6,ctx[_0xc840e7(0x1f3)](),ctx['arc'](_0x276bbd,_0x3a6b1b,_0x1ea752,0x0,Math['PI']*0x2),ctx[_0xc840e7(0x177)](),ctx[_0xc840e7(0x1f3)](),ctx[_0xc840e7(0x194)](_0x276bbd,_0x3a6b1b,Math['max'](0x0,_0x1ea752-0x8),0x0,Math['PI']*0x2),ctx[_0xc840e7(0x177)]()),ctx[_0xc840e7(0x1d1)]=0x0;}function drawPuck(_0x32c2e6){const _0x2644b6=a0_0x301637,_0x9afd20=viewX(_0x32c2e6['x']),_0x1f71ce=viewY(_0x32c2e6['y']),_0x3e1d4a=_0x32c2e6[_0x2644b6(0x20d)];ctx[_0x2644b6(0x1d1)]=0xf,ctx[_0x2644b6(0x178)]='#0ff',ctx['strokeStyle']=_0x2644b6(0x217),ctx[_0x2644b6(0x20a)]=0x5,ctx[_0x2644b6(0x1f3)](),ctx[_0x2644b6(0x194)](_0x9afd20,_0x1f71ce,_0x3e1d4a,Math['PI'],1.5*Math['PI']-0.5),ctx[_0x2644b6(0x177)](),ctx['beginPath'](),ctx[_0x2644b6(0x194)](_0x9afd20,_0x1f71ce,_0x3e1d4a,1.5*Math['PI']+0.5,0x0),ctx[_0x2644b6(0x177)](),ctx[_0x2644b6(0x1f3)](),ctx['arc'](_0x9afd20,_0x1f71ce,_0x3e1d4a,0x0+0.5,0.5*Math['PI']),ctx['stroke'](),ctx[_0x2644b6(0x1f3)](),ctx['arc'](_0x9afd20,_0x1f71ce,_0x3e1d4a,0.5*Math['PI']+0.5,Math['PI']),ctx['stroke'](),ctx[_0x2644b6(0x20a)]=0x3,ctx[_0x2644b6(0x1f3)]();const _0x1070a8=0x6;ctx[_0x2644b6(0x17c)](_0x9afd20,_0x1f71ce-_0x3e1d4a+_0x1070a8),ctx['lineTo'](_0x9afd20,_0x1f71ce-_0x3e1d4a-0x4),ctx[_0x2644b6(0x17c)](_0x9afd20,_0x1f71ce+_0x3e1d4a-_0x1070a8),ctx[_0x2644b6(0x19c)](_0x9afd20,_0x1f71ce+_0x3e1d4a+0x4),ctx['moveTo'](_0x9afd20-_0x3e1d4a+_0x1070a8,_0x1f71ce),ctx[_0x2644b6(0x19c)](_0x9afd20-_0x3e1d4a-0x4,_0x1f71ce),ctx['moveTo'](_0x9afd20+_0x3e1d4a+_0x1070a8,_0x1f71ce),ctx['lineTo'](_0x9afd20+_0x3e1d4a+0x4,_0x1f71ce),ctx[_0x2644b6(0x177)](),ctx[_0x2644b6(0x178)]=_0x2644b6(0x1de),ctx[_0x2644b6(0x225)]=_0x2644b6(0x1de),ctx[_0x2644b6(0x20a)]=0x4,ctx[_0x2644b6(0x1f3)](),ctx[_0x2644b6(0x194)](_0x9afd20,_0x1f71ce,_0x3e1d4a*0.5,0x0,Math['PI']*0x2),ctx[_0x2644b6(0x177)](),ctx[_0x2644b6(0x1d1)]=0x0;}function handleInput(_0xb36bfe,_0x12320e,_0x3292fb){const _0x15b2fc=a0_0x301637;if(!state[_0x15b2fc(0x1e9)])return;let _0xc5de5;if(state[_0x15b2fc(0x203)]===_0x15b2fc(0x17d))_0xc5de5=state['p2'];else state[_0x15b2fc(0x203)]===_0x15b2fc(0x19a)||state[_0x15b2fc(0x203)]===_0x15b2fc(0x14c)?_0xc5de5=state['p1']:_0xc5de5=_0x3292fb?state['p1']:state['p2'];const _0x3b74f5=_0xc5de5===state['p1'],_0x1bce6e=_0x3b74f5?state['field'][_0x15b2fc(0x213)]/0x2+_0xc5de5[_0x15b2fc(0x20d)]:_0xc5de5[_0x15b2fc(0x20d)],_0x76bb48=_0x3b74f5?state['field']['height']-_0xc5de5[_0x15b2fc(0x20d)]:state[_0x15b2fc(0x1c2)]['height']/0x2-_0xc5de5['radius'];_0xc5de5['x']=Math[_0x15b2fc(0x15e)](_0xc5de5[_0x15b2fc(0x20d)],Math[_0x15b2fc(0x1ca)](state[_0x15b2fc(0x1c2)][_0x15b2fc(0x21f)]-_0xc5de5[_0x15b2fc(0x20d)],_0xb36bfe)),_0xc5de5['y']=Math[_0x15b2fc(0x15e)](_0x1bce6e,Math[_0x15b2fc(0x1ca)](_0x76bb48,_0x12320e));}canvas[a0_0x301637(0x218)](a0_0x301637(0x169),_0x42ca15=>{const _0x560fe7=a0_0x301637;_0x42ca15[_0x560fe7(0x19d)]();if(state[_0x560fe7(0x1b7)])return;const _0x4cc9c5=canvas['getBoundingClientRect']();let _0x12bd7b=_0x42ca15[_0x560fe7(0x155)]-_0x4cc9c5[_0x560fe7(0x21c)],_0x5b1bce=_0x42ca15[_0x560fe7(0x1e0)]-_0x4cc9c5[_0x560fe7(0x1c9)];state[_0x560fe7(0x16a)]&&(_0x12bd7b=state['field'][_0x560fe7(0x21f)]-_0x12bd7b,_0x5b1bce=state['field'][_0x560fe7(0x213)]-_0x5b1bce),handleInput(_0x12bd7b,_0x5b1bce,!![]);}),canvas[a0_0x301637(0x218)]('touchmove',_0x574167=>{const _0x370cb1=a0_0x301637;_0x574167[_0x370cb1(0x19d)]();if(state[_0x370cb1(0x1b7)])return;const _0x183fa5=canvas[_0x370cb1(0x17b)]();for(let _0x457e45=0x0;_0x457e45<_0x574167[_0x370cb1(0x1ab)][_0x370cb1(0x19b)];_0x457e45++){const _0x5f1043=_0x574167[_0x370cb1(0x1ab)][_0x457e45];let _0x191e95=_0x5f1043['clientX']-_0x183fa5['left'],_0x29723f=_0x5f1043[_0x370cb1(0x1e0)]-_0x183fa5[_0x370cb1(0x1c9)];state[_0x370cb1(0x16a)]&&(_0x191e95=state[_0x370cb1(0x1c2)][_0x370cb1(0x21f)]-_0x191e95,_0x29723f=state[_0x370cb1(0x1c2)][_0x370cb1(0x213)]-_0x29723f);if(state[_0x370cb1(0x203)]==='local'){if(_0x29723f>state[_0x370cb1(0x1c2)]['height']/0x2)handleInput(_0x191e95,_0x29723f,!![]);else handleInput(_0x191e95,_0x29723f,![]);}else handleInput(_0x191e95,_0x29723f,!![]);}},{'passive':![]});function a0_0x10ef(){const _0xea718=['gain','rgba(0,\x20255,\x20255,\x200.3)','.diff-btn','#ff3366','pathname','bottom','p1Won','strokeText','classList','search','27475513kCDnJx','abs','clientHeight','arc','state','252fQcEUK','YOU\x20LOSE','game=','requestFullscreen','online_host','length','lineTo','preventDefault','sqrt','keys','tron_hockey_wins','toString','game-container','writeText','trim','paddleRadiusRatio','textContent','Connecting\x20to\x20','puckMaxSpeedMultiplier','highscore-display','prevX','touches','game-ui','update-modal','error','clientWidth','showCpuMenu','onLine','connectToPeer','delete','insane','then','game-over-title','paused','game-over-modal','cpu-menu','843ocPmhk','6885936iDPkUb','Error\x20parsing\x20ID','gameCanvas','decay','hidden','9CKZHNm','style','field','getRegistrations','setItem','push','stop','log','clipboard','top','min','split','globalAlpha','fill','3258DCUUZW','6951wgARKq','getElementById','shadowBlur','5zoBYgb','location','#0f0','updateApp','add','WINS:\x20','#555','togglePause','start','showMainMenu','life','game_over','#ffcc00','none','clientY','install-modal','data','font','cos','Saved\x20ID\x20is\x20unavailable,\x20generating\x20new\x20one...','resume-btn','createGain','miterLimit','running','Host\x20not\x20found!\x20Make\x20sure\x20the\x20Host\x20is\x20online\x20and\x20the\x20ID\x20is\x20correct.','send','Ready\x20to\x20Connect','getItem','square','userChoice','catch','type','copyPeerId','beginPath','wall','fillStyle','display','difficulty-select','frequency','pause-title','atan2','pause-exit-btn','AudioContext','serviceWorker','offline-modal','hit','performUpdate','main-menu','clearRect','mode','open','score','107745KUsgGR','740RFnUTX','lobby-status','querySelectorAll','lineWidth','unregister','#00ffff','radius','filter','px\x20sans-serif','Connection\x20Lost','exponentialRampToValueAtTime','puck','height','closeLobby','roundRect','connection','#0ff','addEventListener','connection-status','color','getContext','left','caches','resume','width','event','#ffffff','innerHeight','MAIN\x20MENU','puckRadiusRatio','strokeStyle','innerWidth','textAlign','http','Connection\x20Error:','forEach','round','reload','off','scores','textBaseline','connect','Host\x20invalid\x20or\x20offline','16848530BxjNgK','lineJoin','User\x20response\x20to\x20the\x20install\x20prompt:\x20','unavailable-id','PAUSED','medium','speed','cpu','toggleFlip','includes','difficulty','value','Initializing...','openLobby','connect-id-input','sin','clientX','webkitAudioContext','game-over-exit-btn','active','onclick','...','documentElement','hypot','wallBounce','max','scorer','suspended','#103035','block','lobby-modal','destination','close','#fff','createOscillator','Error:\x20','pointermove','flipped','7TvlNTP','setValueAtTime','quitLobby','currentTime','remove','prevY','tron_hockey_peer_id','YOU\x20WIN','input','install-btn','QUIT\x20LOBBY','get','stroke','shadowColor','friction','pause-modal','getBoundingClientRect','moveTo','online_client','resize','particles','Rejected\x20extra\x20connection','winningScore','14381904WWTTNl','random','rgba(0,\x20255,\x20255,\x200.1)','all','maxSpeed'];a0_0x10ef=function(){return _0xea718;};return a0_0x10ef();}const updateLoop=setInterval(update,0x3e8/0x3c);requestAnimationFrame(draw),window['startGame']=_0x262e3c=>{const _0x56ec7b=a0_0x301637;state[_0x56ec7b(0x203)]=_0x262e3c,state[_0x56ec7b(0x14f)]=document[_0x56ec7b(0x1d0)](_0x56ec7b(0x1f7))[_0x56ec7b(0x150)],state[_0x56ec7b(0x1e9)]=!![],state['p1'][_0x56ec7b(0x205)]=0x0,state['p2']['score']=0x0,resize(),resetPositions(),document['getElementById'](_0x56ec7b(0x201))['classList'][_0x56ec7b(0x1d6)](_0x56ec7b(0x1bf)),document[_0x56ec7b(0x1d0)]('game-ui')[_0x56ec7b(0x18f)][_0x56ec7b(0x16f)](_0x56ec7b(0x1bf));document[_0x56ec7b(0x15b)]['requestFullscreen']&&document[_0x56ec7b(0x15b)][_0x56ec7b(0x199)]()[_0x56ec7b(0x1f0)](_0x31e2a8=>console[_0x56ec7b(0x1c7)](_0x31e2a8));if(audioCtx[_0x56ec7b(0x195)]===_0x56ec7b(0x160))audioCtx[_0x56ec7b(0x21e)]();};let deferredPrompt;window[a0_0x301637(0x218)]('beforeinstallprompt',_0x399247=>{const _0xa80ef2=a0_0x301637;_0x399247[_0xa80ef2(0x19d)](),deferredPrompt=_0x399247,document['getElementById'](_0xa80ef2(0x1e1))['classList'][_0xa80ef2(0x16f)](_0xa80ef2(0x1bf));}),document[a0_0x301637(0x1d0)](a0_0x301637(0x174))[a0_0x301637(0x218)]('click',async()=>{const _0x2d6561=a0_0x301637;if(deferredPrompt){deferredPrompt['prompt']();const {outcome:_0x3b25e5}=await deferredPrompt[_0x2d6561(0x1ef)];console['log'](_0x2d6561(0x147)+_0x3b25e5),deferredPrompt=null,document['getElementById'](_0x2d6561(0x1e1))[_0x2d6561(0x18f)][_0x2d6561(0x1d6)]('hidden');}}),window[a0_0x301637(0x1d5)]=()=>{const _0x3077c9=a0_0x301637;if(!navigator['onLine']){document['getElementById'](_0x3077c9(0x1fe))[_0x3077c9(0x18f)][_0x3077c9(0x16f)](_0x3077c9(0x1bf));return;}document['getElementById'](_0x3077c9(0x1ad))['classList'][_0x3077c9(0x16f)]('hidden');},window[a0_0x301637(0x200)]=async()=>{const _0x146017=a0_0x301637;document[_0x146017(0x1d0)](_0x146017(0x1ad))[_0x146017(0x18f)]['add'](_0x146017(0x1bf));if(_0x146017(0x1fd)in navigator){const _0x18c4b1=await navigator['serviceWorker'][_0x146017(0x1c3)]();for(let _0x25ac7a of _0x18c4b1){await _0x25ac7a[_0x146017(0x20b)]();}}if(_0x146017(0x21d)in window){const _0x50dc94=await caches[_0x146017(0x19f)]();await Promise[_0x146017(0x185)](_0x50dc94['map'](_0x56a9bf=>caches[_0x146017(0x1b3)](_0x56a9bf)));}window[_0x146017(0x1d3)][_0x146017(0x22c)](!![]);},window['selectDiff']=(_0x5ef47b,_0x1144bd)=>{const _0xad7407=a0_0x301637;document[_0xad7407(0x1d0)](_0xad7407(0x1f7))[_0xad7407(0x150)]=_0x5ef47b;const _0x3d3114=document[_0xad7407(0x209)](_0xad7407(0x189));_0x3d3114[_0xad7407(0x22a)](_0x38b048=>_0x38b048[_0xad7407(0x18f)][_0xad7407(0x16f)](_0xad7407(0x158))),_0x1144bd[_0xad7407(0x18f)][_0xad7407(0x1d6)](_0xad7407(0x158));},window['copyToClipboard']=(_0x177b6b,_0x4cd787)=>{const _0x179bbf=a0_0x301637;navigator[_0x179bbf(0x1c8)][_0x179bbf(0x1a3)](_0x177b6b)[_0x179bbf(0x1b5)](()=>{const _0x41dd36=_0x179bbf;console[_0x41dd36(0x1c7)](_0x4cd787+'\x20copied:\x20'+_0x177b6b);})[_0x179bbf(0x1f0)](_0x555f8e=>{console['error']('Failed\x20to\x20copy:\x20',_0x555f8e);});},window[a0_0x301637(0x218)](a0_0x301637(0x17e),resize),setTimeout(()=>{resize(),resetPositions(),updateHighScoreDisplay();},0x64);