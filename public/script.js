const a0_0x194021=a0_0x4c4a;(function(_0x4546dc,_0xf6fb56){const _0x463d4f=a0_0x4c4a,_0x4fcb43=_0x4546dc();while(!![]){try{const _0x1d1743=-parseInt(_0x463d4f(0x198))/0x1+-parseInt(_0x463d4f(0x1da))/0x2+-parseInt(_0x463d4f(0x1d4))/0x3+parseInt(_0x463d4f(0x235))/0x4+-parseInt(_0x463d4f(0x1c7))/0x5*(parseInt(_0x463d4f(0x22f))/0x6)+-parseInt(_0x463d4f(0x1d1))/0x7+parseInt(_0x463d4f(0x1e0))/0x8;if(_0x1d1743===_0xf6fb56)break;else _0x4fcb43['push'](_0x4fcb43['shift']());}catch(_0x54b8f0){_0x4fcb43['push'](_0x4fcb43['shift']());}}}(a0_0x596b,0x38f0b));const canvas=document[a0_0x194021(0x228)](a0_0x194021(0x232)),ctx=canvas['getContext']('2d'),state={'running':![],'paused':![],'mode':a0_0x194021(0x1e4),'difficulty':a0_0x194021(0x1ef),'p1':{'score':0x0,'x':0x0,'y':0x0,'prevX':0x0,'prevY':0x0,'vx':0x0,'vy':0x0,'radius':0x0,'color':a0_0x194021(0x1c5)},'p2':{'score':0x0,'x':0x0,'y':0x0,'prevX':0x0,'prevY':0x0,'vx':0x0,'vy':0x0,'radius':0x0,'color':a0_0x194021(0x211)},'puck':{'x':0x0,'y':0x0,'vx':0x0,'vy':0x0,'radius':0x0,'speed':0x0,'maxSpeed':0x0},'field':{'width':0x0,'height':0x0},'particles':[]},CONFIG={'friction':0.992,'wallBounce':0.9,'puckMaxSpeedMultiplier':0.04,'paddleRadiusRatio':0.08,'puckRadiusRatio':0.04,'winningScore':0x7},DIFFICULTIES={'medium':{'speed':0.09,'reaction':0.1,'error':0x1e},'difficult':{'speed':0.15,'reaction':0.05,'error':0xa},'insane':{'speed':0.35,'reaction':0.01,'error':0x0}},AudioContext=window[a0_0x194021(0x226)]||window[a0_0x194021(0x1d7)],audioCtx=new AudioContext();function playSound(_0x5422ea){const _0x52acfc=a0_0x194021;if(audioCtx[_0x52acfc(0x200)]===_0x52acfc(0x1db))audioCtx[_0x52acfc(0x1eb)]();const _0x34447c=audioCtx[_0x52acfc(0x1c1)](),_0x3b16e5=audioCtx['createGain']();_0x34447c[_0x52acfc(0x1a0)](_0x3b16e5),_0x3b16e5[_0x52acfc(0x1a0)](audioCtx[_0x52acfc(0x19f)]);const _0x453914=audioCtx['currentTime'];if(_0x5422ea===_0x52acfc(0x204))_0x34447c[_0x52acfc(0x203)][_0x52acfc(0x1d8)](0x190,_0x453914),_0x34447c[_0x52acfc(0x203)][_0x52acfc(0x20b)](0x64,_0x453914+0.1),_0x3b16e5['gain'][_0x52acfc(0x1d8)](0.3,_0x453914),_0x3b16e5[_0x52acfc(0x1f3)][_0x52acfc(0x20b)](0.01,_0x453914+0.1),_0x34447c[_0x52acfc(0x17c)](_0x453914),_0x34447c[_0x52acfc(0x16c)](_0x453914+0.1);else{if(_0x5422ea==='wall')_0x34447c[_0x52acfc(0x203)][_0x52acfc(0x1d8)](0xc8,_0x453914),_0x34447c['frequency'][_0x52acfc(0x20b)](0x32,_0x453914+0.1),_0x3b16e5[_0x52acfc(0x1f3)][_0x52acfc(0x1d8)](0.2,_0x453914),_0x3b16e5[_0x52acfc(0x1f3)][_0x52acfc(0x20b)](0.01,_0x453914+0.1),_0x34447c[_0x52acfc(0x17c)](_0x453914),_0x34447c[_0x52acfc(0x16c)](_0x453914+0.1);else _0x5422ea==='score'&&(_0x34447c[_0x52acfc(0x1ee)]=_0x52acfc(0x186),_0x34447c[_0x52acfc(0x203)][_0x52acfc(0x1d8)](0x258,_0x453914),_0x34447c[_0x52acfc(0x203)][_0x52acfc(0x1d8)](0x320,_0x453914+0.1),_0x34447c['frequency'][_0x52acfc(0x1d8)](0x190,_0x453914+0.2),_0x3b16e5['gain']['setValueAtTime'](0.3,_0x453914),_0x3b16e5['gain'][_0x52acfc(0x20b)](0.01,_0x453914+0.6),_0x34447c[_0x52acfc(0x17c)](_0x453914),_0x34447c['stop'](_0x453914+0.6));}}function resize(){const _0x28e8f0=a0_0x194021,_0x1cd0c7=document[_0x28e8f0(0x228)](_0x28e8f0(0x1dc)),_0x483ee9=canvas[_0x28e8f0(0x1bc)]||0xa,_0xc4c05c=canvas['height']||0xa;canvas[_0x28e8f0(0x1bc)]=_0x1cd0c7['clientWidth']||window[_0x28e8f0(0x1b7)],canvas['height']=_0x1cd0c7[_0x28e8f0(0x177)]||window[_0x28e8f0(0x1e9)];const _0x72874=canvas[_0x28e8f0(0x1bc)]/_0x483ee9,_0x387f39=canvas[_0x28e8f0(0x1b3)]/_0xc4c05c;state[_0x28e8f0(0x18c)][_0x28e8f0(0x1bc)]=canvas[_0x28e8f0(0x1bc)],state[_0x28e8f0(0x18c)]['height']=canvas[_0x28e8f0(0x1b3)];const _0x5e4145=Math[_0x28e8f0(0x20e)](canvas[_0x28e8f0(0x1bc)],canvas[_0x28e8f0(0x1b3)]);state['p1']['radius']=_0x5e4145*CONFIG[_0x28e8f0(0x18a)],state['p2'][_0x28e8f0(0x221)]=_0x5e4145*CONFIG[_0x28e8f0(0x18a)],state[_0x28e8f0(0x1b2)][_0x28e8f0(0x221)]=_0x5e4145*CONFIG['puckRadiusRatio'],state[_0x28e8f0(0x1b2)][_0x28e8f0(0x1b8)]=canvas[_0x28e8f0(0x1b3)]*CONFIG[_0x28e8f0(0x21f)],state[_0x28e8f0(0x173)]&&_0x483ee9>0xa?(state['p1']['x']*=_0x72874,state['p1']['y']*=_0x387f39,state['p1'][_0x28e8f0(0x213)]*=_0x72874,state['p1'][_0x28e8f0(0x1ea)]*=_0x387f39,state['p2']['x']*=_0x72874,state['p2']['y']*=_0x387f39,state['p2'][_0x28e8f0(0x213)]*=_0x72874,state['p2'][_0x28e8f0(0x1ea)]*=_0x387f39,state[_0x28e8f0(0x1b2)]['x']*=_0x72874,state[_0x28e8f0(0x1b2)]['y']*=_0x387f39):resetPositions();}function resetPositions(){const _0x54b52a=a0_0x194021;state[_0x54b52a(0x1b2)]['x']=state[_0x54b52a(0x18c)][_0x54b52a(0x1bc)]/0x2,state[_0x54b52a(0x1b2)]['y']=state[_0x54b52a(0x18c)][_0x54b52a(0x1b3)]/0x2,state[_0x54b52a(0x1b2)]['vx']=0x0,state[_0x54b52a(0x1b2)]['vy']=0x0,state['p1']['x']=state[_0x54b52a(0x18c)][_0x54b52a(0x1bc)]/0x2,state['p1']['y']=state['field'][_0x54b52a(0x1b3)]-state[_0x54b52a(0x18c)]['height']*0.15,state['p1'][_0x54b52a(0x213)]=state['p1']['x'],state['p1'][_0x54b52a(0x1ea)]=state['p1']['y'],state['p2']['x']=state['field']['width']/0x2,state['p2']['y']=state[_0x54b52a(0x18c)]['height']*0.15,state['p2'][_0x54b52a(0x213)]=state['p2']['x'],state['p2'][_0x54b52a(0x1ea)]=state['p2']['y'];}function spawnParticles(_0x3e902e,_0x540ea4,_0x1a42fc){const _0x482d87=a0_0x194021;for(let _0x1b0de0=0x0;_0x1b0de0<0x28;_0x1b0de0++){const _0xd83a7=Math[_0x482d87(0x16a)]()*0xf+0x5,_0x1a2d15=Math['random']()*Math['PI']*0x2;state[_0x482d87(0x21e)]['push']({'x':_0x3e902e,'y':_0x540ea4,'vx':Math[_0x482d87(0x20c)](_0x1a2d15)*_0xd83a7,'vy':Math[_0x482d87(0x19d)](_0x1a2d15)*_0xd83a7,'life':0x1,'decay':Math[_0x482d87(0x16a)]()*0.03+0.01,'color':_0x1a42fc});}for(let _0x53cd98=0x0;_0x53cd98<0x14;_0x53cd98++){const _0x15e706=Math['PI']*0x2*_0x53cd98/0x14;state[_0x482d87(0x21e)][_0x482d87(0x1dd)]({'x':_0x3e902e,'y':_0x540ea4,'vx':Math[_0x482d87(0x20c)](_0x15e706)*0xa,'vy':Math[_0x482d87(0x19d)](_0x15e706)*0xa,'life':0x1,'decay':0.05,'color':_0x482d87(0x1e3)});}}function predictPuckX(_0x5de60b,_0x106a41,_0x311508){if(_0x5de60b['vy']===0x0)return _0x5de60b['x'];const _0x31ddd5=(_0x106a41-_0x5de60b['y'])/_0x5de60b['vy'];if(_0x31ddd5<0x0)return _0x311508/0x2;let _0x1b08b8=_0x5de60b['x']+_0x5de60b['vx']*_0x31ddd5;const _0x2168e9=_0x311508;while(_0x1b08b8<0x0||_0x1b08b8>_0x2168e9){if(_0x1b08b8<0x0)_0x1b08b8=-_0x1b08b8;else _0x1b08b8>_0x2168e9&&(_0x1b08b8=0x2*_0x2168e9-_0x1b08b8);}return _0x1b08b8;}let peer=null,conn=null,myPeerId=null,isHost=![];function initPeer(){const _0x32b91e=a0_0x194021;if(peer)return;document[_0x32b91e(0x228)](_0x32b91e(0x1cd))[_0x32b91e(0x1ff)]='Initializing...';let _0x359cc6=localStorage[_0x32b91e(0x1d2)](_0x32b91e(0x16b));setupPeer(_0x359cc6);}function setupPeer(_0x1ec32=null){const _0x4424a2=a0_0x194021;if(peer)peer[_0x4424a2(0x17d)]();const _0x2b9c62={'debug':0x1};peer=_0x1ec32?new Peer(_0x1ec32,_0x2b9c62):new Peer(null,_0x2b9c62),peer['on'](_0x4424a2(0x1d0),_0x1bd59b=>{const _0x4a6ce2=_0x4424a2;myPeerId=_0x1bd59b,localStorage[_0x4a6ce2(0x16d)]('tron_hockey_peer_id',_0x1bd59b);const _0x294ce0=document['getElementById'](_0x4a6ce2(0x1c2));if(_0x294ce0)_0x294ce0[_0x4a6ce2(0x18e)]=_0x1bd59b;const _0xd941a1=document['getElementById']('lobby-status');if(_0xd941a1)_0xd941a1[_0x4a6ce2(0x1ff)]=_0x4a6ce2(0x184);const _0x356cb6=new URLSearchParams(window[_0x4a6ce2(0x1aa)][_0x4a6ce2(0x1e7)]);let _0x274d4f=_0x356cb6[_0x4a6ce2(0x22e)](_0x4a6ce2(0x231));if(_0x274d4f&&!state[_0x4a6ce2(0x173)]){if(_0x274d4f===myPeerId){console[_0x4a6ce2(0x1d6)](_0x4a6ce2(0x1cf));return;}_0x274d4f[_0x4a6ce2(0x219)](_0x4a6ce2(0x1b1))&&(_0x274d4f=_0x274d4f['split']('game=')[0x1][_0x4a6ce2(0x1bb)]('&')[0x0]),openLobby(),document['getElementById']('connect-id-input')[_0x4a6ce2(0x18e)]=_0x274d4f,setTimeout(connectToPeer,0x1f4);}}),peer['on'](_0x4424a2(0x1b9),_0x1b8127=>{const _0x12b9ab=_0x4424a2;if(_0x1b8127[_0x12b9ab(0x1ee)]===_0x12b9ab(0x1fb)){console['warn'](_0x12b9ab(0x19a)),setupPeer(null);return;}if(_0x1b8127[_0x12b9ab(0x1ee)]==='peer-unavailable'){alert(_0x12b9ab(0x207)),document[_0x12b9ab(0x228)](_0x12b9ab(0x18f))[_0x12b9ab(0x1ff)]='Host\x20invalid\x20or\x20offline';if(conn)conn[_0x12b9ab(0x1fc)]();return;}const _0x583457=document[_0x12b9ab(0x228)]('connection-status');if(_0x583457)_0x583457[_0x12b9ab(0x1ff)]=_0x12b9ab(0x1c4)+_0x1b8127[_0x12b9ab(0x1ee)];console[_0x12b9ab(0x1b9)](_0x12b9ab(0x201),_0x1b8127);}),peer['on'](_0x4424a2(0x215),_0x561008=>{const _0x3fca38=_0x4424a2;if(conn&&conn[_0x3fca38(0x1d0)]){_0x561008[_0x3fca38(0x1fc)](),console[_0x3fca38(0x1d6)]('Rejected\x20extra\x20connection');return;}if(conn)conn['close']();conn=_0x561008,isHost=!![],setupConnection();});}function setupConnection(){const _0x340a80=a0_0x194021;conn[_0x340a80(0x1fd)]('open'),conn[_0x340a80(0x1fd)](_0x340a80(0x1ac)),conn[_0x340a80(0x1fd)](_0x340a80(0x1fc)),conn['on'](_0x340a80(0x1d0),()=>{const _0x49cb5d=_0x340a80;document['getElementById'](_0x49cb5d(0x18f))['textContent']='Connected!',document[_0x49cb5d(0x228)](_0x49cb5d(0x18f))[_0x49cb5d(0x1ca)][_0x49cb5d(0x230)]=_0x49cb5d(0x168),setTimeout(()=>{const _0x352d9c=_0x49cb5d;document[_0x352d9c(0x228)]('lobby-modal')[_0x352d9c(0x210)]['add']('hidden'),startGame(isHost?_0x352d9c(0x1cc):'online_client');},0x3e8);}),conn['on']('data',_0x43d5df=>{handleData(_0x43d5df);}),conn['on']('close',()=>{const _0x53cf42=_0x340a80;stopGame();const _0x5b5181=document[_0x53cf42(0x228)]('pause-modal'),_0x221331=document['getElementById'](_0x53cf42(0x1c8)),_0x2f64c5=document[_0x53cf42(0x228)](_0x53cf42(0x1f6));_0x5b5181&&_0x221331&&_0x2f64c5?(_0x221331['textContent']='Connection\x20Lost',_0x2f64c5[_0x53cf42(0x1ca)][_0x53cf42(0x172)]=_0x53cf42(0x1f7),_0x5b5181['classList']['remove'](_0x53cf42(0x225))):(alert('Connection\x20Lost'),location[_0x53cf42(0x1c9)]());}),conn['on'](_0x340a80(0x1b9),_0x1fab1a=>{const _0x44a210=_0x340a80;console[_0x44a210(0x1b9)](_0x44a210(0x19b),_0x1fab1a);});}function handleData(_0x34f37f){const _0xdb9cb0=a0_0x194021;if(state[_0xdb9cb0(0x1ba)]===_0xdb9cb0(0x1cc))_0x34f37f[_0xdb9cb0(0x1ee)]===_0xdb9cb0(0x190)&&(_0x34f37f['y']<state[_0xdb9cb0(0x18c)][_0xdb9cb0(0x1b3)]/0x2&&(state['p2']['x']=_0x34f37f['x'],state['p2']['y']=_0x34f37f['y']));else{if(state['mode']===_0xdb9cb0(0x1f2)){if(_0x34f37f[_0xdb9cb0(0x1ee)]===_0xdb9cb0(0x200)){state['p1']['x']=_0x34f37f['p1']['x'],state['p1']['y']=_0x34f37f['p1']['y'],state['p2']['x']=_0x34f37f['p2']['x'],state['p2']['y']=_0x34f37f['p2']['y'],state['p1'][_0xdb9cb0(0x193)]=_0x34f37f['scores']['p1'],state['p2'][_0xdb9cb0(0x193)]=_0x34f37f[_0xdb9cb0(0x194)]['p2'],state[_0xdb9cb0(0x1b2)]['x']=_0x34f37f[_0xdb9cb0(0x1b2)]['x'],state['puck']['y']=_0x34f37f[_0xdb9cb0(0x1b2)]['y'],state[_0xdb9cb0(0x1b2)]['vx']=_0x34f37f[_0xdb9cb0(0x1b2)]['vx'],state['puck']['vy']=_0x34f37f[_0xdb9cb0(0x1b2)]['vy'];if(_0x34f37f[_0xdb9cb0(0x17b)]){if(_0x34f37f[_0xdb9cb0(0x17b)]==='score')handleGoal(_0x34f37f[_0xdb9cb0(0x1fe)],!![]);else{if(_0x34f37f[_0xdb9cb0(0x17b)]===_0xdb9cb0(0x204))playSound(_0xdb9cb0(0x204));else _0x34f37f[_0xdb9cb0(0x17b)]===_0xdb9cb0(0x165)&&playSound(_0xdb9cb0(0x165));}}}_0x34f37f[_0xdb9cb0(0x1ee)]===_0xdb9cb0(0x16f)&&endGame(_0x34f37f['p1Won']);}}}window[a0_0x194021(0x216)]=()=>{const _0x5d3d1f=a0_0x194021;if(!navigator[_0x5d3d1f(0x217)]){document[_0x5d3d1f(0x228)](_0x5d3d1f(0x1bf))[_0x5d3d1f(0x210)][_0x5d3d1f(0x212)](_0x5d3d1f(0x225));return;}document[_0x5d3d1f(0x228)](_0x5d3d1f(0x1d3))[_0x5d3d1f(0x210)][_0x5d3d1f(0x195)](_0x5d3d1f(0x225)),document['getElementById'](_0x5d3d1f(0x1f0))[_0x5d3d1f(0x210)]['remove'](_0x5d3d1f(0x225)),initPeer();},window['closeLobby']=()=>{const _0x4a3722=a0_0x194021;document[_0x4a3722(0x228)](_0x4a3722(0x1f0))['classList']['add'](_0x4a3722(0x225)),document['getElementById'](_0x4a3722(0x1d3))[_0x4a3722(0x210)]['remove'](_0x4a3722(0x225));},window[a0_0x194021(0x183)]=()=>{const _0x237c7c=a0_0x194021;document[_0x237c7c(0x228)](_0x237c7c(0x1e8))[_0x237c7c(0x210)]['add']('hidden'),document['getElementById']('cpu-menu')[_0x237c7c(0x210)]['remove'](_0x237c7c(0x225));},window[a0_0x194021(0x192)]=()=>{const _0x597477=a0_0x194021;document[_0x597477(0x228)](_0x597477(0x17e))['classList'][_0x597477(0x195)](_0x597477(0x225)),document[_0x597477(0x228)](_0x597477(0x1e8))[_0x597477(0x210)][_0x597477(0x212)](_0x597477(0x225));},window[a0_0x194021(0x19e)]=()=>{const _0x427f18=a0_0x194021,_0x109bea=document[_0x427f18(0x228)](_0x427f18(0x1c2))['value'];navigator[_0x427f18(0x17a)][_0x427f18(0x1df)](_0x109bea)[_0x427f18(0x1ec)](()=>{const _0x1ca8a5=_0x427f18;document[_0x1ca8a5(0x228)]('lobby-status')['textContent']=_0x1ca8a5(0x189),setTimeout(()=>document[_0x1ca8a5(0x228)]('lobby-status')[_0x1ca8a5(0x1ff)]=_0x1ca8a5(0x184),0x7d0);});},window['connectToPeer']=()=>{const _0x17dcc6=a0_0x194021;let _0x3cd1c5=document['getElementById'](_0x17dcc6(0x1a7))[_0x17dcc6(0x18e)][_0x17dcc6(0x1a6)]();if(!_0x3cd1c5)return;if(_0x3cd1c5[_0x17dcc6(0x219)]('http')||_0x3cd1c5[_0x17dcc6(0x219)](_0x17dcc6(0x1b1)))try{_0x3cd1c5[_0x17dcc6(0x219)](_0x17dcc6(0x1b1))&&(_0x3cd1c5=_0x3cd1c5[_0x17dcc6(0x1bb)](_0x17dcc6(0x1b1))[0x1][_0x17dcc6(0x1bb)]('&')[0x0]);}catch(_0x3b37b5){console[_0x17dcc6(0x1d6)](_0x17dcc6(0x1bd),_0x3b37b5);}conn&&conn[_0x17dcc6(0x1fc)](),document[_0x17dcc6(0x228)](_0x17dcc6(0x18f))[_0x17dcc6(0x1ff)]=_0x17dcc6(0x1a3)+_0x3cd1c5+'...',conn=peer[_0x17dcc6(0x1a0)](_0x3cd1c5),isHost=![],setupConnection();};function update(){const _0x860f50=a0_0x194021;state['p1']['vx']=state['p1']['x']-state['p1'][_0x860f50(0x213)],state['p1']['vy']=state['p1']['y']-state['p1'][_0x860f50(0x1ea)],state['p1']['prevX']=state['p1']['x'],state['p1'][_0x860f50(0x1ea)]=state['p1']['y'],state['p2']['vx']=state['p2']['x']-state['p2'][_0x860f50(0x213)],state['p2']['vy']=state['p2']['y']-state['p2'][_0x860f50(0x1ea)],state['p2'][_0x860f50(0x213)]=state['p2']['x'],state['p2'][_0x860f50(0x1ea)]=state['p2']['y'];if(!state[_0x860f50(0x173)]||state[_0x860f50(0x227)])return;if(state['mode']===_0x860f50(0x1f2)){conn&&conn[_0x860f50(0x1d0)]&&conn['send']({'type':_0x860f50(0x190),'x':state['p2']['x'],'y':state['p2']['y']});state[_0x860f50(0x21e)]['forEach'](_0x15605f=>{const _0x186a6f=_0x860f50;_0x15605f['x']+=_0x15605f['vx'],_0x15605f['y']+=_0x15605f['vy'],_0x15605f[_0x186a6f(0x181)]-=_0x15605f[_0x186a6f(0x20a)];}),state[_0x860f50(0x21e)]=state['particles'][_0x860f50(0x1e6)](_0x482ff3=>_0x482ff3[_0x860f50(0x181)]>0x0);return;}if(state['mode']===_0x860f50(0x1e4)){const _0x2bb42e=DIFFICULTIES[state['difficulty']]||DIFFICULTIES[_0x860f50(0x1ef)];let _0x3d6a0b=state[_0x860f50(0x1b2)]['x'],_0x246e6c=state[_0x860f50(0x18c)][_0x860f50(0x1b3)]*0.12;state[_0x860f50(0x1b2)]['vy']<0x0?_0x3d6a0b=predictPuckX(state[_0x860f50(0x1b2)],_0x246e6c,state[_0x860f50(0x18c)][_0x860f50(0x1bc)]):_0x3d6a0b=state[_0x860f50(0x18c)][_0x860f50(0x1bc)]/0x2;let _0x1951ca=![];if(state[_0x860f50(0x206)]===_0x860f50(0x20d)){if(state['puck']['y']<state[_0x860f50(0x18c)][_0x860f50(0x1b3)]*0.45&&state['puck']['y']>state['p2']['y'])_0x1951ca=!![],_0x3d6a0b=state[_0x860f50(0x1b2)]['x'],_0x246e6c=state[_0x860f50(0x1b2)]['y'];else state[_0x860f50(0x1b2)]['vy']>0x0&&state[_0x860f50(0x1b2)]['y']<state[_0x860f50(0x18c)][_0x860f50(0x1b3)]*0.3&&(_0x1951ca=!![],_0x3d6a0b=state[_0x860f50(0x1b2)]['x'],_0x246e6c=state[_0x860f50(0x1b2)]['y']);}else state['difficulty']==='difficult'?state[_0x860f50(0x1b2)]['y']<state['field']['height']*0.4&&state[_0x860f50(0x1b2)]['vy']<0x0&&(_0x1951ca=!![],_0x3d6a0b=state['puck']['x'],_0x246e6c=state[_0x860f50(0x1b2)]['y']-0x14):state[_0x860f50(0x1b2)]['y']<state[_0x860f50(0x18c)][_0x860f50(0x1b3)]*0.25&&state[_0x860f50(0x1b2)]['vy']<0x0&&(_0x1951ca=!![],_0x246e6c=state['puck']['y']-0xa);if(!_0x1951ca){if(state['difficulty']===_0x860f50(0x1af))_0x3d6a0b+=(Math[_0x860f50(0x16a)]()-0.5)*_0x2bb42e[_0x860f50(0x1b9)];if(state['difficulty']===_0x860f50(0x1ef))_0x3d6a0b+=(Math[_0x860f50(0x16a)]()-0.5)*_0x2bb42e[_0x860f50(0x1b9)];}const _0x1b7d1d=_0x3d6a0b-state['p2']['x'],_0x578694=_0x246e6c-state['p2']['y'];let _0x2dda5b=_0x2bb42e['speed'];if(_0x1951ca)_0x2dda5b*=1.5;state['p2']['x']+=_0x1b7d1d*_0x2dda5b,state['p2']['y']+=_0x578694*_0x2dda5b;}state['puck']['x']+=state['puck']['vx'],state[_0x860f50(0x1b2)]['y']+=state[_0x860f50(0x1b2)]['vy'],state[_0x860f50(0x1b2)]['vx']*=CONFIG['friction'],state[_0x860f50(0x1b2)]['vy']*=CONFIG[_0x860f50(0x164)];if(Math['abs'](state[_0x860f50(0x1b2)]['vx'])<0.05)state[_0x860f50(0x1b2)]['vx']=0x0;if(Math[_0x860f50(0x18b)](state[_0x860f50(0x1b2)]['vy'])<0.05)state[_0x860f50(0x1b2)]['vy']=0x0;let _0x176154=![];state[_0x860f50(0x1b2)]['x']-state['puck'][_0x860f50(0x221)]<0x0&&(state[_0x860f50(0x1b2)]['x']=state[_0x860f50(0x1b2)][_0x860f50(0x221)],state[_0x860f50(0x1b2)]['vx']*=-0x1*CONFIG[_0x860f50(0x229)],_0x176154=!![]);state[_0x860f50(0x1b2)]['x']+state[_0x860f50(0x1b2)][_0x860f50(0x221)]>state[_0x860f50(0x18c)]['width']&&(state[_0x860f50(0x1b2)]['x']=state['field'][_0x860f50(0x1bc)]-state[_0x860f50(0x1b2)]['radius'],state[_0x860f50(0x1b2)]['vx']*=-0x1*CONFIG[_0x860f50(0x229)],_0x176154=!![]);if(_0x176154){playSound(_0x860f50(0x165));if(state[_0x860f50(0x1ba)]==='online_host')broadcast({'type':'state','event':'wall'});}const _0x3a399c=state[_0x860f50(0x18c)][_0x860f50(0x1bc)]*0.3,_0xae605d=state[_0x860f50(0x18c)][_0x860f50(0x1bc)]/0x2;if(state[_0x860f50(0x1b2)]['y']<0x0){handleGoal(0x1);return;}const _0x8de37d=Math[_0x860f50(0x1d5)](state[_0x860f50(0x1b2)]['x']-_0xae605d,state[_0x860f50(0x1b2)]['y']-0x0);if(state[_0x860f50(0x1b2)]['y']<_0x3a399c&&_0x8de37d<_0x3a399c){}if(state['puck']['y']>state[_0x860f50(0x18c)]['height']){handleGoal(0x2);return;}checkPaddleCollision(state['p1']),checkPaddleCollision(state['p2']),state[_0x860f50(0x21e)][_0x860f50(0x1b0)](_0x193c0d=>{const _0x4a37b9=_0x860f50;_0x193c0d['x']+=_0x193c0d['vx'],_0x193c0d['y']+=_0x193c0d['vy'],_0x193c0d[_0x4a37b9(0x181)]-=_0x193c0d[_0x4a37b9(0x20a)];}),state['particles']=state[_0x860f50(0x21e)][_0x860f50(0x1e6)](_0x83590a=>_0x83590a[_0x860f50(0x181)]>0x0),state[_0x860f50(0x1ba)]===_0x860f50(0x1cc)&&conn&&conn[_0x860f50(0x1d0)]&&conn['send']({'type':_0x860f50(0x200),'p1':{'x':state['p1']['x'],'y':state['p1']['y']},'p2':{'x':state['p2']['x'],'y':state['p2']['y']},'puck':{'x':state[_0x860f50(0x1b2)]['x'],'y':state[_0x860f50(0x1b2)]['y'],'vx':state[_0x860f50(0x1b2)]['vx'],'vy':state[_0x860f50(0x1b2)]['vy']},'scores':{'p1':state['p1'][_0x860f50(0x193)],'p2':state['p2'][_0x860f50(0x193)]}});}function handleGoal(_0x2b5d71,_0x21a6e2=![]){const _0x2bfe1f=a0_0x194021;if(_0x21a6e2){playSound(_0x2bfe1f(0x193));if(_0x2b5d71===0x1)spawnParticles(state[_0x2bfe1f(0x1b2)]['x'],0x0,state['p1'][_0x2bfe1f(0x230)]);else spawnParticles(state[_0x2bfe1f(0x1b2)]['x'],state['field']['height'],state['p2']['color']);return;}playSound(_0x2bfe1f(0x193)),state[_0x2bfe1f(0x1b2)]['vx']=0x0,state[_0x2bfe1f(0x1b2)]['vy']=0x0;_0x2b5d71===0x1?(state['p1'][_0x2bfe1f(0x193)]++,spawnParticles(state['puck']['x'],0x0,state['p1'][_0x2bfe1f(0x230)])):(state['p2'][_0x2bfe1f(0x193)]++,spawnParticles(state[_0x2bfe1f(0x1b2)]['x'],state[_0x2bfe1f(0x18c)][_0x2bfe1f(0x1b3)],state['p2'][_0x2bfe1f(0x230)]));if(state[_0x2bfe1f(0x1ba)]===_0x2bfe1f(0x1cc))broadcast({'type':_0x2bfe1f(0x200),'event':'score','scorer':_0x2b5d71});state['p1'][_0x2bfe1f(0x193)]>=CONFIG[_0x2bfe1f(0x166)]||state['p2'][_0x2bfe1f(0x193)]>=CONFIG[_0x2bfe1f(0x166)]?endGame(_0x2b5d71===0x1):resetPositions();}function broadcast(_0x2c3e8f){const _0x16383e=a0_0x194021;conn&&conn[_0x16383e(0x1d0)]&&conn[_0x16383e(0x163)]({..._0x2c3e8f,'p1':{'x':state['p1']['x'],'y':state['p1']['y']},'p2':{'x':state['p2']['x'],'y':state['p2']['y']},'puck':{'x':state[_0x16383e(0x1b2)]['x'],'y':state[_0x16383e(0x1b2)]['y'],'vx':state[_0x16383e(0x1b2)]['vx'],'vy':state[_0x16383e(0x1b2)]['vy']},'scores':{'p1':state['p1'][_0x16383e(0x193)],'p2':state['p2'][_0x16383e(0x193)]}});}function stopGame(){const _0x5dad88=a0_0x194021;state['running']=![],state[_0x5dad88(0x227)]=![],document['getElementById']('main-menu')[_0x5dad88(0x210)]['remove'](_0x5dad88(0x225)),document[_0x5dad88(0x228)]('game-ui')[_0x5dad88(0x210)][_0x5dad88(0x195)](_0x5dad88(0x225)),document[_0x5dad88(0x228)](_0x5dad88(0x1d9))[_0x5dad88(0x210)]['add'](_0x5dad88(0x225)),showMainMenu();}function a0_0x4c4a(_0x451c6a,_0x228d63){_0x451c6a=_0x451c6a-0x160;const _0x596b37=a0_0x596b();let _0x4c4ada=_0x596b37[_0x451c6a];return _0x4c4ada;}function endGame(_0x3bf58d){const _0x219979=a0_0x194021;state[_0x219979(0x173)]=![];state[_0x219979(0x1ba)]===_0x219979(0x1cc)&&broadcast({'type':_0x219979(0x16f),'p1Won':_0x3bf58d});const _0x1e46b2=document['getElementById']('game-over-modal'),_0x2a9ec2=document[_0x219979(0x228)](_0x219979(0x1a8)),_0x2c8269=document['getElementById'](_0x219979(0x223)),_0x4b991a=state['mode']!==_0x219979(0x1f2),_0x577f20=_0x4b991a?_0x3bf58d:!_0x3bf58d;_0x2a9ec2[_0x219979(0x1ff)]=_0x577f20?_0x219979(0x1b6):_0x219979(0x178),_0x2a9ec2[_0x219979(0x1ca)][_0x219979(0x230)]=_0x577f20?'#0ff':_0x219979(0x222),_0x2c8269[_0x219979(0x1ff)]=state['p1'][_0x219979(0x193)]+_0x219979(0x175)+state['p2']['score'];if(_0x577f20){let _0x264ac0=parseInt(localStorage[_0x219979(0x1d2)](_0x219979(0x180))||'0');_0x264ac0++,localStorage['setItem'](_0x219979(0x180),_0x264ac0),updateHighScoreDisplay();}_0x1e46b2[_0x219979(0x210)][_0x219979(0x212)](_0x219979(0x225)),document[_0x219979(0x228)](_0x219979(0x220))[_0x219979(0x210)][_0x219979(0x195)](_0x219979(0x225));}window['returnToMenu']=()=>{const _0x2d4444=a0_0x194021;document['getElementById']('game-over-modal')['classList'][_0x2d4444(0x195)](_0x2d4444(0x225)),document['getElementById'](_0x2d4444(0x1d3))[_0x2d4444(0x210)][_0x2d4444(0x212)]('hidden');},window[a0_0x194021(0x205)]=()=>{const _0xb4e6d3=a0_0x194021;state[_0xb4e6d3(0x227)]=!state[_0xb4e6d3(0x227)];const _0x3ca4ed=document[_0xb4e6d3(0x228)](_0xb4e6d3(0x1d9)),_0xb6e2ba=document[_0xb4e6d3(0x228)](_0xb4e6d3(0x1c8)),_0x417f0f=document[_0xb4e6d3(0x228)](_0xb4e6d3(0x1f6));if(state[_0xb4e6d3(0x227)]){if(_0xb6e2ba)_0xb6e2ba['textContent']=_0xb4e6d3(0x1c3);if(_0x417f0f)_0x417f0f['style'][_0xb4e6d3(0x172)]='block';_0x3ca4ed[_0xb4e6d3(0x210)][_0xb4e6d3(0x212)](_0xb4e6d3(0x225));}else _0x3ca4ed[_0xb4e6d3(0x210)][_0xb4e6d3(0x195)](_0xb4e6d3(0x225));},window[a0_0x194021(0x1fa)]=()=>{const _0x1ee982=a0_0x194021;document[_0x1ee982(0x228)](_0x1ee982(0x1f5))[_0x1ee982(0x210)]['add']('hidden'),startGame(state[_0x1ee982(0x1ba)]);};function updateHighScoreDisplay(){const _0x19b364=a0_0x194021,_0x12f05d=localStorage[_0x19b364(0x1d2)]('tron_hockey_wins')||'0',_0x1b0152=document[_0x19b364(0x228)](_0x19b364(0x179));if(_0x1b0152)_0x1b0152[_0x19b364(0x1ff)]=_0x19b364(0x22a)+_0x12f05d;}function checkPaddleCollision(_0x54b24f){const _0x4d840f=a0_0x194021,_0x3a5e74=state[_0x4d840f(0x1b2)]['x']-_0x54b24f['x'],_0x2fbc24=state[_0x4d840f(0x1b2)]['y']-_0x54b24f['y'],_0x291622=Math['sqrt'](_0x3a5e74*_0x3a5e74+_0x2fbc24*_0x2fbc24),_0x3f62f8=state[_0x4d840f(0x1b2)][_0x4d840f(0x221)]+_0x54b24f[_0x4d840f(0x221)];if(_0x291622<_0x3f62f8){const _0x31c066=Math[_0x4d840f(0x1c0)](_0x2fbc24,_0x3a5e74),_0x2d144a=_0x3f62f8-_0x291622;state[_0x4d840f(0x1b2)]['x']+=Math[_0x4d840f(0x20c)](_0x31c066)*_0x2d144a,state[_0x4d840f(0x1b2)]['y']+=Math[_0x4d840f(0x19d)](_0x31c066)*_0x2d144a;const _0x284b29=Math['cos'](_0x31c066),_0x287e66=Math['sin'](_0x31c066),_0x4f5578=state[_0x4d840f(0x1b2)]['vx']*_0x284b29+state['puck']['vy']*_0x287e66;state[_0x4d840f(0x1b2)]['vx']=state[_0x4d840f(0x1b2)]['vx']-0x2*_0x4f5578*_0x284b29,state[_0x4d840f(0x1b2)]['vy']=state[_0x4d840f(0x1b2)]['vy']-0x2*_0x4f5578*_0x287e66;const _0x33f556=Math[_0x4d840f(0x170)](_0x54b24f['vx']**0x2+_0x54b24f['vy']**0x2);_0x33f556>0.1?(state[_0x4d840f(0x1b2)]['vx']+=_0x54b24f['vx']*1.5,state[_0x4d840f(0x1b2)]['vy']+=_0x54b24f['vy']*1.5):(state[_0x4d840f(0x1b2)]['vx']*=0.8,state[_0x4d840f(0x1b2)]['vy']*=0.8);const _0xfd33c5=Math[_0x4d840f(0x170)](state['puck']['vx']**0x2+state[_0x4d840f(0x1b2)]['vy']**0x2);_0xfd33c5>state[_0x4d840f(0x1b2)][_0x4d840f(0x1b8)]&&(state[_0x4d840f(0x1b2)]['vx']=state[_0x4d840f(0x1b2)]['vx']/_0xfd33c5*state[_0x4d840f(0x1b2)][_0x4d840f(0x1b8)],state[_0x4d840f(0x1b2)]['vy']=state[_0x4d840f(0x1b2)]['vy']/_0xfd33c5*state['puck'][_0x4d840f(0x1b8)]),playSound(_0x4d840f(0x204));}}function viewX(_0x5ee818){const _0x443d93=a0_0x194021;if(state[_0x443d93(0x21d)])return state[_0x443d93(0x18c)][_0x443d93(0x1bc)]-_0x5ee818;return _0x5ee818;}function viewY(_0x565647){const _0x1567b2=a0_0x194021;if(state[_0x1567b2(0x21d)])return state[_0x1567b2(0x18c)][_0x1567b2(0x1b3)]-_0x565647;return _0x565647;}window[a0_0x194021(0x1ab)]=()=>{const _0x19e84b=a0_0x194021;state[_0x19e84b(0x21d)]=!state[_0x19e84b(0x21d)];};function draw(){const _0x4e508b=a0_0x194021;ctx['clearRect'](0x0,0x0,canvas[_0x4e508b(0x1bc)],canvas[_0x4e508b(0x1b3)]);const _0x304b5a=canvas[_0x4e508b(0x1bc)],_0x21fbdc=canvas['height'];state[_0x4e508b(0x1ba)]==='online_client'&&state[_0x4e508b(0x21d)]===undefined&&(state['flipped']=!![]);const _0x4e4ff7=_0x21fbdc/0x2;drawGrid(_0x304b5a,_0x21fbdc),ctx['lineWidth']=0x3,ctx['strokeStyle']=_0x4e508b(0x1f1),ctx['beginPath'](),ctx[_0x4e508b(0x174)](0x0,_0x4e4ff7-0x6),ctx[_0x4e508b(0x1ae)](_0x304b5a,_0x4e4ff7-0x6),ctx[_0x4e508b(0x21b)](),ctx['beginPath'](),ctx[_0x4e508b(0x174)](0x0,_0x4e4ff7+0x6),ctx[_0x4e508b(0x1ae)](_0x304b5a,_0x4e4ff7+0x6),ctx[_0x4e508b(0x21b)](),ctx[_0x4e508b(0x214)]=_0x4e508b(0x1a5),ctx['shadowBlur']=0xa,ctx[_0x4e508b(0x1ad)]='#00ffff',ctx[_0x4e508b(0x20f)](),ctx[_0x4e508b(0x187)](_0x304b5a/0x2,_0x4e4ff7,_0x304b5a*0.22,0x0,Math['PI']*0x2),ctx[_0x4e508b(0x21b)](),ctx[_0x4e508b(0x20f)](),ctx[_0x4e508b(0x187)](_0x304b5a/0x2,_0x4e4ff7,_0x304b5a*0.18,0x0,Math['PI']*0x2),ctx['strokeStyle']=_0x4e508b(0x16e),ctx[_0x4e508b(0x21b)]();const _0x3b4cb2=_0x304b5a*0.3;ctx[_0x4e508b(0x167)]=0xf,ctx[_0x4e508b(0x1ad)]=state['p2']['color'],ctx['strokeStyle']=state['p2'][_0x4e508b(0x230)],ctx[_0x4e508b(0x1c6)]=0x4,ctx[_0x4e508b(0x20f)]();const _0x954c9=state[_0x4e508b(0x21d)],_0x26a591=_0x954c9?state['p1'][_0x4e508b(0x230)]:state['p2']['color'],_0x1f3c8b=_0x954c9?state['p2'][_0x4e508b(0x230)]:state['p1'][_0x4e508b(0x230)];ctx[_0x4e508b(0x1ad)]=_0x26a591,ctx[_0x4e508b(0x214)]=_0x26a591,ctx[_0x4e508b(0x20f)](),ctx['arc'](_0x304b5a/0x2,-0x3c,_0x3b4cb2,0x0,Math['PI'],![]),ctx[_0x4e508b(0x21b)](),ctx[_0x4e508b(0x1ad)]=_0x1f3c8b,ctx[_0x4e508b(0x214)]=_0x1f3c8b,ctx[_0x4e508b(0x20f)](),ctx[_0x4e508b(0x187)](_0x304b5a/0x2,_0x21fbdc+0x3c,_0x3b4cb2,Math['PI'],0x0,![]),ctx[_0x4e508b(0x21b)](),ctx[_0x4e508b(0x167)]=0x0,ctx[_0x4e508b(0x1b4)]='top';const _0x43d376=_0x21fbdc*0.08;ctx[_0x4e508b(0x233)]='900\x20'+_0x43d376+_0x4e508b(0x188);const _0x4d4141=(_0x2b9c81,_0x130eec,_0x77f4c0,_0x4efb4a,_0x47c95a)=>{const _0x539f78=_0x4e508b;ctx[_0x539f78(0x1b4)]=_0x47c95a,ctx[_0x539f78(0x224)]=_0x539f78(0x1b5),ctx[_0x539f78(0x169)]=0x2,ctx['strokeStyle']=_0x4efb4a,ctx[_0x539f78(0x1c6)]=0x4,ctx[_0x539f78(0x19c)]=_0x539f78(0x22b),ctx['strokeText'](_0x2b9c81,_0x130eec,_0x77f4c0);},_0x18e493=_0x954c9?state['p1'][_0x4e508b(0x193)]:state['p2'][_0x4e508b(0x193)],_0x525417=_0x954c9?state['p2']['score']:state['p1'][_0x4e508b(0x193)];_0x4d4141(_0x18e493[_0x4e508b(0x208)](),_0x304b5a-0x19,0x19,_0x26a591,_0x4e508b(0x160)),_0x4d4141(_0x525417[_0x4e508b(0x208)](),_0x304b5a-0x19,_0x21fbdc-0x19,_0x1f3c8b,_0x4e508b(0x218)),drawPaddle(state['p1']),drawPaddle(state['p2']),drawPuck(state[_0x4e508b(0x1b2)]),state[_0x4e508b(0x21e)]['forEach'](_0x426d2d=>{const _0x358006=_0x4e508b;ctx[_0x358006(0x1e5)]=_0x426d2d[_0x358006(0x181)]>0x0?_0x426d2d[_0x358006(0x181)]:0x0,ctx[_0x358006(0x161)]=_0x426d2d['color'],ctx[_0x358006(0x20f)](),ctx['arc'](viewX(_0x426d2d['x']),viewY(_0x426d2d['y']),0x4,0x0,Math['PI']*0x2),ctx['fill'](),ctx['globalAlpha']=0x1;}),requestAnimationFrame(draw);}function a0_0x596b(){const _0x1254ba=['square','arc','px\x20sans-serif','ID\x20Copied!','paddleRadiusRatio','abs','field','length','value','connection-status','input','install-modal','showMainMenu','score','scores','add','startGame','performUpdate','102437hGVQXq','#103035','Saved\x20ID\x20is\x20unavailable,\x20generating\x20new\x20one...','Connection\x20Error:','textAlign','sin','copyPeerId','destination','connect','touchmove','clientX','Connecting\x20to\x20','map','rgba(0,\x20255,\x20255,\x200.3)','trim','connect-id-input','game-over-title','selectDiff','location','toggleFlip','data','shadowColor','lineTo','difficult','forEach','game=','puck','height','textBaseline','round','YOU\x20WIN','innerWidth','maxSpeed','error','mode','split','width','Error\x20parsing\x20ID','User\x20response\x20to\x20the\x20install\x20prompt:\x20','offline-modal','atan2','createOscillator','peer-id-input','PAUSED','Error:\x20','#ffffff','lineWidth','245345YEDyth','pause-title','reload','style','prompt','online_host','lobby-status','getBoundingClientRect','Ignoring\x20join\x20parameter\x20(Self\x20ID)','open','30842OoYSEJ','getItem','main-menu','1212750nCspoB','hypot','log','webkitAudioContext','setValueAtTime','pause-modal','240134yUiJnZ','suspended','game-container','push','.diff-btn','writeText','4937024vyKuVj','#0ff','install-btn','#fff','cpu','globalAlpha','filter','search','mode-menu','innerHeight','prevY','resume','then','clientY','type','medium','lobby-modal','#2a4d53','online_client','gain','#555','game-over-modal','resume-btn','none','serviceWorker','userChoice','restartGame','unavailable-id','close','off','scorer','textContent','state','PeerJS\x20Error:','click','frequency','hit','togglePause','difficulty','Host\x20not\x20found!\x20Make\x20sure\x20the\x20Host\x20is\x20online\x20and\x20the\x20ID\x20is\x20correct.','toString','update-modal','decay','exponentialRampToValueAtTime','cos','insane','min','beginPath','classList','#ffcc00','remove','prevX','strokeStyle','connection','openLobby','onLine','bottom','includes','addEventListener','stroke','delete','flipped','particles','puckMaxSpeedMultiplier','game-ui','radius','#ff3366','game-over-score','lineJoin','hidden','AudioContext','paused','getElementById','wallBounce','WINS:\x20','right','difficulty-select','local','get','6BvFsHZ','color','game','gameCanvas','font','getRegistrations','1185312tXTTZh','top','fillStyle','max','send','friction','wall','winningScore','shadowBlur','#0f0','miterLimit','random','tron_hockey_peer_id','stop','setItem','rgba(0,\x20255,\x20255,\x200.1)','game_over','sqrt','preventDefault','display','running','moveTo','\x20\x20-\x20\x20','touches','clientHeight','YOU\x20LOSE','highscore-display','clipboard','event','start','destroy','cpu-menu','left','tron_hockey_wins','life','active','showCpuMenu','Ready\x20to\x20Connect','roundRect'];a0_0x596b=function(){return _0x1254ba;};return a0_0x596b();}function drawGrid(_0x2b31bb,_0x2cc75f){const _0x5f316e=a0_0x194021,_0x3b8a0b=0x5,_0x1d231b=0x9,_0x56c05b=_0x2b31bb/_0x3b8a0b,_0x33e480=_0x2cc75f/_0x1d231b,_0x3060c3=0x5;ctx[_0x5f316e(0x214)]=_0x5f316e(0x199),ctx[_0x5f316e(0x1c6)]=0x2,ctx[_0x5f316e(0x167)]=0x0;for(let _0x22a9ba=0x0;_0x22a9ba<_0x1d231b;_0x22a9ba++){for(let _0x489ba4=0x0;_0x489ba4<_0x3b8a0b;_0x489ba4++){const _0x2df988=_0x489ba4*_0x56c05b+_0x3060c3,_0x224144=_0x22a9ba*_0x33e480+_0x3060c3,_0x1e0391=_0x56c05b-_0x3060c3*0x2,_0x1c2f64=_0x33e480-_0x3060c3*0x2;ctx[_0x5f316e(0x20f)](),ctx[_0x5f316e(0x185)](_0x2df988,_0x224144,_0x1e0391,_0x1c2f64,0xc),ctx[_0x5f316e(0x21b)]();}}}function drawPaddle(_0x1d1660){const _0x474f5d=a0_0x194021,_0x40301d=viewX(_0x1d1660['x']),_0x147793=viewY(_0x1d1660['y']),_0xc8bd2b=_0x1d1660[_0x474f5d(0x221)],_0x39b00d=_0x1d1660[_0x474f5d(0x230)];ctx[_0x474f5d(0x167)]=0xf,ctx[_0x474f5d(0x1ad)]=_0x39b00d,_0x39b00d==='#ffffff'?(ctx[_0x474f5d(0x1c6)]=0x5,ctx[_0x474f5d(0x214)]=_0x474f5d(0x1e3),ctx[_0x474f5d(0x20f)](),ctx['arc'](_0x40301d,_0x147793,_0xc8bd2b,0x0,Math['PI']*0x2),ctx['stroke'](),ctx[_0x474f5d(0x1c6)]=0x2,ctx[_0x474f5d(0x214)]=_0x474f5d(0x1f4),ctx[_0x474f5d(0x20f)](),ctx['arc'](_0x40301d,_0x147793,Math[_0x474f5d(0x162)](0x0,_0xc8bd2b-0x6),0x0,Math['PI']*0x2),ctx[_0x474f5d(0x21b)]()):(ctx[_0x474f5d(0x1c6)]=0x4,ctx[_0x474f5d(0x214)]=_0x39b00d,ctx[_0x474f5d(0x20f)](),ctx[_0x474f5d(0x187)](_0x40301d,_0x147793,_0xc8bd2b,0x0,Math['PI']*0x2),ctx['stroke'](),ctx['beginPath'](),ctx[_0x474f5d(0x187)](_0x40301d,_0x147793,Math[_0x474f5d(0x162)](0x0,_0xc8bd2b-0x8),0x0,Math['PI']*0x2),ctx['stroke']()),ctx['shadowBlur']=0x0;}function drawPuck(_0x2100cd){const _0xc7e490=a0_0x194021,_0x4ef6bb=viewX(_0x2100cd['x']),_0x24b717=viewY(_0x2100cd['y']),_0x3acd43=_0x2100cd[_0xc7e490(0x221)];ctx['shadowBlur']=0xf,ctx[_0xc7e490(0x1ad)]='#0ff',ctx['strokeStyle']=_0xc7e490(0x1e1),ctx[_0xc7e490(0x1c6)]=0x5,ctx[_0xc7e490(0x20f)](),ctx[_0xc7e490(0x187)](_0x4ef6bb,_0x24b717,_0x3acd43,Math['PI'],1.5*Math['PI']-0.5),ctx['stroke'](),ctx['beginPath'](),ctx[_0xc7e490(0x187)](_0x4ef6bb,_0x24b717,_0x3acd43,1.5*Math['PI']+0.5,0x0),ctx[_0xc7e490(0x21b)](),ctx[_0xc7e490(0x20f)](),ctx[_0xc7e490(0x187)](_0x4ef6bb,_0x24b717,_0x3acd43,0x0+0.5,0.5*Math['PI']),ctx['stroke'](),ctx[_0xc7e490(0x20f)](),ctx[_0xc7e490(0x187)](_0x4ef6bb,_0x24b717,_0x3acd43,0.5*Math['PI']+0.5,Math['PI']),ctx['stroke'](),ctx['lineWidth']=0x3,ctx[_0xc7e490(0x20f)]();const _0x1cac3a=0x6;ctx[_0xc7e490(0x174)](_0x4ef6bb,_0x24b717-_0x3acd43+_0x1cac3a),ctx[_0xc7e490(0x1ae)](_0x4ef6bb,_0x24b717-_0x3acd43-0x4),ctx[_0xc7e490(0x174)](_0x4ef6bb,_0x24b717+_0x3acd43-_0x1cac3a),ctx[_0xc7e490(0x1ae)](_0x4ef6bb,_0x24b717+_0x3acd43+0x4),ctx[_0xc7e490(0x174)](_0x4ef6bb-_0x3acd43+_0x1cac3a,_0x24b717),ctx[_0xc7e490(0x1ae)](_0x4ef6bb-_0x3acd43-0x4,_0x24b717),ctx[_0xc7e490(0x174)](_0x4ef6bb+_0x3acd43+_0x1cac3a,_0x24b717),ctx[_0xc7e490(0x1ae)](_0x4ef6bb+_0x3acd43+0x4,_0x24b717),ctx['stroke'](),ctx[_0xc7e490(0x1ad)]=_0xc7e490(0x211),ctx[_0xc7e490(0x214)]=_0xc7e490(0x211),ctx['lineWidth']=0x4,ctx[_0xc7e490(0x20f)](),ctx[_0xc7e490(0x187)](_0x4ef6bb,_0x24b717,_0x3acd43*0.5,0x0,Math['PI']*0x2),ctx[_0xc7e490(0x21b)](),ctx[_0xc7e490(0x167)]=0x0;}function handleInput(_0x576a8e,_0x5e585b,_0x54ca14){const _0x12c28d=a0_0x194021;if(!state[_0x12c28d(0x173)])return;let _0x2042e1;if(state[_0x12c28d(0x1ba)]===_0x12c28d(0x1f2))_0x2042e1=state['p2'];else state['mode']===_0x12c28d(0x1cc)||state[_0x12c28d(0x1ba)]===_0x12c28d(0x1e4)?_0x2042e1=state['p1']:_0x2042e1=_0x54ca14?state['p1']:state['p2'];const _0x50deea=_0x2042e1===state['p1'],_0x4172e5=_0x50deea?state['field'][_0x12c28d(0x1b3)]/0x2+_0x2042e1[_0x12c28d(0x221)]:_0x2042e1['radius'],_0x373a24=_0x50deea?state['field'][_0x12c28d(0x1b3)]-_0x2042e1[_0x12c28d(0x221)]:state[_0x12c28d(0x18c)][_0x12c28d(0x1b3)]/0x2-_0x2042e1['radius'];_0x2042e1['x']=Math[_0x12c28d(0x162)](_0x2042e1[_0x12c28d(0x221)],Math[_0x12c28d(0x20e)](state['field'][_0x12c28d(0x1bc)]-_0x2042e1[_0x12c28d(0x221)],_0x576a8e)),_0x2042e1['y']=Math[_0x12c28d(0x162)](_0x4172e5,Math['min'](_0x373a24,_0x5e585b));}canvas[a0_0x194021(0x21a)]('pointermove',_0x43e40a=>{const _0xbf6942=a0_0x194021;_0x43e40a[_0xbf6942(0x171)]();if(state[_0xbf6942(0x227)])return;const _0x2e1da7=canvas[_0xbf6942(0x1ce)]();let _0x21f487=_0x43e40a['clientX']-_0x2e1da7[_0xbf6942(0x17f)],_0x37be71=_0x43e40a['clientY']-_0x2e1da7[_0xbf6942(0x160)];state[_0xbf6942(0x21d)]&&(_0x21f487=state['field'][_0xbf6942(0x1bc)]-_0x21f487,_0x37be71=state[_0xbf6942(0x18c)][_0xbf6942(0x1b3)]-_0x37be71),handleInput(_0x21f487,_0x37be71,!![]);}),canvas['addEventListener'](a0_0x194021(0x1a1),_0x3e5027=>{const _0x460793=a0_0x194021;_0x3e5027['preventDefault']();if(state['paused'])return;const _0x4a5d96=canvas[_0x460793(0x1ce)]();for(let _0x3fe9d5=0x0;_0x3fe9d5<_0x3e5027[_0x460793(0x176)][_0x460793(0x18d)];_0x3fe9d5++){const _0x2c3335=_0x3e5027['touches'][_0x3fe9d5];let _0x34c054=_0x2c3335[_0x460793(0x1a2)]-_0x4a5d96[_0x460793(0x17f)],_0x4c0eb5=_0x2c3335[_0x460793(0x1ed)]-_0x4a5d96['top'];state['flipped']&&(_0x34c054=state[_0x460793(0x18c)][_0x460793(0x1bc)]-_0x34c054,_0x4c0eb5=state['field']['height']-_0x4c0eb5);if(state[_0x460793(0x1ba)]===_0x460793(0x22d)){if(_0x4c0eb5>state['field']['height']/0x2)handleInput(_0x34c054,_0x4c0eb5,!![]);else handleInput(_0x34c054,_0x4c0eb5,![]);}else handleInput(_0x34c054,_0x4c0eb5,!![]);}},{'passive':![]});const updateLoop=setInterval(update,0x3e8/0x3c);requestAnimationFrame(draw),window[a0_0x194021(0x196)]=_0x37615a=>{const _0x301645=a0_0x194021;state[_0x301645(0x1ba)]=_0x37615a,state[_0x301645(0x206)]=document[_0x301645(0x228)](_0x301645(0x22c))[_0x301645(0x18e)],state[_0x301645(0x173)]=!![],state['p1'][_0x301645(0x193)]=0x0,state['p2'][_0x301645(0x193)]=0x0,resize(),resetPositions(),document[_0x301645(0x228)]('main-menu')[_0x301645(0x210)][_0x301645(0x195)](_0x301645(0x225)),document['getElementById']('game-ui')['classList'][_0x301645(0x212)](_0x301645(0x225));if(audioCtx['state']===_0x301645(0x1db))audioCtx[_0x301645(0x1eb)]();};let deferredPrompt;window[a0_0x194021(0x21a)]('beforeinstallprompt',_0x1fb555=>{const _0x207580=a0_0x194021;_0x1fb555['preventDefault'](),deferredPrompt=_0x1fb555,document['getElementById'](_0x207580(0x191))[_0x207580(0x210)][_0x207580(0x212)]('hidden');}),document['getElementById'](a0_0x194021(0x1e2))[a0_0x194021(0x21a)](a0_0x194021(0x202),async()=>{const _0x21468c=a0_0x194021;if(deferredPrompt){deferredPrompt[_0x21468c(0x1cb)]();const {outcome:_0x3397ff}=await deferredPrompt[_0x21468c(0x1f9)];console[_0x21468c(0x1d6)](_0x21468c(0x1be)+_0x3397ff),deferredPrompt=null,document[_0x21468c(0x228)]('install-modal')[_0x21468c(0x210)]['add'](_0x21468c(0x225));}}),window['updateApp']=()=>{const _0x1bc881=a0_0x194021;if(!navigator['onLine']){document['getElementById'](_0x1bc881(0x1bf))[_0x1bc881(0x210)][_0x1bc881(0x212)](_0x1bc881(0x225));return;}document[_0x1bc881(0x228)]('update-modal')[_0x1bc881(0x210)]['remove']('hidden');},window[a0_0x194021(0x197)]=async()=>{const _0x3d18ad=a0_0x194021;document[_0x3d18ad(0x228)](_0x3d18ad(0x209))[_0x3d18ad(0x210)][_0x3d18ad(0x195)](_0x3d18ad(0x225));if(_0x3d18ad(0x1f8)in navigator){const _0x2003a7=await navigator[_0x3d18ad(0x1f8)][_0x3d18ad(0x234)]();for(let _0x35e5a7 of _0x2003a7){await _0x35e5a7['unregister']();}}if('caches'in window){const _0x335c20=await caches['keys']();await Promise['all'](_0x335c20[_0x3d18ad(0x1a4)](_0x52e633=>caches[_0x3d18ad(0x21c)](_0x52e633)));}window[_0x3d18ad(0x1aa)]['reload'](!![]);},window[a0_0x194021(0x1a9)]=(_0x53d4d0,_0x1323a2)=>{const _0xe62da2=a0_0x194021;document[_0xe62da2(0x228)](_0xe62da2(0x22c))[_0xe62da2(0x18e)]=_0x53d4d0;const _0x3e17ef=document['querySelectorAll'](_0xe62da2(0x1de));_0x3e17ef[_0xe62da2(0x1b0)](_0x219305=>_0x219305['classList'][_0xe62da2(0x212)]('active')),_0x1323a2[_0xe62da2(0x210)][_0xe62da2(0x195)](_0xe62da2(0x182));},window[a0_0x194021(0x21a)]('resize',resize),setTimeout(()=>{resize(),resetPositions(),updateHighScoreDisplay();},0x64);