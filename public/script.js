const a0_0x3ec8c2=a0_0x26ed;(function(_0x1a7921,_0x17e903){const _0x12f4c5=a0_0x26ed,_0xbd4369=_0x1a7921();while(!![]){try{const _0x1c1095=-parseInt(_0x12f4c5(0x1c8))/0x1+-parseInt(_0x12f4c5(0x207))/0x2+parseInt(_0x12f4c5(0x2be))/0x3+parseInt(_0x12f4c5(0x241))/0x4+parseInt(_0x12f4c5(0x250))/0x5*(-parseInt(_0x12f4c5(0x23d))/0x6)+parseInt(_0x12f4c5(0x2ae))/0x7*(-parseInt(_0x12f4c5(0x202))/0x8)+parseInt(_0x12f4c5(0x283))/0x9;if(_0x1c1095===_0x17e903)break;else _0xbd4369['push'](_0xbd4369['shift']());}catch(_0x5caac3){_0xbd4369['push'](_0xbd4369['shift']());}}}(a0_0x2558,0xcb63a));const canvas=document[a0_0x3ec8c2(0x1f1)](a0_0x3ec8c2(0x1ef)),ctx=canvas['getContext']('2d'),state={'running':![],'paused':![],'mode':a0_0x3ec8c2(0x1f5),'difficulty':a0_0x3ec8c2(0x1d0),'flipped':undefined,'p1':{'score':0x0,'x':0x0,'y':0x0,'prevX':0x0,'prevY':0x0,'vx':0x0,'vy':0x0,'radius':0x0,'color':a0_0x3ec8c2(0x21d)},'p2':{'score':0x0,'x':0x0,'y':0x0,'prevX':0x0,'prevY':0x0,'vx':0x0,'vy':0x0,'radius':0x0,'color':'#ff0066'},'puck':{'x':0x0,'y':0x0,'vx':0x0,'vy':0x0,'radius':0x0,'speed':0x0,'maxSpeed':0x0},'field':{'width':0x190,'height':0x320},'particles':[],'countdown':![],'turn':0x1,'awaitingServe':![]},CONFIG={'friction':0.992,'wallBounce':0.9,'puckMaxSpeedMultiplier':0.04,'paddleRadiusRatio':0.08,'puckRadiusRatio':0.04,'winningScore':0xc},DIFFICULTIES={'medium':{'speed':0.1,'reaction':0.1,'error':0x14},'difficult':{'speed':0.18,'reaction':0.05,'error':0xa},'insane':{'speed':0.4,'reaction':0.01,'error':0x0}},AudioContext=window[a0_0x3ec8c2(0x1c5)]||window[a0_0x3ec8c2(0x26c)],audioCtx=new AudioContext();function playSound(_0x500895){const _0x544731=a0_0x3ec8c2;if(audioCtx[_0x544731(0x29e)]===_0x544731(0x263))audioCtx[_0x544731(0x27f)]();const _0x28ed82=audioCtx[_0x544731(0x2a2)](),_0x160d56=audioCtx[_0x544731(0x22a)]();_0x28ed82[_0x544731(0x244)](_0x160d56),_0x160d56[_0x544731(0x244)](audioCtx['destination']);const _0x99f894=audioCtx[_0x544731(0x1ea)];if(_0x500895===_0x544731(0x1bf))_0x28ed82[_0x544731(0x227)][_0x544731(0x2aa)](0x190,_0x99f894),_0x28ed82[_0x544731(0x227)]['exponentialRampToValueAtTime'](0x64,_0x99f894+0.1),_0x160d56['gain'][_0x544731(0x2aa)](0.3,_0x99f894),_0x160d56['gain'][_0x544731(0x229)](0.01,_0x99f894+0.1),_0x28ed82[_0x544731(0x21a)](_0x99f894),_0x28ed82['stop'](_0x99f894+0.1);else{if(_0x500895===_0x544731(0x298))_0x28ed82[_0x544731(0x227)][_0x544731(0x2aa)](0xc8,_0x99f894),_0x28ed82[_0x544731(0x227)][_0x544731(0x229)](0x32,_0x99f894+0.1),_0x160d56[_0x544731(0x29c)][_0x544731(0x2aa)](0.2,_0x99f894),_0x160d56[_0x544731(0x29c)][_0x544731(0x229)](0.01,_0x99f894+0.1),_0x28ed82[_0x544731(0x21a)](_0x99f894),_0x28ed82['stop'](_0x99f894+0.1);else{if(_0x500895===_0x544731(0x2ac))_0x28ed82['type']='square',_0x28ed82['frequency'][_0x544731(0x2aa)](0x258,_0x99f894),_0x28ed82[_0x544731(0x227)]['setValueAtTime'](0x320,_0x99f894+0.1),_0x28ed82[_0x544731(0x227)][_0x544731(0x2aa)](0x190,_0x99f894+0.2),_0x160d56[_0x544731(0x29c)][_0x544731(0x2aa)](0.3,_0x99f894),_0x160d56[_0x544731(0x29c)][_0x544731(0x229)](0.01,_0x99f894+0.6),_0x28ed82[_0x544731(0x21a)](_0x99f894),_0x28ed82[_0x544731(0x25e)](_0x99f894+0.6);else{if(_0x500895===_0x544731(0x288))_0x28ed82[_0x544731(0x227)][_0x544731(0x2aa)](0x1b8,_0x99f894),_0x160d56['gain'][_0x544731(0x2aa)](0.2,_0x99f894),_0x160d56[_0x544731(0x29c)][_0x544731(0x229)](0.01,_0x99f894+0.2),_0x28ed82[_0x544731(0x21a)](_0x99f894),_0x28ed82[_0x544731(0x25e)](_0x99f894+0.2);else _0x500895==='go'&&(_0x28ed82[_0x544731(0x252)]='triangle',_0x28ed82[_0x544731(0x227)]['setValueAtTime'](0x370,_0x99f894),_0x160d56[_0x544731(0x29c)][_0x544731(0x2aa)](0.3,_0x99f894),_0x160d56[_0x544731(0x29c)]['exponentialRampToValueAtTime'](0.01,_0x99f894+0.3),_0x28ed82[_0x544731(0x21a)](_0x99f894),_0x28ed82['stop'](_0x99f894+0.3));}}}}function viewX(_0x4adeb2){const _0x1b03cf=a0_0x3ec8c2,_0x167a10=canvas[_0x1b03cf(0x1e1)]/state[_0x1b03cf(0x232)][_0x1b03cf(0x1e1)],_0x382ff8=_0x4adeb2*_0x167a10;return state['flipped']?canvas[_0x1b03cf(0x1e1)]-_0x382ff8:_0x382ff8;}function viewY(_0x3d7fb0){const _0x675044=a0_0x3ec8c2,_0x22bccb=canvas[_0x675044(0x248)]/state[_0x675044(0x232)]['height'],_0x4cc0e2=_0x3d7fb0*_0x22bccb;return state[_0x675044(0x282)]?canvas[_0x675044(0x248)]-_0x4cc0e2:_0x4cc0e2;}function viewLen(_0x7289e4){const _0x447d63=a0_0x3ec8c2;return _0x7289e4*(canvas['width']/state[_0x447d63(0x232)][_0x447d63(0x1e1)]);}function logicX(_0x3e4464){const _0x32e0fe=a0_0x3ec8c2,_0x2a2c41=canvas[_0x32e0fe(0x1e1)]/state[_0x32e0fe(0x232)]['width'];let _0x566c4a=_0x3e4464;if(state[_0x32e0fe(0x282)])_0x566c4a=canvas[_0x32e0fe(0x1e1)]-_0x566c4a;return _0x566c4a/_0x2a2c41;}function logicY(_0x2ac089){const _0x8c502d=a0_0x3ec8c2,_0x4e7898=canvas[_0x8c502d(0x248)]/state[_0x8c502d(0x232)][_0x8c502d(0x248)];let _0x2f9bde=_0x2ac089;if(state[_0x8c502d(0x282)])_0x2f9bde=canvas[_0x8c502d(0x248)]-_0x2f9bde;return _0x2f9bde/_0x4e7898;}function resize(){const _0x12ac5d=a0_0x3ec8c2,_0x2d59c3=document[_0x12ac5d(0x1f1)](_0x12ac5d(0x2a7));if(!_0x2d59c3)return;canvas[_0x12ac5d(0x1e1)]=_0x2d59c3[_0x12ac5d(0x1f6)]||window['innerWidth'],canvas[_0x12ac5d(0x248)]=_0x2d59c3[_0x12ac5d(0x25f)]||window[_0x12ac5d(0x1d2)];const _0x5877bc=0x190;state['p1']['radius']=_0x5877bc*CONFIG[_0x12ac5d(0x1cd)],state['p2'][_0x12ac5d(0x2c2)]=_0x5877bc*CONFIG[_0x12ac5d(0x1cd)],state[_0x12ac5d(0x23c)][_0x12ac5d(0x2c2)]=_0x5877bc*CONFIG['puckRadiusRatio'],state[_0x12ac5d(0x23c)][_0x12ac5d(0x237)]=0x320*CONFIG['puckMaxSpeedMultiplier'];if(!state[_0x12ac5d(0x235)])resetPositions();}function resetPositions(){const _0x528f9c=a0_0x3ec8c2;state['p1']['x']=state['field'][_0x528f9c(0x1e1)]/0x2,state['p1']['y']=state[_0x528f9c(0x232)][_0x528f9c(0x248)]-state['field'][_0x528f9c(0x248)]*0.15,state['p1'][_0x528f9c(0x1ce)]=state['p1']['x'],state['p1']['prevY']=state['p1']['y'],state['p2']['x']=state[_0x528f9c(0x232)][_0x528f9c(0x1e1)]/0x2,state['p2']['y']=state[_0x528f9c(0x232)][_0x528f9c(0x248)]*0.15,state['p2'][_0x528f9c(0x1ce)]=state['p2']['x'],state['p2'][_0x528f9c(0x2bc)]=state['p2']['y'],state[_0x528f9c(0x23c)]['vx']=0x0,state[_0x528f9c(0x23c)]['vy']=0x0,state[_0x528f9c(0x275)]===0x1?(state[_0x528f9c(0x23c)]['x']=state['p1']['x'],state[_0x528f9c(0x23c)]['y']=state['p1']['y']-state['p1'][_0x528f9c(0x2c2)]-state[_0x528f9c(0x23c)][_0x528f9c(0x2c2)]-0x8):(state[_0x528f9c(0x23c)]['x']=state['p2']['x'],state[_0x528f9c(0x23c)]['y']=state['p2']['y']+state['p2'][_0x528f9c(0x2c2)]+state[_0x528f9c(0x23c)][_0x528f9c(0x2c2)]+0x8),state['awaitingServe']=!![],updateTurnUI();}function updateTurnUI(){const _0x74968c=a0_0x3ec8c2,_0x23f9e5=document[_0x74968c(0x1f1)](_0x74968c(0x280));if(!_0x23f9e5)return;if(!state[_0x74968c(0x2a9)]){_0x23f9e5['classList'][_0x74968c(0x2c3)]('hidden');return;}_0x23f9e5[_0x74968c(0x2c5)]='PLAYER\x20'+state[_0x74968c(0x275)]+_0x74968c(0x268),_0x23f9e5['classList'][_0x74968c(0x1ed)](_0x74968c(0x2a5));const _0x22d768=state[_0x74968c(0x275)]===0x1,_0x1fde84=_0x22d768?state[_0x74968c(0x232)][_0x74968c(0x248)]*0.7:state[_0x74968c(0x232)]['height']*0.3,_0x31394a=viewY(_0x1fde84);_0x23f9e5['style'][_0x74968c(0x260)]=_0x31394a+'px';}function spawnParticles(_0x23bb62,_0xe52070,_0x3b5e88){const _0x1f77b7=a0_0x3ec8c2;for(let _0x1baf3d=0x0;_0x1baf3d<0x14;_0x1baf3d++){const _0x2a17f2=Math[_0x1f77b7(0x251)]()*0x6+0x2,_0x1732db=Math[_0x1f77b7(0x251)]()*Math['PI']*0x2;state[_0x1f77b7(0x277)][_0x1f77b7(0x257)]({'x':_0x23bb62,'y':_0xe52070,'vx':Math[_0x1f77b7(0x215)](_0x1732db)*_0x2a17f2,'vy':Math[_0x1f77b7(0x1d9)](_0x1732db)*_0x2a17f2,'life':0x1,'decay':Math[_0x1f77b7(0x251)]()*0.04+0.02,'color':_0x3b5e88});}}function draw(){const _0x2ea9c3=a0_0x3ec8c2;ctx[_0x2ea9c3(0x287)](0x0,0x0,canvas[_0x2ea9c3(0x1e1)],canvas[_0x2ea9c3(0x248)]);const _0x417ef5=canvas[_0x2ea9c3(0x1e1)],_0x252b57=canvas[_0x2ea9c3(0x248)];if(state[_0x2ea9c3(0x2b7)]===_0x2ea9c3(0x206)&&state[_0x2ea9c3(0x282)]===undefined)state[_0x2ea9c3(0x282)]=!![];drawGrid(_0x417ef5,_0x252b57);const _0x3f3801=_0x252b57/0x2;ctx[_0x2ea9c3(0x21b)]=0x3,ctx[_0x2ea9c3(0x212)]=_0x2ea9c3(0x1fc),ctx[_0x2ea9c3(0x273)](),ctx[_0x2ea9c3(0x1da)](0x0,_0x3f3801-0x6),ctx[_0x2ea9c3(0x220)](_0x417ef5,_0x3f3801-0x6),ctx['stroke'](),ctx['beginPath'](),ctx['moveTo'](0x0,_0x3f3801+0x6),ctx[_0x2ea9c3(0x220)](_0x417ef5,_0x3f3801+0x6),ctx[_0x2ea9c3(0x2b2)](),ctx[_0x2ea9c3(0x212)]=_0x2ea9c3(0x233),ctx['beginPath'](),ctx['arc'](_0x417ef5/0x2,_0x3f3801,_0x417ef5*0.2,0x0,Math['PI']*0x2),ctx[_0x2ea9c3(0x2b2)]();const _0x397ef6=_0x417ef5*0.32,_0x58a190=state[_0x2ea9c3(0x282)],_0x4aef0c=_0x58a190?state['p1'][_0x2ea9c3(0x269)]:state['p2']['color'],_0x1afe05=_0x58a190?state['p2'][_0x2ea9c3(0x269)]:state['p1'][_0x2ea9c3(0x269)],_0x401501=viewLen(state[_0x2ea9c3(0x232)][_0x2ea9c3(0x1e1)]*0.2);ctx[_0x2ea9c3(0x21b)]=0x8,ctx[_0x2ea9c3(0x212)]='rgba(255,\x20255,\x20255,\x200.15)',ctx[_0x2ea9c3(0x273)](),ctx[_0x2ea9c3(0x1da)](0x0,0x0),ctx[_0x2ea9c3(0x220)](_0x417ef5/0x2-_0x401501,0x0),ctx[_0x2ea9c3(0x2b2)](),ctx[_0x2ea9c3(0x273)](),ctx[_0x2ea9c3(0x1da)](_0x417ef5/0x2+_0x401501,0x0),ctx[_0x2ea9c3(0x220)](_0x417ef5,0x0),ctx['stroke'](),ctx[_0x2ea9c3(0x273)](),ctx[_0x2ea9c3(0x1da)](0x0,_0x252b57),ctx['lineTo'](_0x417ef5/0x2-_0x401501,_0x252b57),ctx[_0x2ea9c3(0x2b2)](),ctx[_0x2ea9c3(0x273)](),ctx[_0x2ea9c3(0x1da)](_0x417ef5/0x2+_0x401501,_0x252b57),ctx[_0x2ea9c3(0x220)](_0x417ef5,_0x252b57),ctx[_0x2ea9c3(0x2b2)](),ctx[_0x2ea9c3(0x21b)]=0x3,ctx['shadowBlur']=0xf,ctx[_0x2ea9c3(0x1bd)]=_0x4aef0c,ctx['strokeStyle']=_0x4aef0c,ctx[_0x2ea9c3(0x273)](),ctx[_0x2ea9c3(0x1fa)](_0x417ef5/0x2,0x0,_0x401501,0x0,Math['PI'],![]),ctx['stroke'](),ctx[_0x2ea9c3(0x212)]=_0x2ea9c3(0x21f),ctx[_0x2ea9c3(0x273)](),ctx[_0x2ea9c3(0x1da)](_0x417ef5/0x2-_0x401501,0x0),ctx['lineTo'](_0x417ef5/0x2+_0x401501,0x0),ctx[_0x2ea9c3(0x2b2)](),ctx[_0x2ea9c3(0x1bd)]=_0x1afe05,ctx[_0x2ea9c3(0x212)]=_0x1afe05,ctx['beginPath'](),ctx[_0x2ea9c3(0x1fa)](_0x417ef5/0x2,_0x252b57,_0x401501,Math['PI'],0x0,![]),ctx['stroke'](),ctx[_0x2ea9c3(0x212)]=_0x2ea9c3(0x21f),ctx[_0x2ea9c3(0x273)](),ctx[_0x2ea9c3(0x1da)](_0x417ef5/0x2-_0x401501,_0x252b57),ctx[_0x2ea9c3(0x220)](_0x417ef5/0x2+_0x401501,_0x252b57),ctx[_0x2ea9c3(0x2b2)](),ctx['shadowBlur']=0x0;const _0x4ecaa7=_0x252b57*0.08;ctx['font']=_0x2ea9c3(0x230)+_0x4ecaa7+_0x2ea9c3(0x258),ctx['textAlign']=_0x2ea9c3(0x21c);const _0x49b1af=_0x58a190?state['p1'][_0x2ea9c3(0x2ac)]:state['p2'][_0x2ea9c3(0x2ac)],_0x44deb3=_0x58a190?state['p2'][_0x2ea9c3(0x2ac)]:state['p1'][_0x2ea9c3(0x2ac)];ctx[_0x2ea9c3(0x1ee)]='top',ctx[_0x2ea9c3(0x212)]=_0x4aef0c,ctx[_0x2ea9c3(0x21b)]=0x4,ctx[_0x2ea9c3(0x1fe)](_0x49b1af[_0x2ea9c3(0x28d)](),_0x417ef5-0x19,0x19),ctx[_0x2ea9c3(0x1ee)]='bottom',ctx['strokeStyle']=_0x1afe05,ctx[_0x2ea9c3(0x1fe)](_0x44deb3['toString'](),_0x417ef5-0x19,_0x252b57-0x19),drawPuck(state[_0x2ea9c3(0x23c)]),drawPaddle(state['p1']),drawPaddle(state['p2']),state[_0x2ea9c3(0x277)][_0x2ea9c3(0x2c4)](_0x3ae56f=>{const _0x29e185=_0x2ea9c3;ctx[_0x29e185(0x2b8)]=_0x3ae56f['life'],ctx['fillStyle']=_0x3ae56f[_0x29e185(0x269)],ctx[_0x29e185(0x273)](),ctx[_0x29e185(0x1fa)](viewX(_0x3ae56f['x']),viewY(_0x3ae56f['y']),0x3,0x0,Math['PI']*0x2),ctx['fill']();}),ctx['globalAlpha']=0x1,requestAnimationFrame(draw);}function drawGrid(_0x33a587,_0x59b07d){const _0x35b989=a0_0x3ec8c2,_0x2c9497=0x5,_0x9b0454=0x9,_0x22f7fa=_0x33a587/_0x2c9497,_0x3628ad=_0x59b07d/_0x9b0454,_0x2d5bc6=0x5;ctx[_0x35b989(0x212)]=_0x35b989(0x2a3),ctx[_0x35b989(0x21b)]=0x2;for(let _0x4867e5=0x0;_0x4867e5<_0x9b0454;_0x4867e5++){for(let _0x52ce4c=0x0;_0x52ce4c<_0x2c9497;_0x52ce4c++){ctx[_0x35b989(0x273)](),ctx[_0x35b989(0x26f)](_0x52ce4c*_0x22f7fa+_0x2d5bc6,_0x4867e5*_0x3628ad+_0x2d5bc6,_0x22f7fa-_0x2d5bc6*0x2,_0x3628ad-_0x2d5bc6*0x2,0x8),ctx[_0x35b989(0x2b2)]();}}}function drawPaddle(_0x15e0eb){const _0xfb4def=a0_0x3ec8c2,_0x1284a3=viewX(_0x15e0eb['x']),_0xc6ab29=viewY(_0x15e0eb['y']),_0x20e2b8=viewLen(_0x15e0eb[_0xfb4def(0x2c2)]);ctx['shadowBlur']=0xf,ctx[_0xfb4def(0x1bd)]=_0x15e0eb[_0xfb4def(0x269)],ctx['strokeStyle']=_0x15e0eb[_0xfb4def(0x269)],ctx[_0xfb4def(0x21b)]=0x4,ctx[_0xfb4def(0x273)](),ctx[_0xfb4def(0x1fa)](_0x1284a3,_0xc6ab29,_0x20e2b8,0x0,Math['PI']*0x2),ctx['stroke'](),ctx['lineWidth']=0x2,ctx[_0xfb4def(0x273)](),ctx['arc'](_0x1284a3,_0xc6ab29,Math['max'](0x0,_0x20e2b8-0x8),0x0,Math['PI']*0x2),ctx[_0xfb4def(0x2b2)](),ctx[_0xfb4def(0x200)]=0x0;}function drawPuck(_0x171c31){const _0x519b55=a0_0x3ec8c2,_0x3e3991=viewX(_0x171c31['x']),_0x188673=viewY(_0x171c31['y']),_0x38ec36=viewLen(_0x171c31[_0x519b55(0x2c2)]);ctx['shadowBlur']=0xf,ctx[_0x519b55(0x1bd)]=_0x519b55(0x21e),ctx[_0x519b55(0x212)]=_0x519b55(0x21e),ctx['lineWidth']=0x5,ctx['beginPath'](),ctx[_0x519b55(0x1fa)](_0x3e3991,_0x188673,_0x38ec36,0x0,Math['PI']*0x2),ctx[_0x519b55(0x2b2)](),ctx['shadowColor']='#fc0',ctx['strokeStyle']=_0x519b55(0x20b),ctx[_0x519b55(0x21b)]=0x4,ctx[_0x519b55(0x273)](),ctx[_0x519b55(0x1fa)](_0x3e3991,_0x188673,_0x38ec36*0.5,0x0,Math['PI']*0x2),ctx[_0x519b55(0x2b2)](),ctx['shadowBlur']=0x0;}function update(){const _0x35f71d=a0_0x3ec8c2;state['p1']['vx']=state['p1']['x']-state['p1'][_0x35f71d(0x1ce)],state['p1']['vy']=state['p1']['y']-state['p1'][_0x35f71d(0x2bc)],state['p1'][_0x35f71d(0x1ce)]=state['p1']['x'],state['p1'][_0x35f71d(0x2bc)]=state['p1']['y'],state['p2']['vx']=state['p2']['x']-state['p2'][_0x35f71d(0x1ce)],state['p2']['vy']=state['p2']['y']-state['p2']['prevY'],state['p2'][_0x35f71d(0x1ce)]=state['p2']['x'],state['p2']['prevY']=state['p2']['y'];state[_0x35f71d(0x2b7)]==='online_host'&&conn&&conn[_0x35f71d(0x256)]&&broadcast({'type':_0x35f71d(0x29e)});if(!state['running']||state[_0x35f71d(0x289)]||state[_0x35f71d(0x288)])return;if(state[_0x35f71d(0x2b7)]===_0x35f71d(0x1f5)){const _0x525474=DIFFICULTIES[state[_0x35f71d(0x239)]]||DIFFICULTIES[_0x35f71d(0x1d0)];let _0x1d31dc=state['field']['width']/0x2,_0x5dffcd=state['field'][_0x35f71d(0x248)]*0.15;if(state[_0x35f71d(0x2a9)]&&state[_0x35f71d(0x275)]===0x2)_0x1d31dc=state['field'][_0x35f71d(0x1e1)]/0x2+(Math[_0x35f71d(0x251)]()-0.5)*0x64,_0x5dffcd=state[_0x35f71d(0x232)][_0x35f71d(0x248)]*0.15+0x32;else{if(state[_0x35f71d(0x23c)]['y']<state['field'][_0x35f71d(0x248)]/0x2){_0x1d31dc=state[_0x35f71d(0x23c)]['x'];const _0x42d4a2=Math[_0x35f71d(0x28e)](state[_0x35f71d(0x23c)]['vx'],state[_0x35f71d(0x23c)]['vy']);_0x42d4a2<0x2||state[_0x35f71d(0x23c)]['vy']>0x0?_0x5dffcd=state['puck']['y']-state[_0x35f71d(0x23c)][_0x35f71d(0x2c2)]-0x14:_0x5dffcd=state[_0x35f71d(0x23c)]['y']-0x28,_0x5dffcd=Math[_0x35f71d(0x1ca)](_0x5dffcd,state[_0x35f71d(0x232)][_0x35f71d(0x248)]/0x2-state['p2'][_0x35f71d(0x2c2)]);}else _0x1d31dc=state[_0x35f71d(0x23c)]['x']+(Math[_0x35f71d(0x251)]()-0.5)*_0x525474[_0x35f71d(0x299)],_0x5dffcd=state['field'][_0x35f71d(0x248)]*0.15;}state['p2']['x']+=(_0x1d31dc-state['p2']['x'])*_0x525474[_0x35f71d(0x20c)],state['p2']['y']+=(_0x5dffcd-state['p2']['y'])*_0x525474['speed'];}if(state[_0x35f71d(0x2a9)]){const _0x4bbc25=state[_0x35f71d(0x275)]===0x1?state['p1']:state['p2'],_0x176898=state[_0x35f71d(0x275)]===0x1?-(_0x4bbc25[_0x35f71d(0x2c2)]+state[_0x35f71d(0x23c)][_0x35f71d(0x2c2)]+0x5):_0x4bbc25[_0x35f71d(0x2c2)]+state[_0x35f71d(0x23c)]['radius']+0x5;state['puck']['x']=_0x4bbc25['x'],state['puck']['y']=_0x4bbc25['y']+_0x176898;const _0x354940=Math[_0x35f71d(0x28e)](_0x4bbc25['vx'],_0x4bbc25['vy']);if(_0x354940>0x2){state[_0x35f71d(0x2a9)]=![],state[_0x35f71d(0x23c)]['vx']=_0x4bbc25['vx']*1.5,state['puck']['vy']=_0x4bbc25['vy']*1.5,updateTurnUI();if(state[_0x35f71d(0x2b7)]==='online_host')broadcast({'type':_0x35f71d(0x29e),'event':_0x35f71d(0x1d7)});}if(state[_0x35f71d(0x2b7)]===_0x35f71d(0x284)&&conn&&conn[_0x35f71d(0x256)])broadcast({'type':_0x35f71d(0x29e)});return;}if(state[_0x35f71d(0x2b7)]===_0x35f71d(0x206)){conn&&conn[_0x35f71d(0x256)]&&conn[_0x35f71d(0x223)]({'type':_0x35f71d(0x24e),'x':state['p2']['x']/state['field'][_0x35f71d(0x1e1)],'y':state['p2']['y']/state[_0x35f71d(0x232)][_0x35f71d(0x248)]});updateParticles();return;}state[_0x35f71d(0x23c)]['x']+=state[_0x35f71d(0x23c)]['vx'],state[_0x35f71d(0x23c)]['y']+=state['puck']['vy'],state[_0x35f71d(0x23c)]['vx']*=CONFIG[_0x35f71d(0x27d)],state[_0x35f71d(0x23c)]['vy']*=CONFIG[_0x35f71d(0x27d)];state[_0x35f71d(0x23c)]['x']<state[_0x35f71d(0x23c)][_0x35f71d(0x2c2)]&&(state[_0x35f71d(0x23c)]['x']=state['puck'][_0x35f71d(0x2c2)],state['puck']['vx']*=-CONFIG[_0x35f71d(0x234)],playSound(_0x35f71d(0x298)));state[_0x35f71d(0x23c)]['x']>state[_0x35f71d(0x232)][_0x35f71d(0x1e1)]-state[_0x35f71d(0x23c)][_0x35f71d(0x2c2)]&&(state['puck']['x']=state[_0x35f71d(0x232)][_0x35f71d(0x1e1)]-state[_0x35f71d(0x23c)]['radius'],state[_0x35f71d(0x23c)]['vx']*=-CONFIG[_0x35f71d(0x234)],playSound(_0x35f71d(0x298)));const _0x513b15=state[_0x35f71d(0x232)]['width']*0.2,_0x35c5cc=state[_0x35f71d(0x232)]['width']/0x2-_0x513b15,_0x4eaf6f=state['field'][_0x35f71d(0x1e1)]/0x2+_0x513b15;if(state[_0x35f71d(0x23c)]['y']<state['puck'][_0x35f71d(0x2c2)]){if(state[_0x35f71d(0x23c)]['x']>_0x35c5cc&&state['puck']['x']<_0x4eaf6f){if(state[_0x35f71d(0x23c)]['y']<0x0)handleGoal(0x1);}else state[_0x35f71d(0x23c)]['y']=state['puck']['radius'],state[_0x35f71d(0x23c)]['vy']*=-CONFIG[_0x35f71d(0x234)],playSound('wall');}else{if(state['puck']['y']>state[_0x35f71d(0x232)][_0x35f71d(0x248)]-state['puck'][_0x35f71d(0x2c2)]){if(state[_0x35f71d(0x23c)]['x']>_0x35c5cc&&state[_0x35f71d(0x23c)]['x']<_0x4eaf6f){if(state[_0x35f71d(0x23c)]['y']>state[_0x35f71d(0x232)]['height'])handleGoal(0x2);}else state['puck']['y']=state[_0x35f71d(0x232)]['height']-state[_0x35f71d(0x23c)][_0x35f71d(0x2c2)],state[_0x35f71d(0x23c)]['vy']*=-CONFIG['wallBounce'],playSound('wall');}}checkCollision(state['p1']),checkCollision(state['p2']),updateParticles();}function updateParticles(){const _0x179cee=a0_0x3ec8c2;state[_0x179cee(0x277)][_0x179cee(0x2c4)](_0x4a0017=>{const _0x11f0ab=_0x179cee;_0x4a0017['x']+=_0x4a0017['vx'],_0x4a0017['y']+=_0x4a0017['vy'],_0x4a0017[_0x11f0ab(0x1d6)]-=_0x4a0017[_0x11f0ab(0x2ad)];}),state['particles']=state[_0x179cee(0x277)][_0x179cee(0x1d3)](_0x262a08=>_0x262a08[_0x179cee(0x1d6)]>0x0);}function checkCollision(_0x5bec4f){const _0x337cf1=a0_0x3ec8c2,_0xe5075a=state[_0x337cf1(0x23c)]['x']-_0x5bec4f['x'],_0x484ef9=state['puck']['y']-_0x5bec4f['y'],_0x1539be=Math['hypot'](_0xe5075a,_0x484ef9),_0x49e7f6=state[_0x337cf1(0x23c)]['radius']+_0x5bec4f[_0x337cf1(0x2c2)];if(_0x1539be<_0x49e7f6){const _0x15eaf8=Math['atan2'](_0x484ef9,_0xe5075a),_0x4329ac=_0x49e7f6-_0x1539be;state['puck']['x']+=Math['cos'](_0x15eaf8)*_0x4329ac,state[_0x337cf1(0x23c)]['y']+=Math[_0x337cf1(0x1d9)](_0x15eaf8)*_0x4329ac;const _0x256dc4=state[_0x337cf1(0x23c)]['vx']*Math[_0x337cf1(0x215)](_0x15eaf8)+state[_0x337cf1(0x23c)]['vy']*Math['sin'](_0x15eaf8);state[_0x337cf1(0x23c)]['vx']=state[_0x337cf1(0x23c)]['vx']-0x2*_0x256dc4*Math[_0x337cf1(0x215)](_0x15eaf8)+_0x5bec4f['vx']*1.5,state['puck']['vy']=state[_0x337cf1(0x23c)]['vy']-0x2*_0x256dc4*Math['sin'](_0x15eaf8)+_0x5bec4f['vy']*1.5;const _0x5c227e=Math['hypot'](state[_0x337cf1(0x23c)]['vx'],state[_0x337cf1(0x23c)]['vy']);_0x5c227e>state[_0x337cf1(0x23c)][_0x337cf1(0x237)]&&(state[_0x337cf1(0x23c)]['vx']=state[_0x337cf1(0x23c)]['vx']/_0x5c227e*state[_0x337cf1(0x23c)][_0x337cf1(0x237)],state[_0x337cf1(0x23c)]['vy']=state[_0x337cf1(0x23c)]['vy']/_0x5c227e*state[_0x337cf1(0x23c)][_0x337cf1(0x237)]),playSound(_0x337cf1(0x1bf));}}function handleGoal(_0x40f9cb,_0x3e2820=![]){const _0xa5b7e9=a0_0x3ec8c2;playSound(_0xa5b7e9(0x2ac));if(_0x40f9cb===0x1){spawnParticles(state[_0xa5b7e9(0x23c)]['x'],0x0,state['p1'][_0xa5b7e9(0x269)]);if(!_0x3e2820)state['p1'][_0xa5b7e9(0x2ac)]++;}else{spawnParticles(state['puck']['x'],state[_0xa5b7e9(0x232)][_0xa5b7e9(0x248)],state['p2']['color']);if(!_0x3e2820)state['p2']['score']++;}if(!_0x3e2820){state[_0xa5b7e9(0x275)]=state[_0xa5b7e9(0x275)]===0x1?0x2:0x1;state[_0xa5b7e9(0x2b7)]==='online_host'&&(broadcast({'type':_0xa5b7e9(0x29e),'event':_0xa5b7e9(0x2ac),'scorer':_0x40f9cb,'nextTurn':state[_0xa5b7e9(0x275)]}),setTimeout(()=>broadcast({'type':'reset'}),0x64));if(state['p1']['score']>=CONFIG[_0xa5b7e9(0x26d)]||state['p2'][_0xa5b7e9(0x2ac)]>=CONFIG[_0xa5b7e9(0x26d)])endGame(state['p1'][_0xa5b7e9(0x2ac)]>=CONFIG[_0xa5b7e9(0x26d)]);else resetPositions();}}let peer=null,conn=null,isHost=![];function initPeer(){const _0x19db55=a0_0x3ec8c2;if(peer)return;const _0x66a9f7=localStorage['getItem'](_0x19db55(0x22b));peer=new Peer(_0x66a9f7,{'debug':0x1}),peer['on'](_0x19db55(0x256),_0x1cda79=>{const _0x4ee0c9=_0x19db55;localStorage[_0x4ee0c9(0x211)](_0x4ee0c9(0x22b),_0x1cda79),document[_0x4ee0c9(0x1f1)](_0x4ee0c9(0x2c6))[_0x4ee0c9(0x24f)]=_0x1cda79,document[_0x4ee0c9(0x1f1)]('lobby-status')[_0x4ee0c9(0x2c5)]=_0x4ee0c9(0x29d);const _0xd9ddc3=new URLSearchParams(window['location'][_0x4ee0c9(0x1c4)])['get']('game')||new URLSearchParams(window[_0x4ee0c9(0x2b4)][_0x4ee0c9(0x1c4)])['get'](_0x4ee0c9(0x1f2));_0xd9ddc3&&_0xd9ddc3!==_0x1cda79&&(document[_0x4ee0c9(0x1f1)](_0x4ee0c9(0x23b))[_0x4ee0c9(0x24f)]=_0xd9ddc3,setTimeout(()=>connectToPeer(_0xd9ddc3),0x1f4));}),peer['on'](_0x19db55(0x299),_0x39dc24=>{const _0x5d1b16=_0x19db55;if(_0x39dc24[_0x5d1b16(0x252)]===_0x5d1b16(0x293))peer[_0x5d1b16(0x28b)](),peer=null,initPeer();else{if(_0x39dc24[_0x5d1b16(0x252)]===_0x5d1b16(0x276))showAlert('NOT\x20FOUND',_0x5d1b16(0x1e3));}console[_0x5d1b16(0x299)](_0x39dc24);}),peer['on'](_0x19db55(0x274),_0x40cf41=>{const _0x26e5b1=_0x19db55;if(conn)conn[_0x26e5b1(0x25c)]();conn=_0x40cf41,isHost=!![],setupConn();});}function setupConn(){const _0x1127d4=a0_0x3ec8c2;conn['on'](_0x1127d4(0x256),()=>{const _0x1f4f9d=_0x1127d4;document['getElementById'](_0x1f4f9d(0x208))['textContent']=_0x1f4f9d(0x2ab),setTimeout(()=>{const _0x4c0692=_0x1f4f9d;document[_0x4c0692(0x1f1)](_0x4c0692(0x1f3))[_0x4c0692(0x291)][_0x4c0692(0x2c3)](_0x4c0692(0x2a5)),startGame(isHost?_0x4c0692(0x284):_0x4c0692(0x206));},0x3e8);}),conn['on'](_0x1127d4(0x2a0),_0x23c4a7=>{const _0x4faa49=_0x1127d4;if(state[_0x4faa49(0x2b7)]===_0x4faa49(0x284)&&_0x23c4a7[_0x4faa49(0x252)]==='input')state['p2']['x']=_0x23c4a7['x']*state['field']['width'],state['p2']['y']=_0x23c4a7['y']*state[_0x4faa49(0x232)][_0x4faa49(0x248)];else{if(state['mode']===_0x4faa49(0x206)){if(_0x23c4a7['type']==='state'){state['p1']['x']=_0x23c4a7['p1']['x']*state[_0x4faa49(0x232)][_0x4faa49(0x1e1)],state['p1']['y']=_0x23c4a7['p1']['y']*state[_0x4faa49(0x232)]['height'],state['p2']['x']=_0x23c4a7['p2']['x']*state[_0x4faa49(0x232)][_0x4faa49(0x1e1)],state['p2']['y']=_0x23c4a7['p2']['y']*state[_0x4faa49(0x232)][_0x4faa49(0x248)],state['p1'][_0x4faa49(0x2ac)]=_0x23c4a7[_0x4faa49(0x1cf)]['p1'],state['p2'][_0x4faa49(0x2ac)]=_0x23c4a7[_0x4faa49(0x1cf)]['p2'],state['puck']['x']=_0x23c4a7[_0x4faa49(0x23c)]['x']*state[_0x4faa49(0x232)][_0x4faa49(0x1e1)],state[_0x4faa49(0x23c)]['y']=_0x23c4a7[_0x4faa49(0x23c)]['y']*state[_0x4faa49(0x232)][_0x4faa49(0x248)],state[_0x4faa49(0x23c)]['vx']=_0x23c4a7[_0x4faa49(0x23c)]['vx']*state['field']['width'],state[_0x4faa49(0x23c)]['vy']=_0x23c4a7[_0x4faa49(0x23c)]['vy']*state['field']['height'],state[_0x4faa49(0x275)]=_0x23c4a7['scores'][_0x4faa49(0x275)],state[_0x4faa49(0x2a9)]=_0x23c4a7[_0x4faa49(0x1cf)][_0x4faa49(0x2a9)],updateTurnUI();if(_0x23c4a7[_0x4faa49(0x242)]===_0x4faa49(0x2ac))handleGoal(_0x23c4a7[_0x4faa49(0x224)],!![]);}else{if(_0x23c4a7[_0x4faa49(0x252)]===_0x4faa49(0x24a))resize(),resetPositions();else{if(_0x23c4a7[_0x4faa49(0x252)]===_0x4faa49(0x288))startCountdown();else{if(_0x23c4a7[_0x4faa49(0x252)]===_0x4faa49(0x254))endGame(_0x23c4a7[_0x4faa49(0x2ba)]);}}}}}}),conn['on'](_0x1127d4(0x25c),()=>{const _0x2c5ce7=_0x1127d4;state['running']&&document[_0x2c5ce7(0x1f1)](_0x2c5ce7(0x25a))[_0x2c5ce7(0x291)][_0x2c5ce7(0x1ed)](_0x2c5ce7(0x2a5));});}function broadcast(_0x45f888){const _0x169103=a0_0x3ec8c2;conn&&conn[_0x169103(0x256)]&&conn['send']({..._0x45f888,'p1':{'x':state['p1']['x']/state[_0x169103(0x232)]['width'],'y':state['p1']['y']/state['field'][_0x169103(0x248)]},'p2':{'x':state['p2']['x']/state['field'][_0x169103(0x1e1)],'y':state['p2']['y']/state[_0x169103(0x232)][_0x169103(0x248)]},'puck':{'x':state[_0x169103(0x23c)]['x']/state[_0x169103(0x232)][_0x169103(0x1e1)],'y':state[_0x169103(0x23c)]['y']/state[_0x169103(0x232)]['height'],'vx':state[_0x169103(0x23c)]['vx']/state[_0x169103(0x232)][_0x169103(0x1e1)],'vy':state['puck']['vy']/state[_0x169103(0x232)][_0x169103(0x248)]},'scores':{'p1':state['p1'][_0x169103(0x2ac)],'p2':state['p2'][_0x169103(0x2ac)],'turn':state['turn'],'awaitingServe':state['awaitingServe']}});}function a0_0x26ed(_0x40b7a0,_0xdfaffe){_0x40b7a0=_0x40b7a0-0x1bc;const _0x255864=a0_0x2558();let _0x26ed8c=_0x255864[_0x40b7a0];return _0x26ed8c;}window[a0_0x3ec8c2(0x2bf)]=_0x2a45bb=>{const _0x3aedf9=a0_0x3ec8c2;state['mode']=_0x2a45bb,state[_0x3aedf9(0x239)]=document[_0x3aedf9(0x1f1)](_0x3aedf9(0x22e))[_0x3aedf9(0x24f)]||'medium',state[_0x3aedf9(0x235)]=!![],state['p1']['score']=0x0,state['p2'][_0x3aedf9(0x2ac)]=0x0,state['turn']=Math[_0x3aedf9(0x251)]()<0.5?0x1:0x2,resize(),resetPositions(),document[_0x3aedf9(0x1f1)](_0x3aedf9(0x2a8))[_0x3aedf9(0x291)][_0x3aedf9(0x2c3)](_0x3aedf9(0x2a5)),document[_0x3aedf9(0x1f1)]('game-ui')[_0x3aedf9(0x291)][_0x3aedf9(0x1ed)](_0x3aedf9(0x2a5)),startCountdown();},window[a0_0x3ec8c2(0x266)]=(_0x274075,_0x4b2f59)=>{const _0x1c3c5d=a0_0x3ec8c2;document['getElementById']('difficulty-select')[_0x1c3c5d(0x24f)]=_0x274075,document[_0x1c3c5d(0x1e0)](_0x1c3c5d(0x255))[_0x1c3c5d(0x2c4)](_0x437dc9=>_0x437dc9[_0x1c3c5d(0x291)]['remove'](_0x1c3c5d(0x2c0))),_0x4b2f59[_0x1c3c5d(0x291)][_0x1c3c5d(0x2c3)](_0x1c3c5d(0x2c0));},window[a0_0x3ec8c2(0x26e)]=()=>{const _0x19bb23=a0_0x3ec8c2;resetPositions(),state['countdown']=!![];const _0x54b407=document[_0x19bb23(0x1f1)](_0x19bb23(0x24b)),_0x18a3f6=document[_0x19bb23(0x1f1)](_0x19bb23(0x292));_0x54b407[_0x19bb23(0x291)][_0x19bb23(0x1ed)]('hidden');let _0x494441=0x3;_0x18a3f6['textContent']=_0x494441,playSound(_0x19bb23(0x288));const _0x14ac2e=setInterval(()=>{const _0x2c60ed=_0x19bb23;_0x494441--;if(_0x494441>0x0)_0x18a3f6[_0x2c60ed(0x2c5)]=_0x494441,playSound('countdown');else _0x494441===0x0?(_0x18a3f6[_0x2c60ed(0x2c5)]=_0x2c60ed(0x1bc),playSound('go')):(clearInterval(_0x14ac2e),_0x54b407[_0x2c60ed(0x291)][_0x2c60ed(0x2c3)](_0x2c60ed(0x2a5)),state[_0x2c60ed(0x288)]=![]);},0x3e8);if(state['mode']===_0x19bb23(0x284))broadcast({'type':'countdown'});},window[a0_0x3ec8c2(0x1be)]=(_0x37655b,_0x252dc3)=>{const _0x9b0ea9=a0_0x3ec8c2;if(!state[_0x9b0ea9(0x235)])return;let _0x588a5f=state[_0x9b0ea9(0x2b7)]===_0x9b0ea9(0x206)?state['p2']:state['p1'];if(state[_0x9b0ea9(0x2b7)]===_0x9b0ea9(0x28f)&&_0x252dc3<state[_0x9b0ea9(0x232)][_0x9b0ea9(0x248)]/0x2)_0x588a5f=state['p2'];const _0x49b4c7=_0x588a5f===state['p1'],_0xb3723=_0x49b4c7?state[_0x9b0ea9(0x232)][_0x9b0ea9(0x248)]/0x2+_0x588a5f['radius']:_0x588a5f['radius'],_0xc6cbf3=_0x49b4c7?state[_0x9b0ea9(0x232)][_0x9b0ea9(0x248)]-_0x588a5f[_0x9b0ea9(0x2c2)]:state['field']['height']/0x2-_0x588a5f[_0x9b0ea9(0x2c2)];_0x588a5f['x']=Math[_0x9b0ea9(0x216)](_0x588a5f[_0x9b0ea9(0x2c2)],Math[_0x9b0ea9(0x1ca)](state[_0x9b0ea9(0x232)][_0x9b0ea9(0x1e1)]-_0x588a5f[_0x9b0ea9(0x2c2)],_0x37655b)),_0x588a5f['y']=Math[_0x9b0ea9(0x216)](_0xb3723,Math['min'](_0xc6cbf3,_0x252dc3));},canvas[a0_0x3ec8c2(0x210)](a0_0x3ec8c2(0x2b1),_0x55aec5=>{const _0x29f68b=a0_0x3ec8c2,_0x3e2488=canvas['getBoundingClientRect']();handleInput(logicX(_0x55aec5[_0x29f68b(0x1f9)]-_0x3e2488['left']),logicY(_0x55aec5[_0x29f68b(0x1cc)]-_0x3e2488[_0x29f68b(0x260)]));}),canvas['addEventListener'](a0_0x3ec8c2(0x24d),_0x38dc0a=>{const _0xa37613=a0_0x3ec8c2;_0x38dc0a[_0xa37613(0x1c7)]();const _0x1363fd=canvas['getBoundingClientRect']();for(let _0x26d503 of _0x38dc0a[_0xa37613(0x1f8)])handleInput(logicX(_0x26d503[_0xa37613(0x1f9)]-_0x1363fd[_0xa37613(0x1d1)]),logicY(_0x26d503[_0xa37613(0x1cc)]-_0x1363fd[_0xa37613(0x260)]));},{'passive':![]}),window['openLobby']=()=>{const _0x470fbd=a0_0x3ec8c2;if(!navigator[_0x470fbd(0x1c6)]){document[_0x470fbd(0x1f1)](_0x470fbd(0x28a))['classList'][_0x470fbd(0x1ed)]('hidden');return;}document[_0x470fbd(0x1f1)](_0x470fbd(0x2a8))[_0x470fbd(0x291)][_0x470fbd(0x2c3)]('hidden'),document[_0x470fbd(0x1f1)](_0x470fbd(0x1f3))[_0x470fbd(0x291)][_0x470fbd(0x1ed)](_0x470fbd(0x2a5)),initPeer();},window[a0_0x3ec8c2(0x1f4)]=()=>{const _0x17ba2d=a0_0x3ec8c2;navigator[_0x17ba2d(0x20a)][_0x17ba2d(0x1db)](document[_0x17ba2d(0x1f1)]('peer-id-input')[_0x17ba2d(0x24f)]),document[_0x17ba2d(0x1f1)](_0x17ba2d(0x217))['textContent']='ID\x20COPIED!',setTimeout(()=>{const _0x42987c=_0x17ba2d;document[_0x42987c(0x1f1)](_0x42987c(0x217))['textContent']=_0x42987c(0x29d);},0x7d0);},window['openShareModal']=()=>{const _0x2989e6=a0_0x3ec8c2,_0x59f60c=document[_0x2989e6(0x1f1)](_0x2989e6(0x2c6))[_0x2989e6(0x24f)];if(!_0x59f60c)return;const _0x60b936=document['getElementById'](_0x2989e6(0x2b5));_0x60b936[_0x2989e6(0x231)]='';const _0x59ca78=window['location'][_0x2989e6(0x219)]+window[_0x2989e6(0x2b4)][_0x2989e6(0x1e4)]+_0x2989e6(0x1e9)+_0x59f60c;new QRCode(_0x60b936,{'text':_0x59ca78,'width':0xdc,'height':0xdc,'colorDark':'#000000','colorLight':_0x2989e6(0x246),'correctLevel':QRCode[_0x2989e6(0x20e)]['H']}),document[_0x2989e6(0x1f1)](_0x2989e6(0x247))[_0x2989e6(0x291)][_0x2989e6(0x1ed)]('hidden');},window[a0_0x3ec8c2(0x222)]=()=>{const _0x48bf8e=a0_0x3ec8c2,_0x164a79=document[_0x48bf8e(0x1f1)](_0x48bf8e(0x2c6))['value'],_0x2a3110=window[_0x48bf8e(0x2b4)]['origin']+window['location'][_0x48bf8e(0x1e4)]+_0x48bf8e(0x1e9)+_0x164a79;navigator[_0x48bf8e(0x20a)][_0x48bf8e(0x1db)](_0x2a3110),showAlert('COPIED',_0x48bf8e(0x2b0));},window[a0_0x3ec8c2(0x20f)]=()=>{const _0x5263a8=a0_0x3ec8c2;document[_0x5263a8(0x1f1)](_0x5263a8(0x201))[_0x5263a8(0x291)][_0x5263a8(0x1ed)](_0x5263a8(0x2a5));},window[a0_0x3ec8c2(0x262)]=()=>{const _0x62c8ad=a0_0x3ec8c2;document[_0x62c8ad(0x1f1)]('join-options-modal')[_0x62c8ad(0x291)]['add']('hidden'),document[_0x62c8ad(0x1f1)](_0x62c8ad(0x28c))[_0x62c8ad(0x291)][_0x62c8ad(0x1ed)]('hidden');},window[a0_0x3ec8c2(0x259)]=()=>{const _0x1900d2=a0_0x3ec8c2,_0x7189e8=document[_0x1900d2(0x1f1)](_0x1900d2(0x23b))['value'][_0x1900d2(0x218)]();if(!_0x7189e8)return;connectToPeer(_0x7189e8),document[_0x1900d2(0x1f1)](_0x1900d2(0x28c))[_0x1900d2(0x291)][_0x1900d2(0x2c3)](_0x1900d2(0x2a5));},window[a0_0x3ec8c2(0x23e)]=_0x4b16f4=>{const _0x3bfb6e=a0_0x3ec8c2,_0x5b365d=_0x4b16f4||document[_0x3bfb6e(0x1f1)](_0x3bfb6e(0x23b))[_0x3bfb6e(0x24f)]['trim']();if(!_0x5b365d)return;conn=peer[_0x3bfb6e(0x244)](_0x5b365d,{'reliable':![]}),isHost=![],setupConn();};let html5QrCode=null;window['openScanner']=()=>{const _0x5b0ac6=a0_0x3ec8c2;document[_0x5b0ac6(0x1f1)](_0x5b0ac6(0x201))[_0x5b0ac6(0x291)][_0x5b0ac6(0x2c3)](_0x5b0ac6(0x2a5)),document['getElementById'](_0x5b0ac6(0x1d8))[_0x5b0ac6(0x291)]['remove'](_0x5b0ac6(0x2a5)),html5QrCode=new Html5Qrcode(_0x5b0ac6(0x1e2));const _0x2266cd={'fps':0xa,'qrbox':{'width':0xfa,'height':0xfa}};html5QrCode[_0x5b0ac6(0x21a)]({'facingMode':_0x5b0ac6(0x271)},_0x2266cd,_0x107d5f=>{const _0x54efc6=extractIdFromUrl(_0x107d5f);stopScanner();if(_0x54efc6)connectToPeer(_0x54efc6);},_0x38cbe5=>{})[_0x5b0ac6(0x1dd)](_0x3c363b=>{const _0x2af0a6=_0x5b0ac6;showAlert(_0x2af0a6(0x1fd),_0x2af0a6(0x1c3)),stopScanner();});};function extractIdFromUrl(_0x2d5034){const _0x3c0b06=a0_0x3ec8c2;try{const _0x22464d=new URL(_0x2d5034);return _0x22464d['searchParams'][_0x3c0b06(0x270)](_0x3c0b06(0x1f2))||_0x22464d[_0x3c0b06(0x1e6)][_0x3c0b06(0x270)](_0x3c0b06(0x1c9))||_0x2d5034;}catch(_0x3fae3a){return _0x2d5034;}}window['stopScanner']=async()=>{const _0x488b19=a0_0x3ec8c2;if(html5QrCode){try{await html5QrCode[_0x488b19(0x25e)]();}catch(_0xe4ca80){}html5QrCode=null;}document['getElementById'](_0x488b19(0x1d8))['classList'][_0x488b19(0x2c3)]('hidden');},window[a0_0x3ec8c2(0x214)]=()=>{const _0x270ceb=a0_0x3ec8c2;state['paused']=!state[_0x270ceb(0x289)],document[_0x270ceb(0x1f1)]('pause-modal')['classList'][_0x270ceb(0x285)]('hidden',!state[_0x270ceb(0x289)]);},window[a0_0x3ec8c2(0x27c)]=()=>{const _0x24a143=a0_0x3ec8c2;state['running']=![];conn&&(conn[_0x24a143(0x25c)](),conn=null);const _0x5d385c=document[_0x24a143(0x1f1)](_0x24a143(0x23b));if(_0x5d385c)_0x5d385c[_0x24a143(0x24f)]='';document[_0x24a143(0x1f1)](_0x24a143(0x2a8))[_0x24a143(0x291)][_0x24a143(0x1ed)](_0x24a143(0x2a5)),document['getElementById']('game-ui')[_0x24a143(0x291)][_0x24a143(0x2c3)](_0x24a143(0x2a5)),document[_0x24a143(0x1f1)](_0x24a143(0x2bd))['classList']['add'](_0x24a143(0x2a5)),document[_0x24a143(0x1f1)](_0x24a143(0x240))['classList'][_0x24a143(0x2c3)](_0x24a143(0x2a5)),showMainMenu();},window[a0_0x3ec8c2(0x1fb)]=()=>{const _0xfa4143=a0_0x3ec8c2;state[_0xfa4143(0x282)]=!state[_0xfa4143(0x282)];},window[a0_0x3ec8c2(0x23f)]=()=>{const _0x35aa66=a0_0x3ec8c2;document[_0x35aa66(0x1f1)](_0x35aa66(0x1e7))[_0x35aa66(0x291)][_0x35aa66(0x2c3)](_0x35aa66(0x2a5)),document[_0x35aa66(0x1f1)](_0x35aa66(0x243))['classList']['remove']('hidden');},window[a0_0x3ec8c2(0x26b)]=()=>{const _0x2bc906=a0_0x3ec8c2;document[_0x2bc906(0x1f1)](_0x2bc906(0x243))[_0x2bc906(0x291)]['add'](_0x2bc906(0x2a5)),document[_0x2bc906(0x1f1)](_0x2bc906(0x1e7))['classList']['remove'](_0x2bc906(0x2a5));},window[a0_0x3ec8c2(0x290)]=()=>{const _0x35821b=a0_0x3ec8c2;conn&&(conn[_0x35821b(0x25c)](),conn=null);const _0x4a0a64=document[_0x35821b(0x1f1)](_0x35821b(0x23b));if(_0x4a0a64)_0x4a0a64[_0x35821b(0x24f)]='';document[_0x35821b(0x1f1)](_0x35821b(0x1f3))[_0x35821b(0x291)][_0x35821b(0x2c3)](_0x35821b(0x2a5)),document[_0x35821b(0x1f1)](_0x35821b(0x2a8))[_0x35821b(0x291)]['remove'](_0x35821b(0x2a5));},window['returnToMenu']=()=>{const _0x5f5a1b=a0_0x3ec8c2;document[_0x5f5a1b(0x1f1)](_0x5f5a1b(0x240))['classList']['add'](_0x5f5a1b(0x2a5)),document[_0x5f5a1b(0x1f1)](_0x5f5a1b(0x2a8))[_0x5f5a1b(0x291)][_0x5f5a1b(0x1ed)]('hidden'),showMainMenu();},window[a0_0x3ec8c2(0x27e)]=()=>{const _0x4d51ad=a0_0x3ec8c2;document[_0x4d51ad(0x1f1)](_0x4d51ad(0x240))[_0x4d51ad(0x291)][_0x4d51ad(0x2c3)](_0x4d51ad(0x2a5)),startGame(state['mode']);},window[a0_0x3ec8c2(0x25b)]=_0x19ae59=>{const _0x69a4a=a0_0x3ec8c2;state['running']=![];if(state[_0x69a4a(0x2b7)]===_0x69a4a(0x284))broadcast({'type':_0x69a4a(0x254),'p1Won':_0x19ae59});const _0x32d9d9=document['getElementById'](_0x69a4a(0x205));if(state[_0x69a4a(0x2b7)]==='local'){const _0x168194=_0x19ae59?_0x69a4a(0x2b6):_0x69a4a(0x264),_0x52e426=_0x19ae59?state['p1'][_0x69a4a(0x269)]:state['p2'][_0x69a4a(0x269)];_0x32d9d9[_0x69a4a(0x2c5)]=_0x168194+_0x69a4a(0x249),_0x32d9d9[_0x69a4a(0x1eb)][_0x69a4a(0x213)]=_0x69a4a(0x1c1),_0x32d9d9[_0x69a4a(0x1eb)][_0x69a4a(0x278)]=_0x52e426,_0x32d9d9['style'][_0x69a4a(0x1d3)]='drop-shadow(0\x200\x2015px\x20'+_0x52e426+')';}else{const _0x2791d5=state['mode']===_0x69a4a(0x206)?!_0x19ae59:_0x19ae59;_0x32d9d9[_0x69a4a(0x2c5)]=_0x2791d5?'YOU\x20WIN':_0x69a4a(0x24c),_0x32d9d9[_0x69a4a(0x1eb)]['background']='',_0x32d9d9[_0x69a4a(0x1eb)][_0x69a4a(0x278)]='',_0x32d9d9['style'][_0x69a4a(0x1d3)]='';}document[_0x69a4a(0x1f1)](_0x69a4a(0x1ec))[_0x69a4a(0x2c5)]=state['p1'][_0x69a4a(0x2ac)]+_0x69a4a(0x26a)+state['p2'][_0x69a4a(0x2ac)],document[_0x69a4a(0x1f1)]('game-over-modal')[_0x69a4a(0x291)][_0x69a4a(0x1ed)]('hidden');},window[a0_0x3ec8c2(0x2a1)]=(_0x1ff3cb,_0x1a6187)=>{const _0x390f40=a0_0x3ec8c2;document[_0x390f40(0x1f1)](_0x390f40(0x29f))[_0x390f40(0x2c5)]=_0x1ff3cb,document[_0x390f40(0x1f1)]('alert-message')[_0x390f40(0x2c5)]=_0x1a6187,document[_0x390f40(0x1f1)](_0x390f40(0x22d))[_0x390f40(0x291)][_0x390f40(0x1ed)](_0x390f40(0x2a5));},setInterval(update,0x3e8/0x3c),requestAnimationFrame(draw),window['addEventListener'](a0_0x3ec8c2(0x253),resize),setTimeout(()=>{resize(),updateVersionDisplay();},0x64),window[a0_0x3ec8c2(0x27a)]=()=>{const _0x3bd5ee=a0_0x3ec8c2,_0x440583=localStorage[_0x3bd5ee(0x27b)](_0x3bd5ee(0x1c2))||'1.2.9',_0x3a9435=document[_0x3bd5ee(0x1f1)](_0x3bd5ee(0x2a6));if(_0x3a9435)_0x3a9435[_0x3bd5ee(0x2c5)]='v'+_0x440583;},window[a0_0x3ec8c2(0x1e8)]=async()=>{const _0x42c951=a0_0x3ec8c2,_0x4b71dd=document['getElementById'](_0x42c951(0x25d)),_0x341391=document[_0x42c951(0x1f1)]('update-progress-bar'),_0x4f05d3=document['getElementById'](_0x42c951(0x261)),_0x314685=document[_0x42c951(0x1f1)](_0x42c951(0x296));if(_0x314685)_0x314685[_0x42c951(0x291)]['add'](_0x42c951(0x2a5));if(_0x4b71dd)_0x4b71dd[_0x42c951(0x291)][_0x42c951(0x1ed)](_0x42c951(0x2a5));const _0x3b9ef5=(_0x39617e,_0x34f046)=>{const _0x6eea40=_0x42c951;if(_0x341391)_0x341391[_0x6eea40(0x1eb)]['width']=_0x39617e+'%';if(_0x4f05d3)_0x4f05d3['textContent']=_0x34f046;};try{_0x3b9ef5(0xa,_0x42c951(0x226)),await new Promise(_0x47e4e6=>setTimeout(_0x47e4e6,0x258));window[_0x42c951(0x2b9)]&&localStorage[_0x42c951(0x211)]('app_version',window[_0x42c951(0x2b9)]);_0x3b9ef5(0x1e,_0x42c951(0x281)),await new Promise(_0x97ef0=>setTimeout(_0x97ef0,0x320));if(_0x42c951(0x245)in window){const _0x3281c4=await caches[_0x42c951(0x286)]();for(let _0x543de5=0x0;_0x543de5<_0x3281c4[_0x42c951(0x272)];_0x543de5++){await caches[_0x42c951(0x1d4)](_0x3281c4[_0x543de5]),_0x3b9ef5(0x1e+(_0x543de5+0x1)/_0x3281c4[_0x42c951(0x272)]*0x1e,_0x42c951(0x22c)+_0x3281c4[_0x543de5]);}}_0x3b9ef5(0x46,_0x42c951(0x1cb)),await new Promise(_0x1867b9=>setTimeout(_0x1867b9,0x258));if('serviceWorker'in navigator){const _0x2a936f=await navigator[_0x42c951(0x1df)][_0x42c951(0x23a)]();for(let _0x50c7a2=0x0;_0x50c7a2<_0x2a936f[_0x42c951(0x272)];_0x50c7a2++){await _0x2a936f[_0x50c7a2]['unregister'](),_0x3b9ef5(0x46+(_0x50c7a2+0x1)/_0x2a936f[_0x42c951(0x272)]*0x14,_0x42c951(0x221));}}_0x3b9ef5(0x64,'SYSTEM\x20REBOOT...'),await new Promise(_0x56fbb2=>setTimeout(_0x56fbb2,0x320)),window['location'][_0x42c951(0x209)](!![]);}catch(_0x49e1e5){console[_0x42c951(0x299)]('Update\x20failed',_0x49e1e5),window['location'][_0x42c951(0x209)](!![]);}},window[a0_0x3ec8c2(0x29a)]=async()=>{const _0x26ed3a=a0_0x3ec8c2;if(!navigator['onLine']){document[_0x26ed3a(0x1f1)](_0x26ed3a(0x28a))[_0x26ed3a(0x291)][_0x26ed3a(0x1ed)](_0x26ed3a(0x2a5));return;}const _0x169d37=document[_0x26ed3a(0x1f1)]('update-app-btn');if(_0x169d37)_0x169d37[_0x26ed3a(0x2c5)]=_0x26ed3a(0x204);try{const _0x450e99=await fetch(_0x26ed3a(0x2b3)+Date['now']()),_0x391f56=await _0x450e99[_0x26ed3a(0x29b)](),_0x36a0e2=localStorage['getItem'](_0x26ed3a(0x1c2))||_0x26ed3a(0x1de);if(_0x391f56[_0x26ed3a(0x238)]!==_0x36a0e2){window[_0x26ed3a(0x2b9)]=_0x391f56[_0x26ed3a(0x238)];const _0x51578e=document[_0x26ed3a(0x1f1)](_0x26ed3a(0x296));if(_0x51578e)_0x51578e[_0x26ed3a(0x291)][_0x26ed3a(0x1ed)](_0x26ed3a(0x2a5));if(_0x169d37)_0x169d37['textContent']=_0x26ed3a(0x279);}else{if(_0x169d37)_0x169d37[_0x26ed3a(0x2c5)]='UP\x20TO\x20DATE';setTimeout(()=>{const _0x5c3992=_0x26ed3a;if(_0x169d37)_0x169d37[_0x5c3992(0x2c5)]=_0x5c3992(0x1ff);},0x7d0);}}catch(_0x272900){console[_0x26ed3a(0x299)]('Update\x20check\x20failed',_0x272900);if(_0x169d37)_0x169d37['textContent']=_0x26ed3a(0x1e5);setTimeout(()=>{const _0x487d10=_0x26ed3a;if(_0x169d37)_0x169d37[_0x487d10(0x2c5)]=_0x487d10(0x1ff);},0x7d0);}},window[a0_0x3ec8c2(0x2af)]=()=>{const _0x59bfd7=a0_0x3ec8c2,_0x4b59a4=window[_0x59bfd7(0x2b4)][_0x59bfd7(0x219)]+window['location'][_0x59bfd7(0x1e4)];if(navigator[_0x59bfd7(0x20d)])navigator[_0x59bfd7(0x20d)]({'title':_0x59bfd7(0x2c1),'text':_0x59bfd7(0x22f),'url':_0x4b59a4})['catch'](_0x76d504=>console['log']('Share\x20failed',_0x76d504));else{const _0x1c4cee=document[_0x59bfd7(0x1d5)](_0x59bfd7(0x24e));_0x1c4cee[_0x59bfd7(0x24f)]=_0x4b59a4,document[_0x59bfd7(0x297)][_0x59bfd7(0x267)](_0x1c4cee),_0x1c4cee[_0x59bfd7(0x2bb)](),document[_0x59bfd7(0x2a4)](_0x59bfd7(0x1dc)),document[_0x59bfd7(0x297)][_0x59bfd7(0x236)](_0x1c4cee),showAlert(_0x59bfd7(0x295),'App\x20URL\x20copied!\x20Share\x20it\x20with\x20your\x20friends.');}};function copyToClipboard(_0x44ca74,_0x1dce77){const _0x11a15e=a0_0x3ec8c2;navigator[_0x11a15e(0x20a)][_0x11a15e(0x1db)](_0x44ca74)[_0x11a15e(0x1f7)](()=>console['log'](_0x1dce77+_0x11a15e(0x1c0)));}let deferredPrompt;window[a0_0x3ec8c2(0x210)]('beforeinstallprompt',_0x1ef941=>{const _0x532852=a0_0x3ec8c2;_0x1ef941[_0x532852(0x1c7)](),deferredPrompt=_0x1ef941;const _0x1611ea=document[_0x532852(0x1f1)](_0x532852(0x228));if(_0x1611ea)_0x1611ea[_0x532852(0x291)][_0x532852(0x1ed)](_0x532852(0x2a5));});const installBtn=document[a0_0x3ec8c2(0x1f1)]('install-btn');function a0_0x2558(){const _0x43c212=['CONNECTED!','score','decay','195559HXADfA','shareApp','Game\x20link\x20copied\x20to\x20clipboard!','pointermove','stroke','version.json?t=','location','qrcode-container','PLAYER\x201','mode','globalAlpha','pendingVersion','p1Won','select','prevY','pause-modal','4855581RhGLQE','startGame','active','Tron\x20Hockey','radius','add','forEach','textContent','peer-id-input','GO!','shadowColor','handleInput','hit','\x20copied','none','app_version','Please\x20ensure\x20camera\x20permissions\x20are\x20granted.','search','AudioContext','onLine','preventDefault','813315twapvy','game','min','UNREGISTERING\x20SYSTEMS...','clientY','paddleRadiusRatio','prevX','scores','medium','left','innerHeight','filter','delete','createElement','life','serve','scanner-modal','sin','moveTo','writeText','copy','catch','1.0.0','serviceWorker','querySelectorAll','width','reader','Host\x20offline.','pathname','CHECK\x20FAILED','searchParams','mode-menu','performUpdate','?join=','currentTime','style','game-over-score','remove','textBaseline','gameCanvas','prompt','getElementById','join','lobby-modal','copyPeerId','cpu','clientWidth','then','touches','clientX','arc','toggleFlip','#2a4d53','CAMERA\x20ERROR','strokeText','CHECK\x20UPDATES','shadowBlur','join-options-modal','240VFPCdl','User\x20Choice:\x20','CHECKING...','game-over-title','online_client','2615756eZkCnr','connection-status','reload','clipboard','#fc0','speed','share','CorrectLevel','openJoinOptions','addEventListener','setItem','strokeStyle','background','togglePause','cos','max','lobby-status','trim','origin','start','lineWidth','right','#00f2ff','#0ff','rgba(255,255,255,0.1)','lineTo','SYSTEM\x20DETACHED','copyShareLink','send','scorer','log','INITIALIZING...','frequency','install-modal','exponentialRampToValueAtTime','createGain','tron_hockey_peer_id','DELETING:\x20','alert-modal','difficulty-select','Play\x20Tron\x20Hockey\x20-\x20Neon\x20League\x201v1!','900\x20','innerHTML','field','rgba(0,\x20255,\x20255,\x200.2)','wallBounce','running','removeChild','maxSpeed','version','difficulty','getRegistrations','connect-id-input','puck','624bndMXC','connectToPeer','showCpuMenu','game-over-modal','1301848KOXFqs','event','cpu-menu','connect','caches','#ffffff','share-modal','height','\x20WINS','reset','countdown-overlay','YOU\x20LOSE','touchmove','input','value','28220TsrsTN','random','type','resize','game_over','.diff-btn','open','push','px\x20sans-serif','connectToPeerFromInput','player-left-modal','endGame','close','loading-modal','stop','clientHeight','top','loading-status','openJoinInput','suspended','PLAYER\x202','appinstalled','selectDiff','appendChild','\x20TURN','color','\x20-\x20','showMainMenu','webkitAudioContext','winningScore','startCountdown','roundRect','get','environment','length','beginPath','connection','turn','peer-unavailable','particles','webkitTextFillColor','UPDATE\x20FOUND!','updateVersionDisplay','getItem','stopGame','friction','restartGame','resume','turn-indicator','CLEANING\x20CACHE...','flipped','21918348oEPAUb','online_host','toggle','keys','clearRect','countdown','paused','offline-modal','destroy','join-id-modal','toString','hypot','local','closeLobby','classList','countdown-text','unavailable-id','click','LINK\x20COPIED','update-modal','body','wall','error','updateApp','json','gain','READY\x20TO\x20CONNECT','state','alert-title','data','showAlert','createOscillator','#0a2025','execCommand','hidden','app-version-display','game-container','main-menu','awaitingServe','setValueAtTime'];a0_0x2558=function(){return _0x43c212;};return a0_0x2558();}installBtn&&installBtn[a0_0x3ec8c2(0x210)](a0_0x3ec8c2(0x294),async()=>{const _0x1f37ed=a0_0x3ec8c2;if(!deferredPrompt)return;deferredPrompt[_0x1f37ed(0x1f0)]();const {outcome:_0x3a8370}=await deferredPrompt['userChoice'];console[_0x1f37ed(0x225)](_0x1f37ed(0x203)+_0x3a8370),deferredPrompt=null;const _0x1e9bf0=document[_0x1f37ed(0x1f1)]('install-modal');if(_0x1e9bf0)_0x1e9bf0[_0x1f37ed(0x291)][_0x1f37ed(0x2c3)](_0x1f37ed(0x2a5));});window[a0_0x3ec8c2(0x210)](a0_0x3ec8c2(0x265),_0x2cd5cc=>{const _0x262edb=a0_0x3ec8c2;console[_0x262edb(0x225)]('App\x20Installed'),deferredPrompt=null;const _0x4b533d=document[_0x262edb(0x1f1)](_0x262edb(0x228));if(_0x4b533d)_0x4b533d['classList'][_0x262edb(0x2c3)](_0x262edb(0x2a5));});