const a0_0x4db5b5=a0_0x52de;(function(_0xbc9389,_0x233c2b){const _0x1ea125=a0_0x52de,_0x4668a2=_0xbc9389();while(!![]){try{const _0x2b9c78=-parseInt(_0x1ea125(0x1c1))/0x1+parseInt(_0x1ea125(0x184))/0x2*(-parseInt(_0x1ea125(0x105))/0x3)+-parseInt(_0x1ea125(0x15f))/0x4*(-parseInt(_0x1ea125(0x158))/0x5)+parseInt(_0x1ea125(0x1c7))/0x6+-parseInt(_0x1ea125(0x12f))/0x7*(-parseInt(_0x1ea125(0x113))/0x8)+parseInt(_0x1ea125(0x141))/0x9*(parseInt(_0x1ea125(0x19d))/0xa)+-parseInt(_0x1ea125(0x11a))/0xb;if(_0x2b9c78===_0x233c2b)break;else _0x4668a2['push'](_0x4668a2['shift']());}catch(_0x15c4c0){_0x4668a2['push'](_0x4668a2['shift']());}}}(a0_0x32e6,0xf355a));const canvas=document[a0_0x4db5b5(0x13c)](a0_0x4db5b5(0x103)),ctx=canvas[a0_0x4db5b5(0x192)]('2d'),state={'running':![],'paused':![],'mode':a0_0x4db5b5(0x154),'difficulty':a0_0x4db5b5(0x1a9),'flipped':undefined,'p1':{'score':0x0,'x':0x0,'y':0x0,'prevX':0x0,'prevY':0x0,'vx':0x0,'vy':0x0,'radius':0x0,'color':a0_0x4db5b5(0x197)},'p2':{'score':0x0,'x':0x0,'y':0x0,'prevX':0x0,'prevY':0x0,'vx':0x0,'vy':0x0,'radius':0x0,'color':a0_0x4db5b5(0x11c)},'puck':{'x':0x0,'y':0x0,'vx':0x0,'vy':0x0,'radius':0x0,'speed':0x0,'maxSpeed':0x0},'field':{'width':0x190,'height':0x320},'particles':[],'countdown':![],'turn':0x1,'awaitingServe':![]},CONFIG={'friction':0.992,'wallBounce':0.9,'puckMaxSpeedMultiplier':0.04,'paddleRadiusRatio':0.08,'puckRadiusRatio':0.04,'winningScore':0xc},DIFFICULTIES={'medium':{'speed':0.1,'reaction':0.1,'error':0x14},'difficult':{'speed':0.18,'reaction':0.05,'error':0xa},'insane':{'speed':0.4,'reaction':0.01,'error':0x0}},AudioContext=window[a0_0x4db5b5(0x169)]||window[a0_0x4db5b5(0x1e9)],audioCtx=new AudioContext();function playSound(_0x718f50){const _0x1e888c=a0_0x4db5b5;if(audioCtx[_0x1e888c(0x143)]===_0x1e888c(0xfd))audioCtx['resume']();const _0x3aba86=audioCtx[_0x1e888c(0x17b)](),_0x1a0b8a=audioCtx[_0x1e888c(0x144)]();_0x3aba86[_0x1e888c(0xfb)](_0x1a0b8a),_0x1a0b8a[_0x1e888c(0xfb)](audioCtx[_0x1e888c(0x13f)]);const _0x5f14d2=audioCtx['currentTime'];if(_0x718f50==='hit')_0x3aba86['frequency']['setValueAtTime'](0x190,_0x5f14d2),_0x3aba86['frequency'][_0x1e888c(0x202)](0x64,_0x5f14d2+0.1),_0x1a0b8a['gain'][_0x1e888c(0x153)](0.3,_0x5f14d2),_0x1a0b8a[_0x1e888c(0x1e5)][_0x1e888c(0x202)](0.01,_0x5f14d2+0.1),_0x3aba86[_0x1e888c(0x163)](_0x5f14d2),_0x3aba86[_0x1e888c(0x126)](_0x5f14d2+0.1);else{if(_0x718f50===_0x1e888c(0x188))_0x3aba86[_0x1e888c(0x125)][_0x1e888c(0x153)](0xc8,_0x5f14d2),_0x3aba86[_0x1e888c(0x125)][_0x1e888c(0x202)](0x32,_0x5f14d2+0.1),_0x1a0b8a['gain'][_0x1e888c(0x153)](0.2,_0x5f14d2),_0x1a0b8a['gain'][_0x1e888c(0x202)](0.01,_0x5f14d2+0.1),_0x3aba86[_0x1e888c(0x163)](_0x5f14d2),_0x3aba86['stop'](_0x5f14d2+0.1);else{if(_0x718f50===_0x1e888c(0x135))_0x3aba86[_0x1e888c(0x1ca)]='square',_0x3aba86['frequency']['setValueAtTime'](0x258,_0x5f14d2),_0x3aba86[_0x1e888c(0x125)][_0x1e888c(0x153)](0x320,_0x5f14d2+0.1),_0x3aba86[_0x1e888c(0x125)][_0x1e888c(0x153)](0x190,_0x5f14d2+0.2),_0x1a0b8a['gain'][_0x1e888c(0x153)](0.3,_0x5f14d2),_0x1a0b8a[_0x1e888c(0x1e5)]['exponentialRampToValueAtTime'](0.01,_0x5f14d2+0.6),_0x3aba86[_0x1e888c(0x163)](_0x5f14d2),_0x3aba86['stop'](_0x5f14d2+0.6);else{if(_0x718f50==='countdown')_0x3aba86[_0x1e888c(0x125)][_0x1e888c(0x153)](0x1b8,_0x5f14d2),_0x1a0b8a[_0x1e888c(0x1e5)][_0x1e888c(0x153)](0.2,_0x5f14d2),_0x1a0b8a[_0x1e888c(0x1e5)][_0x1e888c(0x202)](0.01,_0x5f14d2+0.2),_0x3aba86[_0x1e888c(0x163)](_0x5f14d2),_0x3aba86[_0x1e888c(0x126)](_0x5f14d2+0.2);else _0x718f50==='go'&&(_0x3aba86[_0x1e888c(0x1ca)]=_0x1e888c(0x174),_0x3aba86[_0x1e888c(0x125)]['setValueAtTime'](0x370,_0x5f14d2),_0x1a0b8a[_0x1e888c(0x1e5)][_0x1e888c(0x153)](0.3,_0x5f14d2),_0x1a0b8a[_0x1e888c(0x1e5)][_0x1e888c(0x202)](0.01,_0x5f14d2+0.3),_0x3aba86[_0x1e888c(0x163)](_0x5f14d2),_0x3aba86['stop'](_0x5f14d2+0.3));}}}}function viewX(_0x1cd013){const _0x396e5a=a0_0x4db5b5,_0x28a8c6=canvas[_0x396e5a(0xfa)]/state['field']['width'],_0x26d9d5=_0x1cd013*_0x28a8c6;return state[_0x396e5a(0x170)]?canvas[_0x396e5a(0xfa)]-_0x26d9d5:_0x26d9d5;}function viewY(_0x48f59d){const _0x35c4ee=a0_0x4db5b5,_0x2a24a0=canvas[_0x35c4ee(0x10b)]/state[_0x35c4ee(0x107)][_0x35c4ee(0x10b)],_0xc9c242=_0x48f59d*_0x2a24a0;return state['flipped']?canvas[_0x35c4ee(0x10b)]-_0xc9c242:_0xc9c242;}function viewLen(_0x58cdce){const _0x4e1731=a0_0x4db5b5;return _0x58cdce*(canvas['width']/state['field'][_0x4e1731(0xfa)]);}function logicX(_0x67ebf9){const _0x4dcece=a0_0x4db5b5,_0x4f80e1=canvas[_0x4dcece(0xfa)]/state[_0x4dcece(0x107)][_0x4dcece(0xfa)];let _0x2b77a9=_0x67ebf9;if(state[_0x4dcece(0x170)])_0x2b77a9=canvas[_0x4dcece(0xfa)]-_0x2b77a9;return _0x2b77a9/_0x4f80e1;}function logicY(_0x1e2fe8){const _0x3b0ea4=a0_0x4db5b5,_0x217ee0=canvas['height']/state[_0x3b0ea4(0x107)]['height'];let _0x206431=_0x1e2fe8;if(state[_0x3b0ea4(0x170)])_0x206431=canvas[_0x3b0ea4(0x10b)]-_0x206431;return _0x206431/_0x217ee0;}function a0_0x52de(_0x1cfa28,_0x407054){_0x1cfa28=_0x1cfa28-0xf9;const _0x32e6df=a0_0x32e6();let _0x52de41=_0x32e6df[_0x1cfa28];return _0x52de41;}function resize(){const _0x3da9d2=a0_0x4db5b5,_0x582d06=document[_0x3da9d2(0x13c)](_0x3da9d2(0x17e));if(!_0x582d06)return;canvas[_0x3da9d2(0xfa)]=_0x582d06['clientWidth']||window[_0x3da9d2(0x1fa)],canvas[_0x3da9d2(0x10b)]=_0x582d06['clientHeight']||window[_0x3da9d2(0x1ed)];const _0x583f50=0x190;state['p1']['radius']=_0x583f50*CONFIG[_0x3da9d2(0x14a)],state['p2'][_0x3da9d2(0x1ec)]=_0x583f50*CONFIG[_0x3da9d2(0x14a)],state[_0x3da9d2(0x130)][_0x3da9d2(0x1ec)]=_0x583f50*CONFIG[_0x3da9d2(0x191)],state[_0x3da9d2(0x130)][_0x3da9d2(0x195)]=0x320*CONFIG[_0x3da9d2(0x1af)];if(!state[_0x3da9d2(0x171)])resetPositions();}function resetPositions(){const _0x43a53b=a0_0x4db5b5;state['p1']['x']=state[_0x43a53b(0x107)][_0x43a53b(0xfa)]/0x2,state['p1']['y']=state[_0x43a53b(0x107)]['height']-state[_0x43a53b(0x107)]['height']*0.15,state['p1'][_0x43a53b(0x18f)]=state['p1']['x'],state['p1']['prevY']=state['p1']['y'],state['p2']['x']=state[_0x43a53b(0x107)][_0x43a53b(0xfa)]/0x2,state['p2']['y']=state[_0x43a53b(0x107)][_0x43a53b(0x10b)]*0.15,state['p2'][_0x43a53b(0x18f)]=state['p2']['x'],state['p2'][_0x43a53b(0x1f6)]=state['p2']['y'],state[_0x43a53b(0x130)]['vx']=0x0,state[_0x43a53b(0x130)]['vy']=0x0,state[_0x43a53b(0x1db)]===0x1?(state['puck']['x']=state['p1']['x'],state[_0x43a53b(0x130)]['y']=state['p1']['y']-state['p1'][_0x43a53b(0x1ec)]-state['puck']['radius']-0x8):(state['puck']['x']=state['p2']['x'],state[_0x43a53b(0x130)]['y']=state['p2']['y']+state['p2']['radius']+state[_0x43a53b(0x130)][_0x43a53b(0x1ec)]+0x8),state[_0x43a53b(0x108)]=!![],updateTurnUI();}function updateTurnUI(){const _0xa08b95=a0_0x4db5b5,_0x5295cf=document[_0xa08b95(0x13c)](_0xa08b95(0x15b));if(!_0x5295cf)return;if(!state['awaitingServe']){_0x5295cf[_0xa08b95(0x109)][_0xa08b95(0x150)](_0xa08b95(0x1a4));return;}_0x5295cf[_0xa08b95(0x190)]=_0xa08b95(0x132)+state[_0xa08b95(0x1db)]+_0xa08b95(0x168),_0x5295cf[_0xa08b95(0x109)][_0xa08b95(0x127)](_0xa08b95(0x1a4));const _0x2c5a75=state['turn']===0x1,_0x1921d3=_0x2c5a75?state[_0xa08b95(0x107)][_0xa08b95(0x10b)]*0.7:state['field'][_0xa08b95(0x10b)]*0.3,_0x32465d=viewY(_0x1921d3);_0x5295cf['style']['top']=_0x32465d+'px';}function a0_0x32e6(){const _0x4ec36d=['6722wpmeut','createElement','Update\x20failed','showMainMenu','wall','PLAYER\x201','updateVersionDisplay','INITIALIZING...','version.json?t=','update-app-btn','request_rematch','prevX','textContent','puckRadiusRatio','getContext','#ffffff','stopScanner','maxSpeed','setItem','#00f2ff','removeChild','close','then','scanner-modal','left','300xeQPbC','update-modal','style','globalAlpha','keys','serve','wallBounce','hidden','sin','restartGame','rematch','onLine','medium','.menu-overlay','log','connection-status','environment','peer-unavailable','puckMaxSpeedMultiplier','get','openLobby','clipboard','online_client','countdown','rgba(255,255,255,0.1)','querySelectorAll','appinstalled','innerHTML','toString','openShareModal','particles','unregister','lineWidth','decay','Update\x20check\x20failed','strokeText','1653152XNRsNc','join','rgba(255,\x20255,\x20255,\x200.15)','selectDiff','now','peer-id-input','11928390pzfGHg','getBoundingClientRect','arc','type','SYSTEM\x20REBOOT...','trim','search','alert-title','body','none','data','Please\x20ensure\x20camera\x20permissions\x20are\x20granted.','\x20-\x20','px\x20sans-serif','Play\x20Tron\x20Hockey\x20-\x20Neon\x20League\x201v1!','fill','scores','shadowBlur','alert-message','stroke','turn','1.2.9','friction','catch','difficulty','CAMERA\x20ERROR','startCountdown','Tron\x20Hockey','1.0.0','YOU\x20LOSE','gain','handleInput','game-ui','send','webkitAudioContext','value','pendingVersion','radius','innerHeight','atan2','pathname','removeItem','App\x20Installed','reset','touchmove','online_host','app-version-display','prevY','push','toggle','GO!','innerWidth','max','winningScore','#2a4d53','connect-id-input','roundRect','READY\x20TO\x20CONNECT','lobby-modal','exponentialRampToValueAtTime','filter','top','getItem','Host\x20offline.','destroy','share-modal','showCpuMenu','beginPath','userChoice','serviceWorker','width','connect','preventDefault','suspended','clientY','bottom','hit','#0ff','?join=','gameCanvas','json','1260oVUQUh','returnToMenu','field','awaitingServe','classList','mode-menu','height','error','getRegistrations','LINK\x20COPIED','update-progress-bar','stopGame','searchParams','share','102512FXXTck','select','touches','UNREGISTERING\x20SYSTEMS...','font','game','forEach','18451642tIaxjX','connection','#ff0066','origin','main-menu','open','addEventListener','CHECK\x20FAILED','.diff-btn','App\x20URL\x20copied!\x20Share\x20it\x20with\x20your\x20friends.','game-over-score','frequency','stop','remove','p1Won','life','endGame','hypot','Share\x20failed','install-btn','min','994giSWmW','puck','background','PLAYER\x20','countdown-overlay','CLEANING\x20CACHE...','score','updateApp','delete','version','shadowColor','CHECK\x20UPDATES','pointermove','getElementById','resize','player-left-modal','destination','alert-modal','7533BzqcXJ','UP\x20TO\x20DATE','state','createGain','caches','local','countdown-text','#0a2025','strokeStyle','paddleRadiusRatio','random','writeText','clientX','offline-modal','shareApp','add','scorer','cpu-menu','setValueAtTime','cpu','User\x20Choice:\x20','length','app_version','257585OPTBOW','CONNECTED!','moveTo','turn-indicator','color','fillStyle','\x20copied','148MhkhEe','loading-modal','prompt','input','start','tron_hockey_peer_id','webkitTextFillColor','active','mode','\x20TURN','AudioContext','toggleFlip','install-modal','speed','cos','closeLobby','paused','flipped','running','YOU\x20WIN','game_over','triangle','qrcode-container','execCommand','reader','#fc0','game-over-modal','beforeinstallprompt','createOscillator','lineTo','textBaseline','game-container','difficulty-select','Game\x20link\x20copied\x20to\x20clipboard!','PLAYER\x202','loading-status','location'];a0_0x32e6=function(){return _0x4ec36d;};return a0_0x32e6();}function spawnParticles(_0x4cfefc,_0xd99a84,_0x244f02){const _0x55606d=a0_0x4db5b5;for(let _0x1b9194=0x0;_0x1b9194<0x14;_0x1b9194++){const _0x2e6015=Math[_0x55606d(0x14b)]()*0x6+0x2,_0x59ecb1=Math[_0x55606d(0x14b)]()*Math['PI']*0x2;state['particles'][_0x55606d(0x1f7)]({'x':_0x4cfefc,'y':_0xd99a84,'vx':Math[_0x55606d(0x16d)](_0x59ecb1)*_0x2e6015,'vy':Math[_0x55606d(0x1a5)](_0x59ecb1)*_0x2e6015,'life':0x1,'decay':Math[_0x55606d(0x14b)]()*0.04+0.02,'color':_0x244f02});}}function draw(){const _0x5038be=a0_0x4db5b5;ctx['clearRect'](0x0,0x0,canvas[_0x5038be(0xfa)],canvas[_0x5038be(0x10b)]);const _0x2a255b=canvas['width'],_0x1e7e6d=canvas[_0x5038be(0x10b)];if(state[_0x5038be(0x167)]===_0x5038be(0x1b3)&&state[_0x5038be(0x170)]===undefined)state[_0x5038be(0x170)]=!![];drawGrid(_0x2a255b,_0x1e7e6d);const _0xf6f02d=_0x1e7e6d/0x2;ctx[_0x5038be(0x1bd)]=0x3,ctx[_0x5038be(0x149)]=_0x5038be(0x1fd),ctx[_0x5038be(0x20a)](),ctx[_0x5038be(0x15a)](0x0,_0xf6f02d-0x6),ctx[_0x5038be(0x17c)](_0x2a255b,_0xf6f02d-0x6),ctx['stroke'](),ctx['beginPath'](),ctx[_0x5038be(0x15a)](0x0,_0xf6f02d+0x6),ctx[_0x5038be(0x17c)](_0x2a255b,_0xf6f02d+0x6),ctx[_0x5038be(0x1da)](),ctx[_0x5038be(0x149)]='rgba(0,\x20255,\x20255,\x200.2)',ctx[_0x5038be(0x20a)](),ctx['arc'](_0x2a255b/0x2,_0xf6f02d,_0x2a255b*0.2,0x0,Math['PI']*0x2),ctx[_0x5038be(0x1da)]();const _0xa76543=_0x2a255b*0.32,_0xa092fa=state[_0x5038be(0x170)],_0x216fbb=_0xa092fa?state['p1'][_0x5038be(0x15c)]:state['p2'][_0x5038be(0x15c)],_0x5a29db=_0xa092fa?state['p2']['color']:state['p1'][_0x5038be(0x15c)],_0x5d717a=viewLen(state['field'][_0x5038be(0xfa)]*0.2);ctx[_0x5038be(0x1bd)]=0x8,ctx[_0x5038be(0x149)]=_0x5038be(0x1c3),ctx[_0x5038be(0x20a)](),ctx[_0x5038be(0x15a)](0x0,0x0),ctx['lineTo'](_0x2a255b/0x2-_0x5d717a,0x0),ctx['stroke'](),ctx['beginPath'](),ctx['moveTo'](_0x2a255b/0x2+_0x5d717a,0x0),ctx[_0x5038be(0x17c)](_0x2a255b,0x0),ctx[_0x5038be(0x1da)](),ctx[_0x5038be(0x20a)](),ctx['moveTo'](0x0,_0x1e7e6d),ctx['lineTo'](_0x2a255b/0x2-_0x5d717a,_0x1e7e6d),ctx[_0x5038be(0x1da)](),ctx[_0x5038be(0x20a)](),ctx['moveTo'](_0x2a255b/0x2+_0x5d717a,_0x1e7e6d),ctx[_0x5038be(0x17c)](_0x2a255b,_0x1e7e6d),ctx[_0x5038be(0x1da)](),ctx[_0x5038be(0x1bd)]=0x3,ctx['shadowBlur']=0xf,ctx[_0x5038be(0x139)]=_0x216fbb,ctx[_0x5038be(0x149)]=_0x216fbb,ctx[_0x5038be(0x20a)](),ctx[_0x5038be(0x1c9)](_0x2a255b/0x2,0x0,_0x5d717a,0x0,Math['PI'],![]),ctx['stroke'](),ctx[_0x5038be(0x149)]=_0x5038be(0x1b5),ctx[_0x5038be(0x20a)](),ctx[_0x5038be(0x15a)](_0x2a255b/0x2-_0x5d717a,0x0),ctx[_0x5038be(0x17c)](_0x2a255b/0x2+_0x5d717a,0x0),ctx[_0x5038be(0x1da)](),ctx[_0x5038be(0x139)]=_0x5a29db,ctx['strokeStyle']=_0x5a29db,ctx[_0x5038be(0x20a)](),ctx[_0x5038be(0x1c9)](_0x2a255b/0x2,_0x1e7e6d,_0x5d717a,Math['PI'],0x0,![]),ctx[_0x5038be(0x1da)](),ctx[_0x5038be(0x149)]=_0x5038be(0x1b5),ctx[_0x5038be(0x20a)](),ctx['moveTo'](_0x2a255b/0x2-_0x5d717a,_0x1e7e6d),ctx['lineTo'](_0x2a255b/0x2+_0x5d717a,_0x1e7e6d),ctx['stroke'](),ctx[_0x5038be(0x1d8)]=0x0;const _0x50b37b=_0x1e7e6d*0.08;ctx[_0x5038be(0x117)]='900\x20'+_0x50b37b+_0x5038be(0x1d4),ctx['textAlign']='right';const _0x58ef2b=_0xa092fa?state['p1'][_0x5038be(0x135)]:state['p2'][_0x5038be(0x135)],_0x1f4ee3=_0xa092fa?state['p2'][_0x5038be(0x135)]:state['p1'][_0x5038be(0x135)];ctx[_0x5038be(0x17d)]=_0x5038be(0x204),ctx['strokeStyle']=_0x216fbb,ctx[_0x5038be(0x1bd)]=0x4,ctx[_0x5038be(0x1c0)](_0x58ef2b[_0x5038be(0x1b9)](),_0x2a255b-0x19,0x19),ctx[_0x5038be(0x17d)]=_0x5038be(0xff),ctx[_0x5038be(0x149)]=_0x5a29db,ctx['strokeText'](_0x1f4ee3[_0x5038be(0x1b9)](),_0x2a255b-0x19,_0x1e7e6d-0x19),drawPuck(state[_0x5038be(0x130)]),drawPaddle(state['p1']),drawPaddle(state['p2']),state['particles'][_0x5038be(0x119)](_0x24c976=>{const _0x19c314=_0x5038be;ctx[_0x19c314(0x1a0)]=_0x24c976[_0x19c314(0x129)],ctx[_0x19c314(0x15d)]=_0x24c976['color'],ctx[_0x19c314(0x20a)](),ctx[_0x19c314(0x1c9)](viewX(_0x24c976['x']),viewY(_0x24c976['y']),0x3,0x0,Math['PI']*0x2),ctx[_0x19c314(0x1d6)]();}),ctx['globalAlpha']=0x1,requestAnimationFrame(draw);}function drawGrid(_0x5eb880,_0x5af9fd){const _0x410aaf=a0_0x4db5b5,_0x52a606=0x5,_0x9bbd4c=0x9,_0x392fdf=_0x5eb880/_0x52a606,_0x9def32=_0x5af9fd/_0x9bbd4c,_0x447f9a=0x5;ctx[_0x410aaf(0x149)]=_0x410aaf(0x148),ctx['lineWidth']=0x2;for(let _0x272903=0x0;_0x272903<_0x9bbd4c;_0x272903++){for(let _0x212c31=0x0;_0x212c31<_0x52a606;_0x212c31++){ctx[_0x410aaf(0x20a)](),ctx[_0x410aaf(0x1ff)](_0x212c31*_0x392fdf+_0x447f9a,_0x272903*_0x9def32+_0x447f9a,_0x392fdf-_0x447f9a*0x2,_0x9def32-_0x447f9a*0x2,0x8),ctx[_0x410aaf(0x1da)]();}}}function drawPaddle(_0x38cf77){const _0x439f5a=a0_0x4db5b5,_0x99c56=viewX(_0x38cf77['x']),_0x2e02c1=viewY(_0x38cf77['y']),_0x29b9b6=viewLen(_0x38cf77[_0x439f5a(0x1ec)]);ctx['shadowBlur']=0xf,ctx[_0x439f5a(0x139)]=_0x38cf77[_0x439f5a(0x15c)],ctx['strokeStyle']=_0x38cf77['color'],ctx['lineWidth']=0x4,ctx[_0x439f5a(0x20a)](),ctx[_0x439f5a(0x1c9)](_0x99c56,_0x2e02c1,_0x29b9b6,0x0,Math['PI']*0x2),ctx[_0x439f5a(0x1da)](),ctx[_0x439f5a(0x1bd)]=0x2,ctx[_0x439f5a(0x20a)](),ctx['arc'](_0x99c56,_0x2e02c1,Math[_0x439f5a(0x1fb)](0x0,_0x29b9b6-0x8),0x0,Math['PI']*0x2),ctx['stroke'](),ctx['shadowBlur']=0x0;}function drawPuck(_0x5a6d9f){const _0x56923c=a0_0x4db5b5,_0x45a3e1=viewX(_0x5a6d9f['x']),_0x3239ad=viewY(_0x5a6d9f['y']),_0x4a1359=viewLen(_0x5a6d9f[_0x56923c(0x1ec)]);ctx[_0x56923c(0x1d8)]=0xf,ctx[_0x56923c(0x139)]=_0x56923c(0x101),ctx[_0x56923c(0x149)]=_0x56923c(0x101),ctx[_0x56923c(0x1bd)]=0x5,ctx['beginPath'](),ctx[_0x56923c(0x1c9)](_0x45a3e1,_0x3239ad,_0x4a1359,0x0,Math['PI']*0x2),ctx['stroke'](),ctx[_0x56923c(0x139)]=_0x56923c(0x178),ctx[_0x56923c(0x149)]='#fc0',ctx[_0x56923c(0x1bd)]=0x4,ctx[_0x56923c(0x20a)](),ctx[_0x56923c(0x1c9)](_0x45a3e1,_0x3239ad,_0x4a1359*0.5,0x0,Math['PI']*0x2),ctx[_0x56923c(0x1da)](),ctx[_0x56923c(0x1d8)]=0x0;}function update(){const _0x977f4c=a0_0x4db5b5;state['p1']['vx']=state['p1']['x']-state['p1']['prevX'],state['p1']['vy']=state['p1']['y']-state['p1'][_0x977f4c(0x1f6)],state['p1'][_0x977f4c(0x18f)]=state['p1']['x'],state['p1'][_0x977f4c(0x1f6)]=state['p1']['y'],state['p2']['vx']=state['p2']['x']-state['p2'][_0x977f4c(0x18f)],state['p2']['vy']=state['p2']['y']-state['p2'][_0x977f4c(0x1f6)],state['p2'][_0x977f4c(0x18f)]=state['p2']['x'],state['p2'][_0x977f4c(0x1f6)]=state['p2']['y'];state[_0x977f4c(0x167)]===_0x977f4c(0x1f4)&&conn&&conn[_0x977f4c(0x11f)]&&broadcast({'type':'state'});if(!state[_0x977f4c(0x171)]||state[_0x977f4c(0x16f)]||state[_0x977f4c(0x1b4)])return;if(state[_0x977f4c(0x167)]===_0x977f4c(0x154)){const _0x2b81ff=DIFFICULTIES[state[_0x977f4c(0x1df)]]||DIFFICULTIES[_0x977f4c(0x1a9)];let _0x1daef2=state[_0x977f4c(0x107)]['width']/0x2,_0x4df0fc=state[_0x977f4c(0x107)]['height']*0.15;if(state['awaitingServe']&&state[_0x977f4c(0x1db)]===0x2)_0x1daef2=state[_0x977f4c(0x107)][_0x977f4c(0xfa)]/0x2+(Math[_0x977f4c(0x14b)]()-0.5)*0x64,_0x4df0fc=state['field'][_0x977f4c(0x10b)]*0.15+0x32;else{if(state[_0x977f4c(0x130)]['y']<state[_0x977f4c(0x107)][_0x977f4c(0x10b)]/0x2){_0x1daef2=state[_0x977f4c(0x130)]['x'];const _0x1ada1f=Math['hypot'](state[_0x977f4c(0x130)]['vx'],state[_0x977f4c(0x130)]['vy']);_0x1ada1f<0x2||state[_0x977f4c(0x130)]['vy']>0x0?_0x4df0fc=state[_0x977f4c(0x130)]['y']-state[_0x977f4c(0x130)]['radius']-0x14:_0x4df0fc=state[_0x977f4c(0x130)]['y']-0x28,_0x4df0fc=Math[_0x977f4c(0x12e)](_0x4df0fc,state[_0x977f4c(0x107)][_0x977f4c(0x10b)]/0x2-state['p2'][_0x977f4c(0x1ec)]);}else _0x1daef2=state[_0x977f4c(0x130)]['x']+(Math[_0x977f4c(0x14b)]()-0.5)*_0x2b81ff[_0x977f4c(0x10c)],_0x4df0fc=state[_0x977f4c(0x107)][_0x977f4c(0x10b)]*0.15;}state['p2']['x']+=(_0x1daef2-state['p2']['x'])*_0x2b81ff[_0x977f4c(0x16c)],state['p2']['y']+=(_0x4df0fc-state['p2']['y'])*_0x2b81ff[_0x977f4c(0x16c)];}if(state[_0x977f4c(0x108)]){const _0x11547f=state[_0x977f4c(0x1db)]===0x1?state['p1']:state['p2'],_0x154b1e=state[_0x977f4c(0x1db)]===0x1?-(_0x11547f[_0x977f4c(0x1ec)]+state[_0x977f4c(0x130)][_0x977f4c(0x1ec)]+0x5):_0x11547f[_0x977f4c(0x1ec)]+state['puck'][_0x977f4c(0x1ec)]+0x5;state[_0x977f4c(0x130)]['x']=_0x11547f['x'],state['puck']['y']=_0x11547f['y']+_0x154b1e;const _0x2292f2=Math['hypot'](_0x11547f['vx'],_0x11547f['vy']);if(_0x2292f2>0x2){state[_0x977f4c(0x108)]=![],state[_0x977f4c(0x130)]['vx']=_0x11547f['vx']*1.5,state['puck']['vy']=_0x11547f['vy']*1.5,updateTurnUI();if(state[_0x977f4c(0x167)]===_0x977f4c(0x1f4))broadcast({'type':_0x977f4c(0x143),'event':_0x977f4c(0x1a2)});}if(state[_0x977f4c(0x167)]==='online_host'&&conn&&conn[_0x977f4c(0x11f)])broadcast({'type':'state'});return;}if(state['mode']===_0x977f4c(0x1b3)){conn&&conn[_0x977f4c(0x11f)]&&conn[_0x977f4c(0x1e8)]({'type':_0x977f4c(0x162),'x':state['p2']['x']/state['field'][_0x977f4c(0xfa)],'y':state['p2']['y']/state[_0x977f4c(0x107)]['height']});updateParticles();return;}state[_0x977f4c(0x130)]['x']+=state[_0x977f4c(0x130)]['vx'],state[_0x977f4c(0x130)]['y']+=state[_0x977f4c(0x130)]['vy'],state['puck']['vx']*=CONFIG['friction'],state[_0x977f4c(0x130)]['vy']*=CONFIG[_0x977f4c(0x1dd)];state[_0x977f4c(0x130)]['x']<state[_0x977f4c(0x130)][_0x977f4c(0x1ec)]&&(state[_0x977f4c(0x130)]['x']=state[_0x977f4c(0x130)]['radius'],state[_0x977f4c(0x130)]['vx']*=-CONFIG[_0x977f4c(0x1a3)],playSound('wall'));state[_0x977f4c(0x130)]['x']>state[_0x977f4c(0x107)][_0x977f4c(0xfa)]-state[_0x977f4c(0x130)][_0x977f4c(0x1ec)]&&(state[_0x977f4c(0x130)]['x']=state[_0x977f4c(0x107)][_0x977f4c(0xfa)]-state[_0x977f4c(0x130)][_0x977f4c(0x1ec)],state[_0x977f4c(0x130)]['vx']*=-CONFIG[_0x977f4c(0x1a3)],playSound(_0x977f4c(0x188)));const _0x269bf6=state[_0x977f4c(0x107)]['width']*0.2,_0x4f13e9=state[_0x977f4c(0x107)]['width']/0x2-_0x269bf6,_0x2263af=state['field'][_0x977f4c(0xfa)]/0x2+_0x269bf6;if(state[_0x977f4c(0x130)]['y']<state['puck'][_0x977f4c(0x1ec)]){if(state[_0x977f4c(0x130)]['x']>_0x4f13e9&&state[_0x977f4c(0x130)]['x']<_0x2263af){if(state[_0x977f4c(0x130)]['y']<0x0)handleGoal(0x1);}else state[_0x977f4c(0x130)]['y']=state[_0x977f4c(0x130)]['radius'],state[_0x977f4c(0x130)]['vy']*=-CONFIG['wallBounce'],playSound(_0x977f4c(0x188));}else{if(state['puck']['y']>state[_0x977f4c(0x107)][_0x977f4c(0x10b)]-state[_0x977f4c(0x130)]['radius']){if(state[_0x977f4c(0x130)]['x']>_0x4f13e9&&state['puck']['x']<_0x2263af){if(state[_0x977f4c(0x130)]['y']>state['field'][_0x977f4c(0x10b)])handleGoal(0x2);}else state[_0x977f4c(0x130)]['y']=state[_0x977f4c(0x107)][_0x977f4c(0x10b)]-state[_0x977f4c(0x130)][_0x977f4c(0x1ec)],state[_0x977f4c(0x130)]['vy']*=-CONFIG[_0x977f4c(0x1a3)],playSound(_0x977f4c(0x188));}}checkCollision(state['p1']),checkCollision(state['p2']),updateParticles();}function updateParticles(){const _0x1bd03e=a0_0x4db5b5;state[_0x1bd03e(0x1bb)][_0x1bd03e(0x119)](_0x16f0d4=>{const _0x44cae6=_0x1bd03e;_0x16f0d4['x']+=_0x16f0d4['vx'],_0x16f0d4['y']+=_0x16f0d4['vy'],_0x16f0d4['life']-=_0x16f0d4[_0x44cae6(0x1be)];}),state['particles']=state[_0x1bd03e(0x1bb)][_0x1bd03e(0x203)](_0x2f8eac=>_0x2f8eac['life']>0x0);}function checkCollision(_0x3e0ec7){const _0x3be21a=a0_0x4db5b5,_0x5f0b74=state[_0x3be21a(0x130)]['x']-_0x3e0ec7['x'],_0x5c55af=state[_0x3be21a(0x130)]['y']-_0x3e0ec7['y'],_0x536572=Math[_0x3be21a(0x12b)](_0x5f0b74,_0x5c55af),_0x32aa25=state[_0x3be21a(0x130)][_0x3be21a(0x1ec)]+_0x3e0ec7[_0x3be21a(0x1ec)];if(_0x536572<_0x32aa25){const _0x26c05f=Math[_0x3be21a(0x1ee)](_0x5c55af,_0x5f0b74),_0x568d08=_0x32aa25-_0x536572;state[_0x3be21a(0x130)]['x']+=Math[_0x3be21a(0x16d)](_0x26c05f)*_0x568d08,state['puck']['y']+=Math[_0x3be21a(0x1a5)](_0x26c05f)*_0x568d08;const _0x23547e=state['puck']['vx']*Math[_0x3be21a(0x16d)](_0x26c05f)+state[_0x3be21a(0x130)]['vy']*Math['sin'](_0x26c05f);state['puck']['vx']=state[_0x3be21a(0x130)]['vx']-0x2*_0x23547e*Math['cos'](_0x26c05f)+_0x3e0ec7['vx']*1.5,state[_0x3be21a(0x130)]['vy']=state[_0x3be21a(0x130)]['vy']-0x2*_0x23547e*Math[_0x3be21a(0x1a5)](_0x26c05f)+_0x3e0ec7['vy']*1.5;const _0x3c48a5=Math[_0x3be21a(0x12b)](state[_0x3be21a(0x130)]['vx'],state['puck']['vy']);_0x3c48a5>state[_0x3be21a(0x130)][_0x3be21a(0x195)]&&(state['puck']['vx']=state[_0x3be21a(0x130)]['vx']/_0x3c48a5*state[_0x3be21a(0x130)][_0x3be21a(0x195)],state[_0x3be21a(0x130)]['vy']=state[_0x3be21a(0x130)]['vy']/_0x3c48a5*state[_0x3be21a(0x130)][_0x3be21a(0x195)]),playSound(_0x3be21a(0x100));}}function handleGoal(_0x127b69,_0x36ccf4=![]){const _0x2619b1=a0_0x4db5b5;playSound(_0x2619b1(0x135));if(_0x127b69===0x1){spawnParticles(state[_0x2619b1(0x130)]['x'],0x0,state['p1']['color']);if(!_0x36ccf4)state['p1'][_0x2619b1(0x135)]++;}else{spawnParticles(state[_0x2619b1(0x130)]['x'],state[_0x2619b1(0x107)][_0x2619b1(0x10b)],state['p2'][_0x2619b1(0x15c)]);if(!_0x36ccf4)state['p2']['score']++;}if(!_0x36ccf4){state[_0x2619b1(0x1db)]=state[_0x2619b1(0x1db)]===0x1?0x2:0x1;state[_0x2619b1(0x167)]==='online_host'&&(broadcast({'type':_0x2619b1(0x143),'event':_0x2619b1(0x135),'scorer':_0x127b69,'nextTurn':state['turn']}),setTimeout(()=>broadcast({'type':_0x2619b1(0x1f2)}),0x64));if(state['p1'][_0x2619b1(0x135)]>=CONFIG[_0x2619b1(0x1fc)]||state['p2'][_0x2619b1(0x135)]>=CONFIG[_0x2619b1(0x1fc)])endGame(state['p1'][_0x2619b1(0x135)]>=CONFIG[_0x2619b1(0x1fc)]);else resetPositions();}}let peer=null,conn=null,isHost=![];function initPeer(){const _0x2a5b33=a0_0x4db5b5;if(peer)return;const _0x15918c=localStorage['getItem']('tron_hockey_peer_id');peer=new Peer(_0x15918c,{'debug':0x1}),peer['on']('open',_0x29625f=>{const _0x55f956=a0_0x52de;localStorage[_0x55f956(0x196)](_0x55f956(0x164),_0x29625f),document[_0x55f956(0x13c)](_0x55f956(0x1c6))[_0x55f956(0x1ea)]=_0x29625f,document['getElementById']('lobby-status')[_0x55f956(0x190)]=_0x55f956(0x200);const _0x3d7278=new URLSearchParams(window[_0x55f956(0x183)]['search'])[_0x55f956(0x1b0)]('game')||new URLSearchParams(window[_0x55f956(0x183)][_0x55f956(0x1cd)])[_0x55f956(0x1b0)](_0x55f956(0x1c2));_0x3d7278&&_0x3d7278!==_0x29625f&&(document[_0x55f956(0x13c)](_0x55f956(0x1fe))['value']=_0x3d7278,setTimeout(()=>connectToPeer(_0x3d7278),0x1f4));}),peer['on'](_0x2a5b33(0x10c),_0x5f500f=>{const _0x50298f=_0x2a5b33;if(_0x5f500f['type']==='unavailable-id')peer['destroy'](),peer=null,initPeer();else{if(_0x5f500f[_0x50298f(0x1ca)]===_0x50298f(0x1ae))showAlert('NOT\x20FOUND',_0x50298f(0x206));}console[_0x50298f(0x10c)](_0x5f500f);}),peer['on'](_0x2a5b33(0x11b),_0xe0555b=>{if(conn)conn['close']();conn=_0xe0555b,isHost=!![],setupConn();});}function setupConn(){const _0x239786=a0_0x4db5b5;conn['on'](_0x239786(0x11f),()=>{const _0x3613d2=_0x239786;document['getElementById'](_0x3613d2(0x1ac))['textContent']=_0x3613d2(0x159),setTimeout(()=>{const _0xafabc5=_0x3613d2;document[_0xafabc5(0x13c)](_0xafabc5(0x201))[_0xafabc5(0x109)]['add'](_0xafabc5(0x1a4)),startGame(isHost?_0xafabc5(0x1f4):_0xafabc5(0x1b3));},0x3e8);}),conn['on'](_0x239786(0x1d1),_0x213429=>{const _0xa99699=_0x239786;if(state[_0xa99699(0x167)]===_0xa99699(0x1f4)){if(_0x213429[_0xa99699(0x1ca)]===_0xa99699(0x162))state['p2']['x']=_0x213429['x']*state['field'][_0xa99699(0xfa)],state['p2']['y']=_0x213429['y']*state[_0xa99699(0x107)][_0xa99699(0x10b)];else _0x213429[_0xa99699(0x1ca)]===_0xa99699(0x18e)&&startGame(_0xa99699(0x1f4));}else{if(state[_0xa99699(0x167)]===_0xa99699(0x1b3)){if(_0x213429[_0xa99699(0x1ca)]===_0xa99699(0x143)){state['p1']['x']=_0x213429['p1']['x']*state[_0xa99699(0x107)][_0xa99699(0xfa)],state['p1']['y']=_0x213429['p1']['y']*state['field'][_0xa99699(0x10b)],state['p2']['x']=_0x213429['p2']['x']*state[_0xa99699(0x107)][_0xa99699(0xfa)],state['p2']['y']=_0x213429['p2']['y']*state['field']['height'],state['p1'][_0xa99699(0x135)]=_0x213429[_0xa99699(0x1d7)]['p1'],state['p2'][_0xa99699(0x135)]=_0x213429['scores']['p2'],state['puck']['x']=_0x213429[_0xa99699(0x130)]['x']*state[_0xa99699(0x107)][_0xa99699(0xfa)],state['puck']['y']=_0x213429['puck']['y']*state[_0xa99699(0x107)][_0xa99699(0x10b)],state[_0xa99699(0x130)]['vx']=_0x213429[_0xa99699(0x130)]['vx']*state['field'][_0xa99699(0xfa)],state['puck']['vy']=_0x213429['puck']['vy']*state['field'][_0xa99699(0x10b)],state[_0xa99699(0x1db)]=_0x213429[_0xa99699(0x1d7)][_0xa99699(0x1db)],state[_0xa99699(0x108)]=_0x213429[_0xa99699(0x1d7)]['awaitingServe'],updateTurnUI();if(_0x213429['event']===_0xa99699(0x135))handleGoal(_0x213429[_0xa99699(0x151)],!![]);}else{if(_0x213429[_0xa99699(0x1ca)]===_0xa99699(0x1f2))resize(),resetPositions();else{if(_0x213429[_0xa99699(0x1ca)]===_0xa99699(0x1b4))startCountdown();else{if(_0x213429[_0xa99699(0x1ca)]===_0xa99699(0x1a7))startGame(_0xa99699(0x1b3));else{if(_0x213429[_0xa99699(0x1ca)]===_0xa99699(0x173))endGame(_0x213429[_0xa99699(0x128)]);}}}}}}}),conn['on'](_0x239786(0x199),()=>{const _0x5a80cd=_0x239786;state[_0x5a80cd(0x171)]&&document[_0x5a80cd(0x13c)](_0x5a80cd(0x13e))[_0x5a80cd(0x109)][_0x5a80cd(0x127)](_0x5a80cd(0x1a4));});}function broadcast(_0x3f45f5){const _0x31a0e4=a0_0x4db5b5;conn&&conn[_0x31a0e4(0x11f)]&&conn['send']({..._0x3f45f5,'p1':{'x':state['p1']['x']/state[_0x31a0e4(0x107)][_0x31a0e4(0xfa)],'y':state['p1']['y']/state['field'][_0x31a0e4(0x10b)]},'p2':{'x':state['p2']['x']/state[_0x31a0e4(0x107)]['width'],'y':state['p2']['y']/state['field']['height']},'puck':{'x':state['puck']['x']/state[_0x31a0e4(0x107)][_0x31a0e4(0xfa)],'y':state[_0x31a0e4(0x130)]['y']/state[_0x31a0e4(0x107)][_0x31a0e4(0x10b)],'vx':state[_0x31a0e4(0x130)]['vx']/state['field'][_0x31a0e4(0xfa)],'vy':state['puck']['vy']/state[_0x31a0e4(0x107)][_0x31a0e4(0x10b)]},'scores':{'p1':state['p1']['score'],'p2':state['p2'][_0x31a0e4(0x135)],'turn':state['turn'],'awaitingServe':state[_0x31a0e4(0x108)]}});}window['startGame']=_0x18f694=>{const _0x440401=a0_0x4db5b5;state[_0x440401(0x167)]=_0x18f694,state[_0x440401(0x1df)]=document[_0x440401(0x13c)]('difficulty-select')[_0x440401(0x1ea)]||'medium',state['running']=!![],state['p1'][_0x440401(0x135)]=0x0,state['p2']['score']=0x0,state['turn']=Math[_0x440401(0x14b)]()<0.5?0x1:0x2,resize(),resetPositions(),document[_0x440401(0x1b6)]('.menu-overlay')[_0x440401(0x119)](_0x1f51fb=>_0x1f51fb['classList']['add']('hidden')),document[_0x440401(0x13c)]('game-ui')['classList'][_0x440401(0x127)](_0x440401(0x1a4)),startCountdown();if(state[_0x440401(0x167)]===_0x440401(0x1f4))broadcast({'type':_0x440401(0x1a7)});},window[a0_0x4db5b5(0x1c4)]=(_0xf9531e,_0x3d5541)=>{const _0x1948e1=a0_0x4db5b5;document['getElementById'](_0x1948e1(0x17f))[_0x1948e1(0x1ea)]=_0xf9531e,document[_0x1948e1(0x1b6)](_0x1948e1(0x122))[_0x1948e1(0x119)](_0x3d90fb=>_0x3d90fb[_0x1948e1(0x109)][_0x1948e1(0x127)](_0x1948e1(0x166))),_0x3d5541[_0x1948e1(0x109)][_0x1948e1(0x150)](_0x1948e1(0x166));},window[a0_0x4db5b5(0x1e1)]=()=>{const _0x350c9e=a0_0x4db5b5;resetPositions(),state[_0x350c9e(0x1b4)]=!![];const _0x3954d4=document['getElementById'](_0x350c9e(0x133)),_0x50b3c7=document['getElementById'](_0x350c9e(0x147));_0x3954d4['classList'][_0x350c9e(0x127)](_0x350c9e(0x1a4));let _0x39fbe7=0x3;_0x50b3c7[_0x350c9e(0x190)]=_0x39fbe7,playSound(_0x350c9e(0x1b4));const _0x378102=setInterval(()=>{const _0x52d126=_0x350c9e;_0x39fbe7--;if(_0x39fbe7>0x0)_0x50b3c7[_0x52d126(0x190)]=_0x39fbe7,playSound(_0x52d126(0x1b4));else _0x39fbe7===0x0?(_0x50b3c7[_0x52d126(0x190)]=_0x52d126(0x1f9),playSound('go')):(clearInterval(_0x378102),_0x3954d4[_0x52d126(0x109)][_0x52d126(0x150)](_0x52d126(0x1a4)),state[_0x52d126(0x1b4)]=![]);},0x3e8);if(state['mode']==='online_host')broadcast({'type':'countdown'});},window[a0_0x4db5b5(0x1e6)]=(_0x465a2e,_0x19e8b2)=>{const _0x26281e=a0_0x4db5b5;if(!state[_0x26281e(0x171)])return;let _0x43536e=state['mode']==='online_client'?state['p2']:state['p1'];if(state[_0x26281e(0x167)]===_0x26281e(0x146)&&_0x19e8b2<state[_0x26281e(0x107)][_0x26281e(0x10b)]/0x2)_0x43536e=state['p2'];const _0x51368c=_0x43536e===state['p1'],_0x5c26ca=_0x51368c?state[_0x26281e(0x107)]['height']/0x2+_0x43536e['radius']:_0x43536e[_0x26281e(0x1ec)],_0x1b6ef5=_0x51368c?state['field']['height']-_0x43536e['radius']:state['field'][_0x26281e(0x10b)]/0x2-_0x43536e['radius'];_0x43536e['x']=Math['max'](_0x43536e['radius'],Math['min'](state[_0x26281e(0x107)][_0x26281e(0xfa)]-_0x43536e[_0x26281e(0x1ec)],_0x465a2e)),_0x43536e['y']=Math[_0x26281e(0x1fb)](_0x5c26ca,Math['min'](_0x1b6ef5,_0x19e8b2));},canvas[a0_0x4db5b5(0x120)](a0_0x4db5b5(0x13b),_0x5d6459=>{const _0x2ffa8a=a0_0x4db5b5,_0xd74596=canvas['getBoundingClientRect']();handleInput(logicX(_0x5d6459[_0x2ffa8a(0x14d)]-_0xd74596[_0x2ffa8a(0x19c)]),logicY(_0x5d6459[_0x2ffa8a(0xfe)]-_0xd74596[_0x2ffa8a(0x204)]));}),canvas[a0_0x4db5b5(0x120)](a0_0x4db5b5(0x1f3),_0x59e3b4=>{const _0x159535=a0_0x4db5b5;_0x59e3b4['preventDefault']();const _0x16e60b=canvas[_0x159535(0x1c8)]();for(let _0x151c37 of _0x59e3b4[_0x159535(0x115)])handleInput(logicX(_0x151c37['clientX']-_0x16e60b[_0x159535(0x19c)]),logicY(_0x151c37[_0x159535(0xfe)]-_0x16e60b['top']));},{'passive':![]}),window[a0_0x4db5b5(0x1b1)]=()=>{const _0x4f8012=a0_0x4db5b5;if(!navigator['onLine']){document[_0x4f8012(0x13c)](_0x4f8012(0x14e))[_0x4f8012(0x109)][_0x4f8012(0x127)](_0x4f8012(0x1a4));return;}document[_0x4f8012(0x13c)](_0x4f8012(0x11e))['classList'][_0x4f8012(0x150)](_0x4f8012(0x1a4)),document['getElementById'](_0x4f8012(0x201))[_0x4f8012(0x109)][_0x4f8012(0x127)](_0x4f8012(0x1a4)),initPeer();},window[a0_0x4db5b5(0x1ba)]=()=>{const _0x530fc9=a0_0x4db5b5,_0x36ffc7=document[_0x530fc9(0x13c)](_0x530fc9(0x1c6))[_0x530fc9(0x1ea)];if(!_0x36ffc7)return;const _0x10ee9f=document[_0x530fc9(0x13c)](_0x530fc9(0x175));_0x10ee9f[_0x530fc9(0x1b8)]='';const _0x4492f4=window[_0x530fc9(0x183)][_0x530fc9(0x11d)]+window[_0x530fc9(0x183)][_0x530fc9(0x1ef)]+_0x530fc9(0x102)+_0x36ffc7;new QRCode(_0x10ee9f,{'text':_0x4492f4,'width':0xdc,'height':0xdc,'colorDark':'#000000','colorLight':_0x530fc9(0x193),'correctLevel':QRCode['CorrectLevel']['H']}),document[_0x530fc9(0x13c)](_0x530fc9(0x208))['classList']['remove'](_0x530fc9(0x1a4));},window['copyShareLink']=()=>{const _0x1f8b29=a0_0x4db5b5,_0x13a891=document['getElementById'](_0x1f8b29(0x1c6))['value'],_0x543709=window['location']['origin']+window['location'][_0x1f8b29(0x1ef)]+_0x1f8b29(0x102)+_0x13a891;navigator[_0x1f8b29(0x1b2)][_0x1f8b29(0x14c)](_0x543709),showAlert('COPIED',_0x1f8b29(0x180));},window['connectToPeer']=_0x5e08c1=>{const _0x410fe7=a0_0x4db5b5,_0x15b24e=_0x5e08c1||document[_0x410fe7(0x13c)](_0x410fe7(0x1fe))[_0x410fe7(0x1ea)][_0x410fe7(0x1cc)]();if(!_0x15b24e)return;conn=peer[_0x410fe7(0xfb)](_0x15b24e,{'reliable':![]}),isHost=![],setupConn();};let html5QrCode=null;window['openScanner']=()=>{const _0xdb2289=a0_0x4db5b5;document['getElementById'](_0xdb2289(0x19b))[_0xdb2289(0x109)]['remove']('hidden'),html5QrCode=new Html5Qrcode(_0xdb2289(0x177));const _0x420d30={'fps':0xa,'qrbox':{'width':0xfa,'height':0xfa}};html5QrCode[_0xdb2289(0x163)]({'facingMode':_0xdb2289(0x1ad)},_0x420d30,_0x34b8f7=>{const _0x33e357=extractIdFromUrl(_0x34b8f7);stopScanner();if(_0x33e357)connectToPeer(_0x33e357);},_0x231d12=>{})[_0xdb2289(0x1de)](_0x4446cc=>{const _0x531912=_0xdb2289;showAlert(_0x531912(0x1e0),_0x531912(0x1d2)),stopScanner();});};function extractIdFromUrl(_0x41868d){const _0x5c1b74=a0_0x4db5b5;try{const _0x1fec3d=new URL(_0x41868d);return _0x1fec3d[_0x5c1b74(0x111)]['get'](_0x5c1b74(0x1c2))||_0x1fec3d[_0x5c1b74(0x111)][_0x5c1b74(0x1b0)](_0x5c1b74(0x118))||_0x41868d;}catch(_0x1aed69){return _0x41868d;}}window[a0_0x4db5b5(0x194)]=async()=>{const _0x4c05af=a0_0x4db5b5;if(html5QrCode){try{await html5QrCode['stop']();}catch(_0x14ca82){}html5QrCode=null;}document[_0x4c05af(0x13c)]('scanner-modal')[_0x4c05af(0x109)]['add'](_0x4c05af(0x1a4));},window['togglePause']=()=>{const _0x24f2e9=a0_0x4db5b5;state[_0x24f2e9(0x16f)]=!state[_0x24f2e9(0x16f)],document[_0x24f2e9(0x13c)]('pause-modal')[_0x24f2e9(0x109)][_0x24f2e9(0x1f8)](_0x24f2e9(0x1a4),!state[_0x24f2e9(0x16f)]);},window[a0_0x4db5b5(0x110)]=()=>{const _0x4bde0b=a0_0x4db5b5;state['running']=![];conn&&(conn[_0x4bde0b(0x199)](),conn=null);localStorage[_0x4bde0b(0x1f0)](_0x4bde0b(0x164));peer&&(peer[_0x4bde0b(0x207)](),peer=null);const _0x997c32=document[_0x4bde0b(0x13c)](_0x4bde0b(0x1fe));if(_0x997c32)_0x997c32[_0x4bde0b(0x1ea)]='';document[_0x4bde0b(0x1b6)](_0x4bde0b(0x1aa))[_0x4bde0b(0x119)](_0x513ad3=>_0x513ad3[_0x4bde0b(0x109)][_0x4bde0b(0x150)](_0x4bde0b(0x1a4))),document[_0x4bde0b(0x13c)](_0x4bde0b(0x11e))[_0x4bde0b(0x109)]['remove'](_0x4bde0b(0x1a4)),document[_0x4bde0b(0x13c)](_0x4bde0b(0x1e7))[_0x4bde0b(0x109)][_0x4bde0b(0x150)](_0x4bde0b(0x1a4)),showMainMenu();},window[a0_0x4db5b5(0x16a)]=()=>{const _0x338683=a0_0x4db5b5;state[_0x338683(0x170)]=!state[_0x338683(0x170)];},window[a0_0x4db5b5(0x209)]=()=>{const _0x3b44cb=a0_0x4db5b5;document[_0x3b44cb(0x13c)](_0x3b44cb(0x10a))['classList'][_0x3b44cb(0x150)]('hidden'),document['getElementById']('cpu-menu')[_0x3b44cb(0x109)][_0x3b44cb(0x127)]('hidden');},window[a0_0x4db5b5(0x187)]=()=>{const _0x4efc30=a0_0x4db5b5;document[_0x4efc30(0x13c)](_0x4efc30(0x152))['classList'][_0x4efc30(0x150)](_0x4efc30(0x1a4)),document[_0x4efc30(0x13c)](_0x4efc30(0x10a))[_0x4efc30(0x109)][_0x4efc30(0x127)](_0x4efc30(0x1a4));},window[a0_0x4db5b5(0x16e)]=()=>{const _0xa69656=a0_0x4db5b5;conn&&(conn['close'](),conn=null);const _0x5263da=document[_0xa69656(0x13c)](_0xa69656(0x1fe));if(_0x5263da)_0x5263da[_0xa69656(0x1ea)]='';document[_0xa69656(0x13c)](_0xa69656(0x201))['classList'][_0xa69656(0x150)](_0xa69656(0x1a4)),document[_0xa69656(0x13c)]('main-menu')[_0xa69656(0x109)]['remove'](_0xa69656(0x1a4));},window[a0_0x4db5b5(0x106)]=()=>{const _0x30463c=a0_0x4db5b5;document[_0x30463c(0x13c)](_0x30463c(0x179))['classList'][_0x30463c(0x150)](_0x30463c(0x1a4)),document[_0x30463c(0x13c)](_0x30463c(0x11e))[_0x30463c(0x109)][_0x30463c(0x127)](_0x30463c(0x1a4)),showMainMenu();},window[a0_0x4db5b5(0x1a6)]=()=>{const _0xa1daba=a0_0x4db5b5;if(state[_0xa1daba(0x167)]===_0xa1daba(0x1b3)){if(conn&&conn[_0xa1daba(0x11f)])conn[_0xa1daba(0x1e8)]({'type':_0xa1daba(0x18e)});}else startGame(state['mode']);},window[a0_0x4db5b5(0x12a)]=_0xe03699=>{const _0x570c63=a0_0x4db5b5;state['running']=![];if(state['mode']===_0x570c63(0x1f4))broadcast({'type':_0x570c63(0x173),'p1Won':_0xe03699});const _0x6fec2d=document['getElementById']('game-over-title');if(state[_0x570c63(0x167)]===_0x570c63(0x146)){const _0x524a7b=_0xe03699?_0x570c63(0x189):_0x570c63(0x181),_0x326538=_0xe03699?state['p1'][_0x570c63(0x15c)]:state['p2'][_0x570c63(0x15c)];_0x6fec2d[_0x570c63(0x190)]=_0x524a7b+'\x20WINS',_0x6fec2d['style'][_0x570c63(0x131)]=_0x570c63(0x1d0),_0x6fec2d[_0x570c63(0x19f)][_0x570c63(0x165)]=_0x326538,_0x6fec2d['style']['filter']='drop-shadow(0\x200\x2015px\x20'+_0x326538+')';}else{const _0x19dbb5=state[_0x570c63(0x167)]===_0x570c63(0x1b3)?!_0xe03699:_0xe03699;_0x6fec2d[_0x570c63(0x190)]=_0x19dbb5?_0x570c63(0x172):_0x570c63(0x1e4),_0x6fec2d[_0x570c63(0x19f)][_0x570c63(0x131)]='',_0x6fec2d[_0x570c63(0x19f)][_0x570c63(0x165)]='',_0x6fec2d['style'][_0x570c63(0x203)]='';}document[_0x570c63(0x13c)](_0x570c63(0x124))[_0x570c63(0x190)]=state['p1'][_0x570c63(0x135)]+_0x570c63(0x1d3)+state['p2'][_0x570c63(0x135)],document[_0x570c63(0x13c)](_0x570c63(0x179))['classList'][_0x570c63(0x127)](_0x570c63(0x1a4));},window['showAlert']=(_0x49ee75,_0x304d46)=>{const _0x5ce6c0=a0_0x4db5b5;document[_0x5ce6c0(0x13c)](_0x5ce6c0(0x1ce))['textContent']=_0x49ee75,document[_0x5ce6c0(0x13c)](_0x5ce6c0(0x1d9))[_0x5ce6c0(0x190)]=_0x304d46,document['getElementById'](_0x5ce6c0(0x140))['classList']['remove'](_0x5ce6c0(0x1a4));},setInterval(update,0x3e8/0x3c),requestAnimationFrame(draw),window[a0_0x4db5b5(0x120)](a0_0x4db5b5(0x13d),resize),setTimeout(()=>{resize(),updateVersionDisplay();},0x64),window[a0_0x4db5b5(0x18a)]=()=>{const _0x4f8dac=a0_0x4db5b5,_0x472de9=localStorage[_0x4f8dac(0x205)](_0x4f8dac(0x157))||_0x4f8dac(0x1dc),_0x1b79f0=document[_0x4f8dac(0x13c)](_0x4f8dac(0x1f5));if(_0x1b79f0)_0x1b79f0['textContent']='v'+_0x472de9;},window['performUpdate']=async()=>{const _0x41ad1e=a0_0x4db5b5,_0x4e8a18=document[_0x41ad1e(0x13c)](_0x41ad1e(0x160)),_0x22b89f=document[_0x41ad1e(0x13c)](_0x41ad1e(0x10f)),_0x2c810e=document['getElementById'](_0x41ad1e(0x182)),_0x47212c=document[_0x41ad1e(0x13c)](_0x41ad1e(0x19e));if(_0x47212c)_0x47212c['classList']['add'](_0x41ad1e(0x1a4));if(_0x4e8a18)_0x4e8a18['classList']['remove'](_0x41ad1e(0x1a4));const _0x55ad94=(_0x57e15c,_0x4b5fa8)=>{const _0x309706=_0x41ad1e;if(_0x22b89f)_0x22b89f[_0x309706(0x19f)][_0x309706(0xfa)]=_0x57e15c+'%';if(_0x2c810e)_0x2c810e[_0x309706(0x190)]=_0x4b5fa8;};try{_0x55ad94(0xa,_0x41ad1e(0x18b)),await new Promise(_0x2b46c5=>setTimeout(_0x2b46c5,0x258));window[_0x41ad1e(0x1eb)]&&localStorage[_0x41ad1e(0x196)](_0x41ad1e(0x157),window[_0x41ad1e(0x1eb)]);_0x55ad94(0x1e,_0x41ad1e(0x134)),await new Promise(_0x4b3cee=>setTimeout(_0x4b3cee,0x320));if(_0x41ad1e(0x145)in window){const _0x2202ce=await caches[_0x41ad1e(0x1a1)]();for(let _0x1476ad=0x0;_0x1476ad<_0x2202ce[_0x41ad1e(0x156)];_0x1476ad++){await caches[_0x41ad1e(0x137)](_0x2202ce[_0x1476ad]),_0x55ad94(0x1e+(_0x1476ad+0x1)/_0x2202ce[_0x41ad1e(0x156)]*0x1e,'DELETING:\x20'+_0x2202ce[_0x1476ad]);}}_0x55ad94(0x46,_0x41ad1e(0x116)),await new Promise(_0x2ac23d=>setTimeout(_0x2ac23d,0x258));if(_0x41ad1e(0xf9)in navigator){const _0x543f62=await navigator[_0x41ad1e(0xf9)][_0x41ad1e(0x10d)]();for(let _0x3917bf=0x0;_0x3917bf<_0x543f62['length'];_0x3917bf++){await _0x543f62[_0x3917bf][_0x41ad1e(0x1bc)](),_0x55ad94(0x46+(_0x3917bf+0x1)/_0x543f62[_0x41ad1e(0x156)]*0x14,'SYSTEM\x20DETACHED');}}_0x55ad94(0x64,_0x41ad1e(0x1cb)),await new Promise(_0x2c6722=>setTimeout(_0x2c6722,0x320)),window['location']['reload'](!![]);}catch(_0x3e54e3){console[_0x41ad1e(0x10c)](_0x41ad1e(0x186),_0x3e54e3),window[_0x41ad1e(0x183)]['reload'](!![]);}},window[a0_0x4db5b5(0x136)]=async()=>{const _0x46ce6f=a0_0x4db5b5;if(!navigator[_0x46ce6f(0x1a8)]){document[_0x46ce6f(0x13c)](_0x46ce6f(0x14e))['classList'][_0x46ce6f(0x127)](_0x46ce6f(0x1a4));return;}const _0x365882=document[_0x46ce6f(0x13c)](_0x46ce6f(0x18d));if(_0x365882)_0x365882['textContent']='CHECKING...';try{const _0x2053a8=await fetch(_0x46ce6f(0x18c)+Date[_0x46ce6f(0x1c5)]()),_0x568f32=await _0x2053a8[_0x46ce6f(0x104)](),_0x1d2331=localStorage['getItem']('app_version')||_0x46ce6f(0x1e3);if(_0x568f32['version']!==_0x1d2331){window[_0x46ce6f(0x1eb)]=_0x568f32[_0x46ce6f(0x138)];const _0x3ca692=document['getElementById']('update-modal');if(_0x3ca692)_0x3ca692[_0x46ce6f(0x109)][_0x46ce6f(0x127)](_0x46ce6f(0x1a4));if(_0x365882)_0x365882[_0x46ce6f(0x190)]='UPDATE\x20FOUND!';}else{if(_0x365882)_0x365882[_0x46ce6f(0x190)]=_0x46ce6f(0x142);setTimeout(()=>{const _0x38dd36=_0x46ce6f;if(_0x365882)_0x365882['textContent']=_0x38dd36(0x13a);},0x7d0);}}catch(_0x508c3f){console[_0x46ce6f(0x10c)](_0x46ce6f(0x1bf),_0x508c3f);if(_0x365882)_0x365882[_0x46ce6f(0x190)]=_0x46ce6f(0x121);setTimeout(()=>{const _0x291c2b=_0x46ce6f;if(_0x365882)_0x365882[_0x291c2b(0x190)]=_0x291c2b(0x13a);},0x7d0);}},window[a0_0x4db5b5(0x14f)]=()=>{const _0x125396=a0_0x4db5b5,_0x391dcc=window[_0x125396(0x183)][_0x125396(0x11d)]+window['location'][_0x125396(0x1ef)];if(navigator['share'])navigator[_0x125396(0x112)]({'title':_0x125396(0x1e2),'text':_0x125396(0x1d5),'url':_0x391dcc})[_0x125396(0x1de)](_0x392662=>console[_0x125396(0x1ab)](_0x125396(0x12c),_0x392662));else{const _0x2c5c9c=document[_0x125396(0x185)](_0x125396(0x162));_0x2c5c9c[_0x125396(0x1ea)]=_0x391dcc,document[_0x125396(0x1cf)]['appendChild'](_0x2c5c9c),_0x2c5c9c[_0x125396(0x114)](),document[_0x125396(0x176)]('copy'),document[_0x125396(0x1cf)][_0x125396(0x198)](_0x2c5c9c),showAlert(_0x125396(0x10e),_0x125396(0x123));}};function copyToClipboard(_0x16499b,_0x4b2ac3){const _0x322a19=a0_0x4db5b5;navigator[_0x322a19(0x1b2)][_0x322a19(0x14c)](_0x16499b)[_0x322a19(0x19a)](()=>console[_0x322a19(0x1ab)](_0x4b2ac3+_0x322a19(0x15e)));}let deferredPrompt;window[a0_0x4db5b5(0x120)](a0_0x4db5b5(0x17a),_0x235aed=>{const _0x486d9f=a0_0x4db5b5;_0x235aed[_0x486d9f(0xfc)](),deferredPrompt=_0x235aed;const _0x3e298f=document[_0x486d9f(0x13c)](_0x486d9f(0x16b));if(_0x3e298f)_0x3e298f[_0x486d9f(0x109)][_0x486d9f(0x127)](_0x486d9f(0x1a4));});const installBtn=document['getElementById'](a0_0x4db5b5(0x12d));installBtn&&installBtn[a0_0x4db5b5(0x120)]('click',async()=>{const _0xefd665=a0_0x4db5b5;if(!deferredPrompt)return;deferredPrompt[_0xefd665(0x161)]();const {outcome:_0x42f5b9}=await deferredPrompt[_0xefd665(0x20b)];console[_0xefd665(0x1ab)](_0xefd665(0x155)+_0x42f5b9),deferredPrompt=null;const _0x54c1c7=document['getElementById'](_0xefd665(0x16b));if(_0x54c1c7)_0x54c1c7[_0xefd665(0x109)][_0xefd665(0x150)]('hidden');});window['addEventListener'](a0_0x4db5b5(0x1b7),_0x3bd101=>{const _0x4b342=a0_0x4db5b5;console[_0x4b342(0x1ab)](_0x4b342(0x1f1)),deferredPrompt=null;const _0x22457a=document[_0x4b342(0x13c)](_0x4b342(0x16b));if(_0x22457a)_0x22457a['classList']['add'](_0x4b342(0x1a4));});