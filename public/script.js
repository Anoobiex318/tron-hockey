const a0_0x4f4c28=a0_0x60be;(function(_0x2c36b1,_0x23fc37){const _0x501327=a0_0x60be,_0xf0ad91=_0x2c36b1();while(!![]){try{const _0x59eec6=-parseInt(_0x501327(0x1f3))/0x1*(parseInt(_0x501327(0x223))/0x2)+-parseInt(_0x501327(0x20e))/0x3*(-parseInt(_0x501327(0x249))/0x4)+parseInt(_0x501327(0x25a))/0x5+parseInt(_0x501327(0x26f))/0x6*(-parseInt(_0x501327(0x22b))/0x7)+-parseInt(_0x501327(0x1c3))/0x8+parseInt(_0x501327(0x22d))/0x9+parseInt(_0x501327(0x242))/0xa;if(_0x59eec6===_0x23fc37)break;else _0xf0ad91['push'](_0xf0ad91['shift']());}catch(_0x2a4b52){_0xf0ad91['push'](_0xf0ad91['shift']());}}}(a0_0x244b,0x7eac4));function a0_0x244b(){const _0x335535=['...','game-ui','stop','destroy','type','remove','get','AudioContext','closeLobby','pause-title','Connected!','maxSpeed','3046vStEPs','off','square','#2a4d53','currentTime','addEventListener','sqrt','pointermove','5090519PBDltu','?game=','2797128QJRcwv','speed','classList','online_host','innerHeight','left','textContent','#fff','game-container','height','togglePause','Connection\x20Lost','connect-id-input','wall','getBoundingClientRect','toString','fillStyle','peer-id-input','querySelectorAll','documentElement','none','5499720VthSxp','resize','\x20\x20-\x20\x20','game=','miterLimit','input','#555','4pAFgwS','bottom','cpu-menu','copyPeerId','shadowColor','prevY','error','trim','Host\x20not\x20found!\x20Make\x20sure\x20the\x20Host\x20is\x20online\x20and\x20the\x20ID\x20is\x20correct.','game-over-modal','active','puckMaxSpeedMultiplier','max','getItem','flipped','Ignoring\x20join\x20parameter\x20(Self\x20ID)','scorer','4726845KzYYHe','strokeStyle','sin','hit','event','tron_hockey_peer_id','game-over-score','style','lobby-modal','returnToMenu','textAlign','Link\x20Copied!','Host\x20invalid\x20or\x20offline','createOscillator','open','900\x20','resume-btn','showMainMenu','arc','moveTo','cpu','6WrMpjN','getElementById','push','unavailable-id','warn','Connection\x20Error:','atan2','location','lineJoin','insane','prevX','YOU\x20LOSE','reload','exponentialRampToValueAtTime','#ff3366','wallBounce','lineWidth','clientX','main-menu','destination','field','openLobby','start','shadowBlur','paused','textBaseline','online_client','game','top','gain','#ffffff','p1Won','strokeText','gameCanvas','writeText','getContext','local','3177376jhqYnw','width','pathname','state','color','requestFullscreen','right','difficulty','medium','clearRect','filter','send','connectToPeer','puck','lineTo','winningScore','abs','decay','origin','difficult','length','connection-status','cos','suspended','resume','add','clientY','block','connection','data','globalAlpha','mode','http','beginPath','scores','running','setValueAtTime','Error\x20parsing\x20ID','Saved\x20ID\x20is\x20unavailable,\x20generating\x20new\x20one...','value','fill','startGame','difficulty-select','clientHeight','Initializing...','game-over-title','rgba(0,\x20255,\x20255,\x200.3)','stroke','449ioSIvb','.diff-btn','clientWidth','min','#ffcc00','hidden','rgba(0,\x20255,\x20255,\x200.1)','display','random','game_over','life','includes','pause-modal','mode-menu','log','setItem','#0ff','Ready\x20to\x20Connect','paddleRadiusRatio','split','#0f0','lobby-status','frequency','connect','selectDiff','preventDefault','close','1562805cfJjlo','radius','particles','touches','forEach','score','tron_hockey_wins','Rejected\x20extra\x20connection','toggleFlip'];a0_0x244b=function(){return _0x335535;};return a0_0x244b();}const canvas=document[a0_0x4f4c28(0x270)](a0_0x4f4c28(0x1bf)),ctx=canvas[a0_0x4f4c28(0x1c1)]('2d'),state={'running':![],'paused':![],'mode':a0_0x4f4c28(0x26e),'difficulty':'medium','p1':{'score':0x0,'x':0x0,'y':0x0,'prevX':0x0,'prevY':0x0,'vx':0x0,'vy':0x0,'radius':0x0,'color':a0_0x4f4c28(0x1bc)},'p2':{'score':0x0,'x':0x0,'y':0x0,'prevX':0x0,'prevY':0x0,'vx':0x0,'vy':0x0,'radius':0x0,'color':'#ffcc00'},'puck':{'x':0x0,'y':0x0,'vx':0x0,'vy':0x0,'radius':0x0,'speed':0x0,'maxSpeed':0x0},'field':{'width':0x0,'height':0x0},'particles':[]},CONFIG={'friction':0.992,'wallBounce':0.9,'puckMaxSpeedMultiplier':0.04,'paddleRadiusRatio':0.08,'puckRadiusRatio':0.04,'winningScore':0x7},DIFFICULTIES={'medium':{'speed':0.09,'reaction':0.1,'error':0x1e},'difficult':{'speed':0.15,'reaction':0.05,'error':0xa},'insane':{'speed':0.35,'reaction':0.01,'error':0x0}},AudioContext=window[a0_0x4f4c28(0x21e)]||window['webkitAudioContext'],audioCtx=new AudioContext();function playSound(_0x381798){const _0x2b7576=a0_0x4f4c28;if(audioCtx['state']===_0x2b7576(0x1da))audioCtx[_0x2b7576(0x1db)]();const _0x306d54=audioCtx[_0x2b7576(0x267)](),_0x16fc57=audioCtx['createGain']();_0x306d54[_0x2b7576(0x20a)](_0x16fc57),_0x16fc57[_0x2b7576(0x20a)](audioCtx[_0x2b7576(0x282)]);const _0x301158=audioCtx[_0x2b7576(0x227)];if(_0x381798===_0x2b7576(0x25d))_0x306d54[_0x2b7576(0x209)][_0x2b7576(0x1e7)](0x190,_0x301158),_0x306d54[_0x2b7576(0x209)][_0x2b7576(0x27c)](0x64,_0x301158+0.1),_0x16fc57[_0x2b7576(0x1bb)][_0x2b7576(0x1e7)](0.3,_0x301158),_0x16fc57[_0x2b7576(0x1bb)][_0x2b7576(0x27c)](0.01,_0x301158+0.1),_0x306d54[_0x2b7576(0x285)](_0x301158),_0x306d54[_0x2b7576(0x219)](_0x301158+0.1);else{if(_0x381798===_0x2b7576(0x23a))_0x306d54[_0x2b7576(0x209)][_0x2b7576(0x1e7)](0xc8,_0x301158),_0x306d54[_0x2b7576(0x209)]['exponentialRampToValueAtTime'](0x32,_0x301158+0.1),_0x16fc57['gain'][_0x2b7576(0x1e7)](0.2,_0x301158),_0x16fc57[_0x2b7576(0x1bb)][_0x2b7576(0x27c)](0.01,_0x301158+0.1),_0x306d54[_0x2b7576(0x285)](_0x301158),_0x306d54[_0x2b7576(0x219)](_0x301158+0.1);else _0x381798==='score'&&(_0x306d54[_0x2b7576(0x21b)]=_0x2b7576(0x225),_0x306d54[_0x2b7576(0x209)][_0x2b7576(0x1e7)](0x258,_0x301158),_0x306d54[_0x2b7576(0x209)][_0x2b7576(0x1e7)](0x320,_0x301158+0.1),_0x306d54[_0x2b7576(0x209)][_0x2b7576(0x1e7)](0x190,_0x301158+0.2),_0x16fc57[_0x2b7576(0x1bb)][_0x2b7576(0x1e7)](0.3,_0x301158),_0x16fc57[_0x2b7576(0x1bb)]['exponentialRampToValueAtTime'](0.01,_0x301158+0.6),_0x306d54[_0x2b7576(0x285)](_0x301158),_0x306d54[_0x2b7576(0x219)](_0x301158+0.6));}}function resize(){const _0x34fa87=a0_0x4f4c28,_0x10b8c5=document['getElementById'](_0x34fa87(0x235));canvas[_0x34fa87(0x1c4)]=_0x10b8c5[_0x34fa87(0x1f5)]||window['innerWidth'],canvas[_0x34fa87(0x236)]=_0x10b8c5[_0x34fa87(0x1ee)]||window[_0x34fa87(0x231)],state['field']['width']=canvas['width'],state[_0x34fa87(0x283)][_0x34fa87(0x236)]=canvas[_0x34fa87(0x236)];const _0x534e8e=Math[_0x34fa87(0x1f6)](canvas[_0x34fa87(0x1c4)],canvas['height']);state['p1'][_0x34fa87(0x20f)]=_0x534e8e*CONFIG[_0x34fa87(0x205)],state['p2'][_0x34fa87(0x20f)]=_0x534e8e*CONFIG[_0x34fa87(0x205)],state['puck'][_0x34fa87(0x20f)]=_0x534e8e*CONFIG['puckRadiusRatio'],state[_0x34fa87(0x1d0)][_0x34fa87(0x222)]=canvas['height']*CONFIG[_0x34fa87(0x254)];if(!state[_0x34fa87(0x1e6)])resetPositions();}function resetPositions(){const _0x1041f7=a0_0x4f4c28;state['puck']['x']=state['field'][_0x1041f7(0x1c4)]/0x2,state[_0x1041f7(0x1d0)]['y']=state[_0x1041f7(0x283)][_0x1041f7(0x236)]/0x2,state['puck']['vx']=0x0,state[_0x1041f7(0x1d0)]['vy']=0x0,state['p1']['x']=state[_0x1041f7(0x283)][_0x1041f7(0x1c4)]/0x2,state['p1']['y']=state[_0x1041f7(0x283)][_0x1041f7(0x236)]-state[_0x1041f7(0x283)][_0x1041f7(0x236)]*0.15,state['p1'][_0x1041f7(0x279)]=state['p1']['x'],state['p1'][_0x1041f7(0x24e)]=state['p1']['y'],state['p2']['x']=state[_0x1041f7(0x283)][_0x1041f7(0x1c4)]/0x2,state['p2']['y']=state['field'][_0x1041f7(0x236)]*0.15,state['p2'][_0x1041f7(0x279)]=state['p2']['x'],state['p2'][_0x1041f7(0x24e)]=state['p2']['y'];}function spawnParticles(_0x3cc0af,_0xb3f23,_0x395834){const _0x503841=a0_0x4f4c28;for(let _0x2fd918=0x0;_0x2fd918<0x28;_0x2fd918++){const _0x552f52=Math[_0x503841(0x1fb)]()*0xf+0x5,_0x4fd1fc=Math[_0x503841(0x1fb)]()*Math['PI']*0x2;state[_0x503841(0x210)][_0x503841(0x271)]({'x':_0x3cc0af,'y':_0xb3f23,'vx':Math['cos'](_0x4fd1fc)*_0x552f52,'vy':Math[_0x503841(0x25c)](_0x4fd1fc)*_0x552f52,'life':0x1,'decay':Math[_0x503841(0x1fb)]()*0.03+0.01,'color':_0x395834});}for(let _0xf8f972=0x0;_0xf8f972<0x14;_0xf8f972++){const _0x4d814b=Math['PI']*0x2*_0xf8f972/0x14;state[_0x503841(0x210)][_0x503841(0x271)]({'x':_0x3cc0af,'y':_0xb3f23,'vx':Math[_0x503841(0x1d9)](_0x4d814b)*0xa,'vy':Math[_0x503841(0x25c)](_0x4d814b)*0xa,'life':0x1,'decay':0.05,'color':_0x503841(0x234)});}}function predictPuckX(_0x5554ce,_0x29aa45,_0x2e12b9){if(_0x5554ce['vy']===0x0)return _0x5554ce['x'];const _0x2c1236=(_0x29aa45-_0x5554ce['y'])/_0x5554ce['vy'];if(_0x2c1236<0x0)return _0x2e12b9/0x2;let _0x1e8f37=_0x5554ce['x']+_0x5554ce['vx']*_0x2c1236;const _0x7c2e84=_0x2e12b9;while(_0x1e8f37<0x0||_0x1e8f37>_0x7c2e84){if(_0x1e8f37<0x0)_0x1e8f37=-_0x1e8f37;else _0x1e8f37>_0x7c2e84&&(_0x1e8f37=0x2*_0x7c2e84-_0x1e8f37);}return _0x1e8f37;}function a0_0x60be(_0xe412e,_0x53e59e){_0xe412e=_0xe412e-0x1bb;const _0x244b7d=a0_0x244b();let _0x60becf=_0x244b7d[_0xe412e];return _0x60becf;}let peer=null,conn=null,myPeerId=null,isHost=![];function initPeer(){const _0x3dc92b=a0_0x4f4c28;if(peer)return;document[_0x3dc92b(0x270)](_0x3dc92b(0x208))[_0x3dc92b(0x233)]=_0x3dc92b(0x1ef);let _0x37e94d=localStorage[_0x3dc92b(0x256)](_0x3dc92b(0x25f));setupPeer(_0x37e94d);}function setupPeer(_0x1dd221=null){const _0x215613=a0_0x4f4c28;if(peer)peer[_0x215613(0x21a)]();const _0x2a50f7={'debug':0x1};peer=_0x1dd221?new Peer(_0x1dd221,_0x2a50f7):new Peer(null,_0x2a50f7),peer['on'](_0x215613(0x268),_0x1a9f3e=>{const _0x36cc15=_0x215613;myPeerId=_0x1a9f3e,localStorage[_0x36cc15(0x202)]('tron_hockey_peer_id',_0x1a9f3e);const _0x1879d4=document['getElementById'](_0x36cc15(0x23e));if(_0x1879d4)_0x1879d4['value']=_0x1a9f3e;const _0x5be5b1=document[_0x36cc15(0x270)]('lobby-status');if(_0x5be5b1)_0x5be5b1[_0x36cc15(0x233)]=_0x36cc15(0x204);const _0x5eaf3c=new URLSearchParams(window['location']['search']);let _0x129b6d=_0x5eaf3c[_0x36cc15(0x21d)](_0x36cc15(0x28a));if(_0x129b6d&&!state[_0x36cc15(0x1e6)]){if(_0x129b6d===myPeerId){console['log'](_0x36cc15(0x258));return;}_0x129b6d[_0x36cc15(0x1fe)](_0x36cc15(0x245))&&(_0x129b6d=_0x129b6d['split'](_0x36cc15(0x245))[0x1][_0x36cc15(0x206)]('&')[0x0]),openLobby(),document['getElementById'](_0x36cc15(0x239))[_0x36cc15(0x1ea)]=_0x129b6d,setTimeout(connectToPeer,0x1f4);}}),peer['on']('error',_0x1eaa5b=>{const _0x27aeee=_0x215613;if(_0x1eaa5b[_0x27aeee(0x21b)]===_0x27aeee(0x272)){console[_0x27aeee(0x273)](_0x27aeee(0x1e9)),setupPeer(null);return;}if(_0x1eaa5b[_0x27aeee(0x21b)]==='peer-unavailable'){alert(_0x27aeee(0x251)),document[_0x27aeee(0x270)](_0x27aeee(0x1d8))[_0x27aeee(0x233)]=_0x27aeee(0x266);if(conn)conn['close']();return;}const _0x370043=document['getElementById'](_0x27aeee(0x1d8));if(_0x370043)_0x370043[_0x27aeee(0x233)]='Error:\x20'+_0x1eaa5b[_0x27aeee(0x21b)];console[_0x27aeee(0x24f)]('PeerJS\x20Error:',_0x1eaa5b);}),peer['on'](_0x215613(0x1df),_0x32f2d9=>{const _0x273940=_0x215613;if(conn&&conn[_0x273940(0x268)]){_0x32f2d9['close'](),console[_0x273940(0x201)](_0x273940(0x215));return;}if(conn)conn[_0x273940(0x20d)]();conn=_0x32f2d9,isHost=!![],setupConnection();});}function setupConnection(){const _0x383017=a0_0x4f4c28;conn[_0x383017(0x224)](_0x383017(0x268)),conn[_0x383017(0x224)](_0x383017(0x1e0)),conn['off']('close'),conn['on'](_0x383017(0x268),()=>{const _0x4eff47=_0x383017;document['getElementById']('connection-status')[_0x4eff47(0x233)]=_0x4eff47(0x221),document[_0x4eff47(0x270)](_0x4eff47(0x1d8))[_0x4eff47(0x261)][_0x4eff47(0x1c7)]=_0x4eff47(0x207),setTimeout(()=>{const _0x409813=_0x4eff47;document[_0x409813(0x270)](_0x409813(0x262))[_0x409813(0x22f)][_0x409813(0x1dc)](_0x409813(0x1f8)),startGame(isHost?_0x409813(0x230):_0x409813(0x289));},0x3e8);}),conn['on'](_0x383017(0x1e0),_0x4085ef=>{handleData(_0x4085ef);}),conn['on'](_0x383017(0x20d),()=>{const _0x22ce11=_0x383017;stopGame();const _0x5f0385=document[_0x22ce11(0x270)](_0x22ce11(0x1ff)),_0x481467=document[_0x22ce11(0x270)](_0x22ce11(0x220)),_0x36429f=document['getElementById']('resume-btn');_0x5f0385&&_0x481467&&_0x36429f?(_0x481467[_0x22ce11(0x233)]=_0x22ce11(0x238),_0x36429f[_0x22ce11(0x261)][_0x22ce11(0x1fa)]=_0x22ce11(0x241),_0x5f0385['classList'][_0x22ce11(0x21c)](_0x22ce11(0x1f8))):(alert(_0x22ce11(0x238)),location[_0x22ce11(0x27b)]());}),conn['on'](_0x383017(0x24f),_0x12f45c=>{const _0x5d6483=_0x383017;console['error'](_0x5d6483(0x274),_0x12f45c);});}function handleData(_0x96c728){const _0x42a6ca=a0_0x4f4c28;if(state[_0x42a6ca(0x1e2)]===_0x42a6ca(0x230))_0x96c728[_0x42a6ca(0x21b)]===_0x42a6ca(0x247)&&(_0x96c728['y']<state[_0x42a6ca(0x283)][_0x42a6ca(0x236)]/0x2&&(state['p2']['x']=_0x96c728['x'],state['p2']['y']=_0x96c728['y']));else{if(state[_0x42a6ca(0x1e2)]===_0x42a6ca(0x289)){if(_0x96c728[_0x42a6ca(0x21b)]===_0x42a6ca(0x1c6)){state['p1']['x']=_0x96c728['p1']['x'],state['p1']['y']=_0x96c728['p1']['y'],state['p2']['x']=_0x96c728['p2']['x'],state['p2']['y']=_0x96c728['p2']['y'],state['p1'][_0x42a6ca(0x213)]=_0x96c728[_0x42a6ca(0x1e5)]['p1'],state['p2'][_0x42a6ca(0x213)]=_0x96c728[_0x42a6ca(0x1e5)]['p2'],state[_0x42a6ca(0x1d0)]['x']=_0x96c728[_0x42a6ca(0x1d0)]['x'],state[_0x42a6ca(0x1d0)]['y']=_0x96c728['puck']['y'],state[_0x42a6ca(0x1d0)]['vx']=_0x96c728[_0x42a6ca(0x1d0)]['vx'],state[_0x42a6ca(0x1d0)]['vy']=_0x96c728[_0x42a6ca(0x1d0)]['vy'];if(_0x96c728[_0x42a6ca(0x25e)]){if(_0x96c728[_0x42a6ca(0x25e)]==='score')handleGoal(_0x96c728[_0x42a6ca(0x259)],!![]);else{if(_0x96c728[_0x42a6ca(0x25e)]===_0x42a6ca(0x25d))playSound(_0x42a6ca(0x25d));else _0x96c728[_0x42a6ca(0x25e)]===_0x42a6ca(0x23a)&&playSound(_0x42a6ca(0x23a));}}}_0x96c728[_0x42a6ca(0x21b)]===_0x42a6ca(0x1fc)&&endGame(_0x96c728[_0x42a6ca(0x1bd)]);}}}window[a0_0x4f4c28(0x284)]=()=>{const _0x5dabc3=a0_0x4f4c28;document[_0x5dabc3(0x270)](_0x5dabc3(0x281))[_0x5dabc3(0x22f)]['add'](_0x5dabc3(0x1f8)),document[_0x5dabc3(0x270)](_0x5dabc3(0x262))[_0x5dabc3(0x22f)][_0x5dabc3(0x21c)]('hidden'),initPeer();},window[a0_0x4f4c28(0x21f)]=()=>{const _0x32bf2d=a0_0x4f4c28;document['getElementById'](_0x32bf2d(0x262))[_0x32bf2d(0x22f)][_0x32bf2d(0x1dc)](_0x32bf2d(0x1f8)),document[_0x32bf2d(0x270)](_0x32bf2d(0x281))[_0x32bf2d(0x22f)]['remove'](_0x32bf2d(0x1f8));},window['showCpuMenu']=()=>{const _0x377472=a0_0x4f4c28;document['getElementById']('mode-menu')[_0x377472(0x22f)][_0x377472(0x1dc)](_0x377472(0x1f8)),document['getElementById'](_0x377472(0x24b))['classList'][_0x377472(0x21c)]('hidden');},window[a0_0x4f4c28(0x26b)]=()=>{const _0x2d304c=a0_0x4f4c28;document[_0x2d304c(0x270)](_0x2d304c(0x24b))['classList'][_0x2d304c(0x1dc)](_0x2d304c(0x1f8)),document[_0x2d304c(0x270)](_0x2d304c(0x200))['classList']['remove'](_0x2d304c(0x1f8));},window[a0_0x4f4c28(0x24c)]=()=>{const _0x490087=a0_0x4f4c28,_0x436425=document[_0x490087(0x270)](_0x490087(0x23e))[_0x490087(0x1ea)],_0x3d68dc=window[_0x490087(0x276)][_0x490087(0x1d5)]+window[_0x490087(0x276)][_0x490087(0x1c5)]+_0x490087(0x22c)+_0x436425;navigator['clipboard'][_0x490087(0x1c0)](_0x3d68dc)['then'](()=>{const _0x30d457=_0x490087;document[_0x30d457(0x270)]('lobby-status')[_0x30d457(0x233)]=_0x30d457(0x265),setTimeout(()=>document['getElementById'](_0x30d457(0x208))[_0x30d457(0x233)]=_0x30d457(0x204),0x7d0);});},window[a0_0x4f4c28(0x1cf)]=()=>{const _0x5f4278=a0_0x4f4c28;let _0x358c31=document['getElementById'](_0x5f4278(0x239))['value'][_0x5f4278(0x250)]();if(!_0x358c31)return;if(_0x358c31['includes'](_0x5f4278(0x1e3))||_0x358c31[_0x5f4278(0x1fe)](_0x5f4278(0x245)))try{_0x358c31['includes'](_0x5f4278(0x245))&&(_0x358c31=_0x358c31['split'](_0x5f4278(0x245))[0x1][_0x5f4278(0x206)]('&')[0x0]);}catch(_0x43517d){console[_0x5f4278(0x201)](_0x5f4278(0x1e8),_0x43517d);}conn&&conn[_0x5f4278(0x20d)](),document[_0x5f4278(0x270)](_0x5f4278(0x1d8))[_0x5f4278(0x233)]='Connecting\x20to\x20'+_0x358c31+_0x5f4278(0x217),conn=peer[_0x5f4278(0x20a)](_0x358c31),isHost=![],setupConnection();};function update(){const _0x178168=a0_0x4f4c28;state['p1']['vx']=state['p1']['x']-state['p1'][_0x178168(0x279)],state['p1']['vy']=state['p1']['y']-state['p1']['prevY'],state['p1'][_0x178168(0x279)]=state['p1']['x'],state['p1'][_0x178168(0x24e)]=state['p1']['y'],state['p2']['vx']=state['p2']['x']-state['p2'][_0x178168(0x279)],state['p2']['vy']=state['p2']['y']-state['p2'][_0x178168(0x24e)],state['p2'][_0x178168(0x279)]=state['p2']['x'],state['p2'][_0x178168(0x24e)]=state['p2']['y'];if(!state[_0x178168(0x1e6)]||state[_0x178168(0x287)])return;if(state[_0x178168(0x1e2)]===_0x178168(0x289)){conn&&conn['open']&&conn['send']({'type':_0x178168(0x247),'x':state['p2']['x'],'y':state['p2']['y']});state[_0x178168(0x210)][_0x178168(0x212)](_0x40332d=>{const _0x18c7dc=_0x178168;_0x40332d['x']+=_0x40332d['vx'],_0x40332d['y']+=_0x40332d['vy'],_0x40332d[_0x18c7dc(0x1fd)]-=_0x40332d[_0x18c7dc(0x1d4)];}),state[_0x178168(0x210)]=state['particles']['filter'](_0xd7100b=>_0xd7100b[_0x178168(0x1fd)]>0x0);return;}if(state[_0x178168(0x1e2)]===_0x178168(0x26e)){const _0x4c7894=DIFFICULTIES[state[_0x178168(0x1ca)]]||DIFFICULTIES[_0x178168(0x1cb)];let _0x27e4c4=state['puck']['x'],_0x382b45=state[_0x178168(0x283)][_0x178168(0x236)]*0.12;state['puck']['vy']<0x0?_0x27e4c4=predictPuckX(state[_0x178168(0x1d0)],_0x382b45,state[_0x178168(0x283)][_0x178168(0x1c4)]):_0x27e4c4=state['field'][_0x178168(0x1c4)]/0x2;let _0x1b5ef2=![];if(state[_0x178168(0x1ca)]===_0x178168(0x278)){if(state[_0x178168(0x1d0)]['y']<state['field'][_0x178168(0x236)]*0.45&&state['puck']['y']>state['p2']['y'])_0x1b5ef2=!![],_0x27e4c4=state[_0x178168(0x1d0)]['x'],_0x382b45=state[_0x178168(0x1d0)]['y'];else state['puck']['vy']>0x0&&state['puck']['y']<state['field']['height']*0.3&&(_0x1b5ef2=!![],_0x27e4c4=state[_0x178168(0x1d0)]['x'],_0x382b45=state[_0x178168(0x1d0)]['y']);}else state[_0x178168(0x1ca)]==='difficult'?state[_0x178168(0x1d0)]['y']<state[_0x178168(0x283)]['height']*0.4&&state[_0x178168(0x1d0)]['vy']<0x0&&(_0x1b5ef2=!![],_0x27e4c4=state['puck']['x'],_0x382b45=state[_0x178168(0x1d0)]['y']-0x14):state[_0x178168(0x1d0)]['y']<state[_0x178168(0x283)][_0x178168(0x236)]*0.25&&state[_0x178168(0x1d0)]['vy']<0x0&&(_0x1b5ef2=!![],_0x382b45=state['puck']['y']-0xa);if(!_0x1b5ef2){if(state[_0x178168(0x1ca)]===_0x178168(0x1d6))_0x27e4c4+=(Math['random']()-0.5)*_0x4c7894[_0x178168(0x24f)];if(state[_0x178168(0x1ca)]==='medium')_0x27e4c4+=(Math[_0x178168(0x1fb)]()-0.5)*_0x4c7894[_0x178168(0x24f)];}const _0x959d3d=_0x27e4c4-state['p2']['x'],_0x5d2495=_0x382b45-state['p2']['y'];let _0x349f91=_0x4c7894[_0x178168(0x22e)];if(_0x1b5ef2)_0x349f91*=1.5;state['p2']['x']+=_0x959d3d*_0x349f91,state['p2']['y']+=_0x5d2495*_0x349f91;}state[_0x178168(0x1d0)]['x']+=state[_0x178168(0x1d0)]['vx'],state[_0x178168(0x1d0)]['y']+=state[_0x178168(0x1d0)]['vy'],state[_0x178168(0x1d0)]['vx']*=CONFIG['friction'],state['puck']['vy']*=CONFIG['friction'];if(Math[_0x178168(0x1d3)](state[_0x178168(0x1d0)]['vx'])<0.05)state[_0x178168(0x1d0)]['vx']=0x0;if(Math[_0x178168(0x1d3)](state[_0x178168(0x1d0)]['vy'])<0.05)state['puck']['vy']=0x0;let _0x6db4d3=![];state[_0x178168(0x1d0)]['x']-state[_0x178168(0x1d0)]['radius']<0x0&&(state[_0x178168(0x1d0)]['x']=state[_0x178168(0x1d0)][_0x178168(0x20f)],state[_0x178168(0x1d0)]['vx']*=-0x1*CONFIG[_0x178168(0x27e)],_0x6db4d3=!![]);state[_0x178168(0x1d0)]['x']+state[_0x178168(0x1d0)]['radius']>state[_0x178168(0x283)][_0x178168(0x1c4)]&&(state['puck']['x']=state[_0x178168(0x283)][_0x178168(0x1c4)]-state[_0x178168(0x1d0)]['radius'],state['puck']['vx']*=-0x1*CONFIG[_0x178168(0x27e)],_0x6db4d3=!![]);if(_0x6db4d3){playSound(_0x178168(0x23a));if(state[_0x178168(0x1e2)]===_0x178168(0x230))broadcast({'type':'state','event':_0x178168(0x23a)});}const _0x445b3d=state[_0x178168(0x283)]['width']*0.3,_0x1bc62a=state[_0x178168(0x283)][_0x178168(0x1c4)]/0x2;if(state[_0x178168(0x1d0)]['y']<0x0){handleGoal(0x1);return;}const _0x5e381e=Math['hypot'](state[_0x178168(0x1d0)]['x']-_0x1bc62a,state[_0x178168(0x1d0)]['y']-0x0);if(state[_0x178168(0x1d0)]['y']<_0x445b3d&&_0x5e381e<_0x445b3d){}if(state[_0x178168(0x1d0)]['y']>state[_0x178168(0x283)][_0x178168(0x236)]){handleGoal(0x2);return;}checkPaddleCollision(state['p1']),checkPaddleCollision(state['p2']),state[_0x178168(0x210)]['forEach'](_0x17053e=>{const _0x472855=_0x178168;_0x17053e['x']+=_0x17053e['vx'],_0x17053e['y']+=_0x17053e['vy'],_0x17053e[_0x472855(0x1fd)]-=_0x17053e[_0x472855(0x1d4)];}),state['particles']=state[_0x178168(0x210)][_0x178168(0x1cd)](_0x316728=>_0x316728[_0x178168(0x1fd)]>0x0),state['mode']===_0x178168(0x230)&&conn&&conn['open']&&conn[_0x178168(0x1ce)]({'type':_0x178168(0x1c6),'p1':{'x':state['p1']['x'],'y':state['p1']['y']},'p2':{'x':state['p2']['x'],'y':state['p2']['y']},'puck':{'x':state['puck']['x'],'y':state[_0x178168(0x1d0)]['y'],'vx':state['puck']['vx'],'vy':state[_0x178168(0x1d0)]['vy']},'scores':{'p1':state['p1'][_0x178168(0x213)],'p2':state['p2']['score']}});}function handleGoal(_0x25db92,_0x5bcbe8=![]){const _0x414f82=a0_0x4f4c28;if(_0x5bcbe8){playSound('score');if(_0x25db92===0x1)spawnParticles(state[_0x414f82(0x1d0)]['x'],0x0,state['p1'][_0x414f82(0x1c7)]);else spawnParticles(state[_0x414f82(0x1d0)]['x'],state[_0x414f82(0x283)]['height'],state['p2'][_0x414f82(0x1c7)]);return;}playSound(_0x414f82(0x213)),state[_0x414f82(0x1d0)]['vx']=0x0,state[_0x414f82(0x1d0)]['vy']=0x0;_0x25db92===0x1?(state['p1']['score']++,spawnParticles(state[_0x414f82(0x1d0)]['x'],0x0,state['p1'][_0x414f82(0x1c7)])):(state['p2'][_0x414f82(0x213)]++,spawnParticles(state[_0x414f82(0x1d0)]['x'],state[_0x414f82(0x283)]['height'],state['p2'][_0x414f82(0x1c7)]));if(state[_0x414f82(0x1e2)]===_0x414f82(0x230))broadcast({'type':'state','event':_0x414f82(0x213),'scorer':_0x25db92});state['p1'][_0x414f82(0x213)]>=CONFIG['winningScore']||state['p2']['score']>=CONFIG[_0x414f82(0x1d2)]?endGame(_0x25db92===0x1):resetPositions();}function broadcast(_0x33a8e0){const _0x37cfff=a0_0x4f4c28;conn&&conn[_0x37cfff(0x268)]&&conn[_0x37cfff(0x1ce)]({..._0x33a8e0,'p1':{'x':state['p1']['x'],'y':state['p1']['y']},'p2':{'x':state['p2']['x'],'y':state['p2']['y']},'puck':{'x':state['puck']['x'],'y':state[_0x37cfff(0x1d0)]['y'],'vx':state[_0x37cfff(0x1d0)]['vx'],'vy':state[_0x37cfff(0x1d0)]['vy']},'scores':{'p1':state['p1'][_0x37cfff(0x213)],'p2':state['p2'][_0x37cfff(0x213)]}});}function stopGame(){const _0x18349e=a0_0x4f4c28;state['running']=![],state[_0x18349e(0x287)]=![],document[_0x18349e(0x270)](_0x18349e(0x281))['classList'][_0x18349e(0x21c)](_0x18349e(0x1f8)),document['getElementById'](_0x18349e(0x218))['classList'][_0x18349e(0x1dc)](_0x18349e(0x1f8)),document[_0x18349e(0x270)](_0x18349e(0x1ff))['classList'][_0x18349e(0x1dc)](_0x18349e(0x1f8)),showMainMenu();}function endGame(_0x1bb3ad){const _0x124ab0=a0_0x4f4c28;state[_0x124ab0(0x1e6)]=![];state[_0x124ab0(0x1e2)]===_0x124ab0(0x230)&&broadcast({'type':'game_over','p1Won':_0x1bb3ad});const _0x222b34=document[_0x124ab0(0x270)](_0x124ab0(0x252)),_0x2151a4=document['getElementById'](_0x124ab0(0x1f0)),_0x5a819a=document['getElementById'](_0x124ab0(0x260)),_0x108ce6=state[_0x124ab0(0x1e2)]!==_0x124ab0(0x289),_0x1cb07a=_0x108ce6?_0x1bb3ad:!_0x1bb3ad;_0x2151a4['textContent']=_0x1cb07a?'YOU\x20WIN':_0x124ab0(0x27a),_0x2151a4[_0x124ab0(0x261)]['color']=_0x1cb07a?'#0ff':_0x124ab0(0x27d),_0x5a819a['textContent']=state['p1'][_0x124ab0(0x213)]+_0x124ab0(0x244)+state['p2']['score'];if(_0x1cb07a){let _0x3628d5=parseInt(localStorage[_0x124ab0(0x256)](_0x124ab0(0x214))||'0');_0x3628d5++,localStorage[_0x124ab0(0x202)](_0x124ab0(0x214),_0x3628d5),updateHighScoreDisplay();}_0x222b34[_0x124ab0(0x22f)]['remove'](_0x124ab0(0x1f8)),document[_0x124ab0(0x270)](_0x124ab0(0x218))[_0x124ab0(0x22f)]['add']('hidden');}window[a0_0x4f4c28(0x263)]=()=>{const _0x445a28=a0_0x4f4c28;document['getElementById']('game-over-modal')[_0x445a28(0x22f)][_0x445a28(0x1dc)](_0x445a28(0x1f8)),document[_0x445a28(0x270)]('main-menu')['classList'][_0x445a28(0x21c)]('hidden');},window[a0_0x4f4c28(0x237)]=()=>{const _0x3f4236=a0_0x4f4c28;state['paused']=!state['paused'];const _0x6c8b33=document[_0x3f4236(0x270)](_0x3f4236(0x1ff)),_0x25d9a7=document[_0x3f4236(0x270)](_0x3f4236(0x220)),_0x5dd544=document[_0x3f4236(0x270)](_0x3f4236(0x26a));if(state[_0x3f4236(0x287)]){if(_0x25d9a7)_0x25d9a7[_0x3f4236(0x233)]='PAUSED';if(_0x5dd544)_0x5dd544['style'][_0x3f4236(0x1fa)]=_0x3f4236(0x1de);_0x6c8b33['classList']['remove']('hidden');}else _0x6c8b33[_0x3f4236(0x22f)]['add'](_0x3f4236(0x1f8));},window['restartGame']=()=>{const _0x15d38a=a0_0x4f4c28;document['getElementById'](_0x15d38a(0x252))[_0x15d38a(0x22f)][_0x15d38a(0x1dc)](_0x15d38a(0x1f8)),startGame(state[_0x15d38a(0x1e2)]);};function updateHighScoreDisplay(){const _0x4c3073=a0_0x4f4c28,_0x446d70=localStorage['getItem']('tron_hockey_wins')||'0',_0x17d8a3=document[_0x4c3073(0x270)]('highscore-display');if(_0x17d8a3)_0x17d8a3[_0x4c3073(0x233)]='WINS:\x20'+_0x446d70;}function checkPaddleCollision(_0x11ea83){const _0x56409e=a0_0x4f4c28,_0x2595d3=state[_0x56409e(0x1d0)]['x']-_0x11ea83['x'],_0x20abbc=state[_0x56409e(0x1d0)]['y']-_0x11ea83['y'],_0x2e228a=Math[_0x56409e(0x229)](_0x2595d3*_0x2595d3+_0x20abbc*_0x20abbc),_0x8a2239=state[_0x56409e(0x1d0)][_0x56409e(0x20f)]+_0x11ea83[_0x56409e(0x20f)];if(_0x2e228a<_0x8a2239){const _0x3c9f33=Math[_0x56409e(0x275)](_0x20abbc,_0x2595d3),_0x22a9d5=_0x8a2239-_0x2e228a;state['puck']['x']+=Math[_0x56409e(0x1d9)](_0x3c9f33)*_0x22a9d5,state[_0x56409e(0x1d0)]['y']+=Math['sin'](_0x3c9f33)*_0x22a9d5;const _0xfe55ce=Math['cos'](_0x3c9f33),_0x4fac1f=Math[_0x56409e(0x25c)](_0x3c9f33),_0x28f739=state[_0x56409e(0x1d0)]['vx']*_0xfe55ce+state[_0x56409e(0x1d0)]['vy']*_0x4fac1f;state['puck']['vx']=state[_0x56409e(0x1d0)]['vx']-0x2*_0x28f739*_0xfe55ce,state['puck']['vy']=state['puck']['vy']-0x2*_0x28f739*_0x4fac1f;const _0xf89d41=Math[_0x56409e(0x229)](_0x11ea83['vx']**0x2+_0x11ea83['vy']**0x2);_0xf89d41>0.1?(state['puck']['vx']+=_0x11ea83['vx']*1.5,state[_0x56409e(0x1d0)]['vy']+=_0x11ea83['vy']*1.5):(state[_0x56409e(0x1d0)]['vx']*=0.8,state['puck']['vy']*=0.8);const _0x13fcfb=Math[_0x56409e(0x229)](state['puck']['vx']**0x2+state[_0x56409e(0x1d0)]['vy']**0x2);_0x13fcfb>state[_0x56409e(0x1d0)][_0x56409e(0x222)]&&(state[_0x56409e(0x1d0)]['vx']=state[_0x56409e(0x1d0)]['vx']/_0x13fcfb*state[_0x56409e(0x1d0)]['maxSpeed'],state[_0x56409e(0x1d0)]['vy']=state['puck']['vy']/_0x13fcfb*state[_0x56409e(0x1d0)][_0x56409e(0x222)]),playSound('hit');}}function viewX(_0x4e5a68){const _0x28013e=a0_0x4f4c28;if(state[_0x28013e(0x257)])return state[_0x28013e(0x283)][_0x28013e(0x1c4)]-_0x4e5a68;return _0x4e5a68;}function viewY(_0x9d1229){const _0x1cbac8=a0_0x4f4c28;if(state[_0x1cbac8(0x257)])return state['field'][_0x1cbac8(0x236)]-_0x9d1229;return _0x9d1229;}window[a0_0x4f4c28(0x216)]=()=>{const _0xc2580c=a0_0x4f4c28;state[_0xc2580c(0x257)]=!state[_0xc2580c(0x257)];};function draw(){const _0x5842ab=a0_0x4f4c28;ctx[_0x5842ab(0x1cc)](0x0,0x0,canvas['width'],canvas['height']);const _0x29c3f8=canvas[_0x5842ab(0x1c4)],_0x37ced8=canvas[_0x5842ab(0x236)];state[_0x5842ab(0x1e2)]===_0x5842ab(0x289)&&state[_0x5842ab(0x257)]===undefined&&(state[_0x5842ab(0x257)]=!![]);const _0x54d4e2=_0x37ced8/0x2;drawGrid(_0x29c3f8,_0x37ced8),ctx[_0x5842ab(0x27f)]=0x3,ctx[_0x5842ab(0x25b)]=_0x5842ab(0x226),ctx[_0x5842ab(0x1e4)](),ctx[_0x5842ab(0x26d)](0x0,_0x54d4e2-0x6),ctx[_0x5842ab(0x1d1)](_0x29c3f8,_0x54d4e2-0x6),ctx[_0x5842ab(0x1f2)](),ctx[_0x5842ab(0x1e4)](),ctx[_0x5842ab(0x26d)](0x0,_0x54d4e2+0x6),ctx['lineTo'](_0x29c3f8,_0x54d4e2+0x6),ctx[_0x5842ab(0x1f2)](),ctx[_0x5842ab(0x25b)]=_0x5842ab(0x1f1),ctx[_0x5842ab(0x286)]=0xa,ctx[_0x5842ab(0x24d)]='#00ffff',ctx['beginPath'](),ctx['arc'](_0x29c3f8/0x2,_0x54d4e2,_0x29c3f8*0.22,0x0,Math['PI']*0x2),ctx[_0x5842ab(0x1f2)](),ctx[_0x5842ab(0x1e4)](),ctx[_0x5842ab(0x26c)](_0x29c3f8/0x2,_0x54d4e2,_0x29c3f8*0.18,0x0,Math['PI']*0x2),ctx[_0x5842ab(0x25b)]=_0x5842ab(0x1f9),ctx[_0x5842ab(0x1f2)]();const _0x2e4895=_0x29c3f8*0.3;ctx['shadowBlur']=0xf,ctx[_0x5842ab(0x24d)]=state['p2'][_0x5842ab(0x1c7)],ctx[_0x5842ab(0x25b)]=state['p2'][_0x5842ab(0x1c7)],ctx[_0x5842ab(0x27f)]=0x4,ctx['beginPath']();const _0x26bee7=state[_0x5842ab(0x257)],_0x21afb6=_0x26bee7?state['p1']['color']:state['p2'][_0x5842ab(0x1c7)],_0x3ea5db=_0x26bee7?state['p2'][_0x5842ab(0x1c7)]:state['p1']['color'];ctx[_0x5842ab(0x24d)]=_0x21afb6,ctx[_0x5842ab(0x25b)]=_0x21afb6,ctx['beginPath'](),ctx[_0x5842ab(0x26c)](_0x29c3f8/0x2,-0x3c,_0x2e4895,0x0,Math['PI'],![]),ctx[_0x5842ab(0x1f2)](),ctx['shadowColor']=_0x3ea5db,ctx[_0x5842ab(0x25b)]=_0x3ea5db,ctx[_0x5842ab(0x1e4)](),ctx[_0x5842ab(0x26c)](_0x29c3f8/0x2,_0x37ced8+0x3c,_0x2e4895,Math['PI'],0x0,![]),ctx[_0x5842ab(0x1f2)](),ctx[_0x5842ab(0x286)]=0x0,ctx[_0x5842ab(0x288)]='top';const _0x53a1a0=_0x37ced8*0.08;ctx['font']=_0x5842ab(0x269)+_0x53a1a0+'px\x20sans-serif';const _0x35c48a=(_0x19b0a3,_0x5b0a46,_0x49ba81,_0x556bbf,_0xc3d7d)=>{const _0x4ecf35=_0x5842ab;ctx['textBaseline']=_0xc3d7d,ctx[_0x4ecf35(0x277)]='round',ctx[_0x4ecf35(0x246)]=0x2,ctx[_0x4ecf35(0x25b)]=_0x556bbf,ctx[_0x4ecf35(0x27f)]=0x4,ctx[_0x4ecf35(0x264)]=_0x4ecf35(0x1c9),ctx[_0x4ecf35(0x1be)](_0x19b0a3,_0x5b0a46,_0x49ba81);},_0x3ee045=_0x26bee7?state['p1'][_0x5842ab(0x213)]:state['p2']['score'],_0xa03d9b=_0x26bee7?state['p2'][_0x5842ab(0x213)]:state['p1'][_0x5842ab(0x213)];_0x35c48a(_0x3ee045[_0x5842ab(0x23c)](),_0x29c3f8-0x19,0x19,_0x21afb6,_0x5842ab(0x28b)),_0x35c48a(_0xa03d9b[_0x5842ab(0x23c)](),_0x29c3f8-0x19,_0x37ced8-0x19,_0x3ea5db,_0x5842ab(0x24a)),drawPaddle(state['p1']),drawPaddle(state['p2']),drawPuck(state['puck']),state['particles'][_0x5842ab(0x212)](_0x33f616=>{const _0x2ca6b0=_0x5842ab;ctx[_0x2ca6b0(0x1e1)]=_0x33f616[_0x2ca6b0(0x1fd)]>0x0?_0x33f616[_0x2ca6b0(0x1fd)]:0x0,ctx[_0x2ca6b0(0x23d)]=_0x33f616['color'],ctx['beginPath'](),ctx[_0x2ca6b0(0x26c)](viewX(_0x33f616['x']),viewY(_0x33f616['y']),0x4,0x0,Math['PI']*0x2),ctx[_0x2ca6b0(0x1eb)](),ctx[_0x2ca6b0(0x1e1)]=0x1;}),requestAnimationFrame(draw);}function drawGrid(_0x3555d8,_0x3cd2b8){const _0x24e852=a0_0x4f4c28,_0x5ad59c=0x5,_0x4c1632=0x9,_0x6d2ff5=_0x3555d8/_0x5ad59c,_0x55b684=_0x3cd2b8/_0x4c1632,_0x1c3f3f=0x5;ctx[_0x24e852(0x25b)]='#103035',ctx['lineWidth']=0x2,ctx[_0x24e852(0x286)]=0x0;for(let _0x5b42f1=0x0;_0x5b42f1<_0x4c1632;_0x5b42f1++){for(let _0x413d63=0x0;_0x413d63<_0x5ad59c;_0x413d63++){const _0x28ec43=_0x413d63*_0x6d2ff5+_0x1c3f3f,_0x2570c5=_0x5b42f1*_0x55b684+_0x1c3f3f,_0x197974=_0x6d2ff5-_0x1c3f3f*0x2,_0x84b344=_0x55b684-_0x1c3f3f*0x2;ctx[_0x24e852(0x1e4)](),ctx['roundRect'](_0x28ec43,_0x2570c5,_0x197974,_0x84b344,0xc),ctx[_0x24e852(0x1f2)]();}}}function drawPaddle(_0x533c33){const _0x12a3f8=a0_0x4f4c28,_0xdd9225=viewX(_0x533c33['x']),_0x40d9c6=viewY(_0x533c33['y']),_0x4e983e=_0x533c33[_0x12a3f8(0x20f)],_0x591ed9=_0x533c33['color'];ctx['shadowBlur']=0xf,ctx[_0x12a3f8(0x24d)]=_0x591ed9,_0x591ed9===_0x12a3f8(0x1bc)?(ctx[_0x12a3f8(0x27f)]=0x5,ctx[_0x12a3f8(0x25b)]=_0x12a3f8(0x234),ctx[_0x12a3f8(0x1e4)](),ctx['arc'](_0xdd9225,_0x40d9c6,_0x4e983e,0x0,Math['PI']*0x2),ctx[_0x12a3f8(0x1f2)](),ctx[_0x12a3f8(0x27f)]=0x2,ctx[_0x12a3f8(0x25b)]=_0x12a3f8(0x248),ctx[_0x12a3f8(0x1e4)](),ctx[_0x12a3f8(0x26c)](_0xdd9225,_0x40d9c6,Math[_0x12a3f8(0x255)](0x0,_0x4e983e-0x6),0x0,Math['PI']*0x2),ctx[_0x12a3f8(0x1f2)]()):(ctx[_0x12a3f8(0x27f)]=0x4,ctx[_0x12a3f8(0x25b)]=_0x591ed9,ctx[_0x12a3f8(0x1e4)](),ctx[_0x12a3f8(0x26c)](_0xdd9225,_0x40d9c6,_0x4e983e,0x0,Math['PI']*0x2),ctx[_0x12a3f8(0x1f2)](),ctx[_0x12a3f8(0x1e4)](),ctx[_0x12a3f8(0x26c)](_0xdd9225,_0x40d9c6,Math['max'](0x0,_0x4e983e-0x8),0x0,Math['PI']*0x2),ctx[_0x12a3f8(0x1f2)]()),ctx[_0x12a3f8(0x286)]=0x0;}function drawPuck(_0x10a0c9){const _0x52e320=a0_0x4f4c28,_0x5b66a2=viewX(_0x10a0c9['x']),_0x3b4b7b=viewY(_0x10a0c9['y']),_0x506241=_0x10a0c9[_0x52e320(0x20f)];ctx['shadowBlur']=0xf,ctx['shadowColor']=_0x52e320(0x203),ctx[_0x52e320(0x25b)]=_0x52e320(0x203),ctx[_0x52e320(0x27f)]=0x5,ctx[_0x52e320(0x1e4)](),ctx[_0x52e320(0x26c)](_0x5b66a2,_0x3b4b7b,_0x506241,Math['PI'],1.5*Math['PI']-0.5),ctx[_0x52e320(0x1f2)](),ctx[_0x52e320(0x1e4)](),ctx['arc'](_0x5b66a2,_0x3b4b7b,_0x506241,1.5*Math['PI']+0.5,0x0),ctx[_0x52e320(0x1f2)](),ctx[_0x52e320(0x1e4)](),ctx[_0x52e320(0x26c)](_0x5b66a2,_0x3b4b7b,_0x506241,0x0+0.5,0.5*Math['PI']),ctx[_0x52e320(0x1f2)](),ctx['beginPath'](),ctx[_0x52e320(0x26c)](_0x5b66a2,_0x3b4b7b,_0x506241,0.5*Math['PI']+0.5,Math['PI']),ctx['stroke'](),ctx[_0x52e320(0x27f)]=0x3,ctx['beginPath']();const _0x43ed5a=0x6;ctx['moveTo'](_0x5b66a2,_0x3b4b7b-_0x506241+_0x43ed5a),ctx[_0x52e320(0x1d1)](_0x5b66a2,_0x3b4b7b-_0x506241-0x4),ctx['moveTo'](_0x5b66a2,_0x3b4b7b+_0x506241-_0x43ed5a),ctx[_0x52e320(0x1d1)](_0x5b66a2,_0x3b4b7b+_0x506241+0x4),ctx['moveTo'](_0x5b66a2-_0x506241+_0x43ed5a,_0x3b4b7b),ctx[_0x52e320(0x1d1)](_0x5b66a2-_0x506241-0x4,_0x3b4b7b),ctx[_0x52e320(0x26d)](_0x5b66a2+_0x506241+_0x43ed5a,_0x3b4b7b),ctx['lineTo'](_0x5b66a2+_0x506241+0x4,_0x3b4b7b),ctx[_0x52e320(0x1f2)](),ctx[_0x52e320(0x24d)]=_0x52e320(0x1f7),ctx[_0x52e320(0x25b)]=_0x52e320(0x1f7),ctx[_0x52e320(0x27f)]=0x4,ctx[_0x52e320(0x1e4)](),ctx[_0x52e320(0x26c)](_0x5b66a2,_0x3b4b7b,_0x506241*0.5,0x0,Math['PI']*0x2),ctx['stroke'](),ctx[_0x52e320(0x286)]=0x0;}function handleInput(_0x39d98d,_0x2f926b,_0x2bc83f){const _0x43d8ad=a0_0x4f4c28;if(!state[_0x43d8ad(0x1e6)])return;let _0x4c543d;if(state[_0x43d8ad(0x1e2)]===_0x43d8ad(0x289))_0x4c543d=state['p2'];else state[_0x43d8ad(0x1e2)]===_0x43d8ad(0x230)||state[_0x43d8ad(0x1e2)]===_0x43d8ad(0x26e)?_0x4c543d=state['p1']:_0x4c543d=_0x2bc83f?state['p1']:state['p2'];const _0x2a64a0=_0x4c543d===state['p1'],_0xc27ac=_0x2a64a0?state[_0x43d8ad(0x283)][_0x43d8ad(0x236)]/0x2+_0x4c543d[_0x43d8ad(0x20f)]:_0x4c543d[_0x43d8ad(0x20f)],_0x444895=_0x2a64a0?state['field'][_0x43d8ad(0x236)]-_0x4c543d[_0x43d8ad(0x20f)]:state[_0x43d8ad(0x283)]['height']/0x2-_0x4c543d[_0x43d8ad(0x20f)];_0x4c543d['x']=Math[_0x43d8ad(0x255)](_0x4c543d[_0x43d8ad(0x20f)],Math[_0x43d8ad(0x1f6)](state['field'][_0x43d8ad(0x1c4)]-_0x4c543d[_0x43d8ad(0x20f)],_0x39d98d)),_0x4c543d['y']=Math['max'](_0xc27ac,Math[_0x43d8ad(0x1f6)](_0x444895,_0x2f926b));}canvas[a0_0x4f4c28(0x228)](a0_0x4f4c28(0x22a),_0x404e21=>{const _0x1e0385=a0_0x4f4c28;_0x404e21[_0x1e0385(0x20c)]();if(state[_0x1e0385(0x287)])return;const _0x527ee0=canvas[_0x1e0385(0x23b)]();let _0x1e63cf=_0x404e21[_0x1e0385(0x280)]-_0x527ee0['left'],_0x2ab930=_0x404e21[_0x1e0385(0x1dd)]-_0x527ee0[_0x1e0385(0x28b)];state[_0x1e0385(0x257)]&&(_0x1e63cf=state[_0x1e0385(0x283)][_0x1e0385(0x1c4)]-_0x1e63cf,_0x2ab930=state[_0x1e0385(0x283)][_0x1e0385(0x236)]-_0x2ab930),handleInput(_0x1e63cf,_0x2ab930,!![]);}),canvas[a0_0x4f4c28(0x228)]('touchmove',_0x17c38c=>{const _0x1372d7=a0_0x4f4c28;_0x17c38c[_0x1372d7(0x20c)]();if(state['paused'])return;const _0xce4b7=canvas[_0x1372d7(0x23b)]();for(let _0x8e74d=0x0;_0x8e74d<_0x17c38c[_0x1372d7(0x211)][_0x1372d7(0x1d7)];_0x8e74d++){const _0x32c466=_0x17c38c[_0x1372d7(0x211)][_0x8e74d];let _0x5a2280=_0x32c466['clientX']-_0xce4b7[_0x1372d7(0x232)],_0x370a6d=_0x32c466[_0x1372d7(0x1dd)]-_0xce4b7[_0x1372d7(0x28b)];state['flipped']&&(_0x5a2280=state[_0x1372d7(0x283)][_0x1372d7(0x1c4)]-_0x5a2280,_0x370a6d=state[_0x1372d7(0x283)]['height']-_0x370a6d);if(state[_0x1372d7(0x1e2)]===_0x1372d7(0x1c2)){if(_0x370a6d>state[_0x1372d7(0x283)][_0x1372d7(0x236)]/0x2)handleInput(_0x5a2280,_0x370a6d,!![]);else handleInput(_0x5a2280,_0x370a6d,![]);}else handleInput(_0x5a2280,_0x370a6d,!![]);}},{'passive':![]});const updateLoop=setInterval(update,0x3e8/0x3c);requestAnimationFrame(draw),window[a0_0x4f4c28(0x1ec)]=_0x2cd8ed=>{const _0x2e89b5=a0_0x4f4c28;state[_0x2e89b5(0x1e2)]=_0x2cd8ed,state[_0x2e89b5(0x1ca)]=document[_0x2e89b5(0x270)](_0x2e89b5(0x1ed))[_0x2e89b5(0x1ea)],state[_0x2e89b5(0x1e6)]=!![],state['p1'][_0x2e89b5(0x213)]=0x0,state['p2']['score']=0x0,resize(),resetPositions(),document[_0x2e89b5(0x270)]('main-menu')[_0x2e89b5(0x22f)][_0x2e89b5(0x1dc)](_0x2e89b5(0x1f8)),document[_0x2e89b5(0x270)](_0x2e89b5(0x218))['classList'][_0x2e89b5(0x21c)]('hidden');document[_0x2e89b5(0x240)][_0x2e89b5(0x1c8)]&&document['documentElement'][_0x2e89b5(0x1c8)]()['catch'](_0x40ad46=>console[_0x2e89b5(0x201)](_0x40ad46));if(audioCtx[_0x2e89b5(0x1c6)]===_0x2e89b5(0x1da))audioCtx[_0x2e89b5(0x1db)]();},window[a0_0x4f4c28(0x20b)]=(_0x178266,_0x311733)=>{const _0x442ee8=a0_0x4f4c28;document[_0x442ee8(0x270)](_0x442ee8(0x1ed))[_0x442ee8(0x1ea)]=_0x178266;const _0x43e715=document[_0x442ee8(0x23f)](_0x442ee8(0x1f4));_0x43e715[_0x442ee8(0x212)](_0xf3554e=>_0xf3554e[_0x442ee8(0x22f)][_0x442ee8(0x21c)](_0x442ee8(0x253))),_0x311733['classList'][_0x442ee8(0x1dc)](_0x442ee8(0x253));},window['addEventListener'](a0_0x4f4c28(0x243),resize),setTimeout(()=>{resize(),resetPositions(),updateHighScoreDisplay();},0x64);