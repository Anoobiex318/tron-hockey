const a0_0x127132=a0_0x4bb1;(function(_0x31f0cf,_0x14db8d){const _0x48ac64=a0_0x4bb1,_0x565410=_0x31f0cf();while(!![]){try{const _0x130529=parseInt(_0x48ac64(0x270))/0x1+parseInt(_0x48ac64(0x19c))/0x2+-parseInt(_0x48ac64(0x245))/0x3*(parseInt(_0x48ac64(0x1ac))/0x4)+parseInt(_0x48ac64(0x211))/0x5*(parseInt(_0x48ac64(0x1b9))/0x6)+-parseInt(_0x48ac64(0x1c9))/0x7*(-parseInt(_0x48ac64(0x1de))/0x8)+-parseInt(_0x48ac64(0x261))/0x9*(parseInt(_0x48ac64(0x1fc))/0xa)+parseInt(_0x48ac64(0x262))/0xb*(-parseInt(_0x48ac64(0x26b))/0xc);if(_0x130529===_0x14db8d)break;else _0x565410['push'](_0x565410['shift']());}catch(_0x47a2f7){_0x565410['push'](_0x565410['shift']());}}}(a0_0x55dc,0x7aff5));const canvas=document['getElementById'](a0_0x127132(0x212)),ctx=canvas[a0_0x127132(0x24a)]('2d'),state={'running':![],'paused':![],'mode':a0_0x127132(0x25f),'difficulty':a0_0x127132(0x1ee),'p1':{'score':0x0,'x':0x0,'y':0x0,'prevX':0x0,'prevY':0x0,'vx':0x0,'vy':0x0,'radius':0x0,'color':a0_0x127132(0x1b2)},'p2':{'score':0x0,'x':0x0,'y':0x0,'prevX':0x0,'prevY':0x0,'vx':0x0,'vy':0x0,'radius':0x0,'color':a0_0x127132(0x1a5)},'puck':{'x':0x0,'y':0x0,'vx':0x0,'vy':0x0,'radius':0x0,'speed':0x0,'maxSpeed':0x0},'field':{'width':0x0,'height':0x0},'particles':[]},CONFIG={'friction':0.992,'wallBounce':0.9,'puckMaxSpeedMultiplier':0.04,'paddleRadiusRatio':0.08,'puckRadiusRatio':0.04,'winningScore':0x7},DIFFICULTIES={'medium':{'speed':0.09,'reaction':0.1,'error':0x1e},'difficult':{'speed':0.15,'reaction':0.05,'error':0xa},'insane':{'speed':0.35,'reaction':0.01,'error':0x0}},AudioContext=window['AudioContext']||window['webkitAudioContext'],audioCtx=new AudioContext();function playSound(_0x3abf88){const _0x37e0ae=a0_0x127132;if(audioCtx[_0x37e0ae(0x23f)]===_0x37e0ae(0x236))audioCtx[_0x37e0ae(0x19a)]();const _0x516e71=audioCtx[_0x37e0ae(0x227)](),_0x41225e=audioCtx[_0x37e0ae(0x1f2)]();_0x516e71['connect'](_0x41225e),_0x41225e[_0x37e0ae(0x1c1)](audioCtx['destination']);const _0x38deba=audioCtx[_0x37e0ae(0x218)];if(_0x3abf88==='hit')_0x516e71[_0x37e0ae(0x23b)][_0x37e0ae(0x1a7)](0x190,_0x38deba),_0x516e71[_0x37e0ae(0x23b)]['exponentialRampToValueAtTime'](0x64,_0x38deba+0.1),_0x41225e[_0x37e0ae(0x26f)]['setValueAtTime'](0.3,_0x38deba),_0x41225e['gain'][_0x37e0ae(0x1e4)](0.01,_0x38deba+0.1),_0x516e71[_0x37e0ae(0x265)](_0x38deba),_0x516e71[_0x37e0ae(0x267)](_0x38deba+0.1);else{if(_0x3abf88===_0x37e0ae(0x201))_0x516e71[_0x37e0ae(0x23b)][_0x37e0ae(0x1a7)](0xc8,_0x38deba),_0x516e71['frequency'][_0x37e0ae(0x1e4)](0x32,_0x38deba+0.1),_0x41225e[_0x37e0ae(0x26f)][_0x37e0ae(0x1a7)](0.2,_0x38deba),_0x41225e['gain']['exponentialRampToValueAtTime'](0.01,_0x38deba+0.1),_0x516e71['start'](_0x38deba),_0x516e71[_0x37e0ae(0x267)](_0x38deba+0.1);else _0x3abf88==='score'&&(_0x516e71[_0x37e0ae(0x241)]=_0x37e0ae(0x20f),_0x516e71['frequency']['setValueAtTime'](0x258,_0x38deba),_0x516e71[_0x37e0ae(0x23b)]['setValueAtTime'](0x320,_0x38deba+0.1),_0x516e71[_0x37e0ae(0x23b)][_0x37e0ae(0x1a7)](0x190,_0x38deba+0.2),_0x41225e[_0x37e0ae(0x26f)][_0x37e0ae(0x1a7)](0.3,_0x38deba),_0x41225e[_0x37e0ae(0x26f)]['exponentialRampToValueAtTime'](0.01,_0x38deba+0.6),_0x516e71[_0x37e0ae(0x265)](_0x38deba),_0x516e71[_0x37e0ae(0x267)](_0x38deba+0.6));}}function resize(){const _0x103892=a0_0x127132,_0x5b015c=document[_0x103892(0x1e2)](_0x103892(0x210)),_0xa5d0fb=canvas[_0x103892(0x234)]||0xa,_0x485d97=canvas['height']||0xa;canvas[_0x103892(0x234)]=_0x5b015c[_0x103892(0x25d)]||window['innerWidth'],canvas[_0x103892(0x255)]=_0x5b015c[_0x103892(0x214)]||window['innerHeight'];const _0x2f4838=canvas[_0x103892(0x234)]/_0xa5d0fb,_0x589308=canvas[_0x103892(0x255)]/_0x485d97;state['field'][_0x103892(0x234)]=canvas[_0x103892(0x234)],state['field'][_0x103892(0x255)]=canvas['height'];const _0x4ad0e7=Math[_0x103892(0x1d9)](canvas[_0x103892(0x234)],canvas[_0x103892(0x255)]);state['p1'][_0x103892(0x235)]=_0x4ad0e7*CONFIG[_0x103892(0x1f3)],state['p2'][_0x103892(0x235)]=_0x4ad0e7*CONFIG[_0x103892(0x1f3)],state[_0x103892(0x25c)]['radius']=_0x4ad0e7*CONFIG[_0x103892(0x1db)],state['puck'][_0x103892(0x197)]=canvas['height']*CONFIG[_0x103892(0x199)],state['running']&&_0xa5d0fb>0xa?(state['p1']['x']*=_0x2f4838,state['p1']['y']*=_0x589308,state['p1'][_0x103892(0x1e0)]*=_0x2f4838,state['p1'][_0x103892(0x1ed)]*=_0x589308,state['p2']['x']*=_0x2f4838,state['p2']['y']*=_0x589308,state['p2']['prevX']*=_0x2f4838,state['p2'][_0x103892(0x1ed)]*=_0x589308,state['puck']['x']*=_0x2f4838,state[_0x103892(0x25c)]['y']*=_0x589308):resetPositions();}function resetPositions(){const _0x33f173=a0_0x127132;state[_0x33f173(0x25c)]['x']=state[_0x33f173(0x1fe)][_0x33f173(0x234)]/0x2,state['puck']['y']=state[_0x33f173(0x1fe)]['height']/0x2,state[_0x33f173(0x25c)]['vx']=0x0,state[_0x33f173(0x25c)]['vy']=0x0,state['p1']['x']=state['field'][_0x33f173(0x234)]/0x2,state['p1']['y']=state['field'][_0x33f173(0x255)]-state['field'][_0x33f173(0x255)]*0.15,state['p1']['prevX']=state['p1']['x'],state['p1'][_0x33f173(0x1ed)]=state['p1']['y'],state['p2']['x']=state[_0x33f173(0x1fe)][_0x33f173(0x234)]/0x2,state['p2']['y']=state[_0x33f173(0x1fe)]['height']*0.15,state['p2'][_0x33f173(0x1e0)]=state['p2']['x'],state['p2'][_0x33f173(0x1ed)]=state['p2']['y'];}function spawnParticles(_0x21da8c,_0x179c17,_0x304772){const _0x7224df=a0_0x127132;for(let _0x73a508=0x0;_0x73a508<0x28;_0x73a508++){const _0x2f77a8=Math[_0x7224df(0x237)]()*0xf+0x5,_0x230ad7=Math[_0x7224df(0x237)]()*Math['PI']*0x2;state[_0x7224df(0x22f)][_0x7224df(0x1d0)]({'x':_0x21da8c,'y':_0x179c17,'vx':Math[_0x7224df(0x1cd)](_0x230ad7)*_0x2f77a8,'vy':Math[_0x7224df(0x1fb)](_0x230ad7)*_0x2f77a8,'life':0x1,'decay':Math[_0x7224df(0x237)]()*0.03+0.01,'color':_0x304772});}for(let _0x3880ab=0x0;_0x3880ab<0x14;_0x3880ab++){const _0x5ddac1=Math['PI']*0x2*_0x3880ab/0x14;state[_0x7224df(0x22f)][_0x7224df(0x1d0)]({'x':_0x21da8c,'y':_0x179c17,'vx':Math['cos'](_0x5ddac1)*0xa,'vy':Math[_0x7224df(0x1fb)](_0x5ddac1)*0xa,'life':0x1,'decay':0.05,'color':_0x7224df(0x1ab)});}}function predictPuckX(_0x29d7d3,_0x187e2f,_0x52b158){if(_0x29d7d3['vy']===0x0)return _0x29d7d3['x'];const _0x4bd64e=(_0x187e2f-_0x29d7d3['y'])/_0x29d7d3['vy'];if(_0x4bd64e<0x0)return _0x52b158/0x2;let _0x352026=_0x29d7d3['x']+_0x29d7d3['vx']*_0x4bd64e;const _0x29b1af=_0x52b158;while(_0x352026<0x0||_0x352026>_0x29b1af){if(_0x352026<0x0)_0x352026=-_0x352026;else _0x352026>_0x29b1af&&(_0x352026=0x2*_0x29b1af-_0x352026);}return _0x352026;}let peer=null,conn=null,myPeerId=null,isHost=![];function initPeer(){const _0x3049ef=a0_0x127132;if(peer)return;document[_0x3049ef(0x1e2)](_0x3049ef(0x1d1))[_0x3049ef(0x243)]=_0x3049ef(0x277);let _0x241714=localStorage[_0x3049ef(0x269)](_0x3049ef(0x1ad));setupPeer(_0x241714);}function setupPeer(_0x2f76f2=null){const _0x4c437f=a0_0x127132;if(peer)peer['destroy']();const _0x11629f={'debug':0x1};peer=_0x2f76f2?new Peer(_0x2f76f2,_0x11629f):new Peer(null,_0x11629f),peer['on'](_0x4c437f(0x249),_0x57d790=>{const _0x38c3f5=_0x4c437f;myPeerId=_0x57d790,localStorage[_0x38c3f5(0x204)](_0x38c3f5(0x1ad),_0x57d790);const _0x2fba5f=document[_0x38c3f5(0x1e2)]('peer-id-input');if(_0x2fba5f)_0x2fba5f[_0x38c3f5(0x264)]=_0x57d790;const _0x51a125=document[_0x38c3f5(0x1e2)](_0x38c3f5(0x1d1));if(_0x51a125)_0x51a125['textContent']='Ready\x20to\x20Connect';const _0x2340ff=new URLSearchParams(window[_0x38c3f5(0x1cf)][_0x38c3f5(0x1fd)]);let _0x49d4f4=_0x2340ff[_0x38c3f5(0x206)](_0x38c3f5(0x1ce));if(_0x49d4f4&&!state['running']){if(_0x49d4f4===myPeerId){console[_0x38c3f5(0x258)](_0x38c3f5(0x1e3));return;}_0x49d4f4[_0x38c3f5(0x1bd)](_0x38c3f5(0x256))&&(_0x49d4f4=_0x49d4f4['split']('game=')[0x1][_0x38c3f5(0x1a2)]('&')[0x0]),openLobby(),document[_0x38c3f5(0x1e2)]('connect-id-input')['value']=_0x49d4f4,setTimeout(connectToPeer,0x1f4);}}),peer['on']('error',_0x211996=>{const _0x1b2d2a=_0x4c437f;if(_0x211996['type']==='unavailable-id'){console[_0x1b2d2a(0x20a)](_0x1b2d2a(0x1c0)),setupPeer(null);return;}if(_0x211996[_0x1b2d2a(0x241)]===_0x1b2d2a(0x279)){alert(_0x1b2d2a(0x230)),document['getElementById'](_0x1b2d2a(0x205))[_0x1b2d2a(0x243)]='Host\x20invalid\x20or\x20offline';if(conn)conn[_0x1b2d2a(0x21d)]();return;}const _0x26f5c5=document[_0x1b2d2a(0x1e2)](_0x1b2d2a(0x205));if(_0x26f5c5)_0x26f5c5[_0x1b2d2a(0x243)]=_0x1b2d2a(0x21b)+_0x211996[_0x1b2d2a(0x241)];console[_0x1b2d2a(0x220)](_0x1b2d2a(0x217),_0x211996);}),peer['on'](_0x4c437f(0x1ca),_0x18b040=>{const _0x114435=_0x4c437f;if(conn&&conn[_0x114435(0x249)]){_0x18b040[_0x114435(0x21d)](),console[_0x114435(0x258)](_0x114435(0x1e1));return;}if(conn)conn['close']();conn=_0x18b040,isHost=!![],setupConnection();});}function setupConnection(){const _0x1a8d47=a0_0x127132;conn['off'](_0x1a8d47(0x249)),conn[_0x1a8d47(0x24f)](_0x1a8d47(0x1cb)),conn[_0x1a8d47(0x24f)](_0x1a8d47(0x21d)),conn['on'](_0x1a8d47(0x249),()=>{const _0x386f3e=_0x1a8d47;document[_0x386f3e(0x1e2)](_0x386f3e(0x205))[_0x386f3e(0x243)]=_0x386f3e(0x1c8),document[_0x386f3e(0x1e2)](_0x386f3e(0x205))[_0x386f3e(0x1b7)]['color']=_0x386f3e(0x20c),setTimeout(()=>{const _0x20b1b0=_0x386f3e;document[_0x20b1b0(0x1e2)](_0x20b1b0(0x242))[_0x20b1b0(0x266)][_0x20b1b0(0x1a8)](_0x20b1b0(0x1e7)),startGame(isHost?'online_host':'online_client');},0x3e8);}),conn['on'](_0x1a8d47(0x1cb),_0x4b1be3=>{handleData(_0x4b1be3);}),conn['on'](_0x1a8d47(0x21d),()=>{const _0x19cb06=_0x1a8d47;stopGame();const _0x7de8a4=document[_0x19cb06(0x1e2)](_0x19cb06(0x259)),_0x564da2=document['getElementById']('pause-title'),_0x264d2f=document[_0x19cb06(0x1e2)]('resume-btn');_0x7de8a4&&_0x564da2&&_0x264d2f?(_0x564da2[_0x19cb06(0x243)]=_0x19cb06(0x1c3),_0x264d2f['style'][_0x19cb06(0x23c)]='none',_0x7de8a4[_0x19cb06(0x266)]['remove'](_0x19cb06(0x1e7))):(alert(_0x19cb06(0x1c3)),location['reload']());}),conn['on'](_0x1a8d47(0x220),_0x44ec2e=>{const _0x1d8015=_0x1a8d47;console[_0x1d8015(0x220)]('Connection\x20Error:',_0x44ec2e);});}function handleData(_0x56488e){const _0x5c4d59=a0_0x127132;if(state['mode']===_0x5c4d59(0x1d2))_0x56488e[_0x5c4d59(0x241)]==='input'&&(_0x56488e['y']<state[_0x5c4d59(0x1fe)]['height']/0x2&&(state['p2']['x']=_0x56488e['x'],state['p2']['y']=_0x56488e['y']));else{if(state[_0x5c4d59(0x233)]==='online_client'){if(_0x56488e['type']===_0x5c4d59(0x23f)){state['p1']['x']=_0x56488e['p1']['x'],state['p1']['y']=_0x56488e['p1']['y'],state['p2']['x']=_0x56488e['p2']['x'],state['p2']['y']=_0x56488e['p2']['y'],state['p1'][_0x5c4d59(0x1ff)]=_0x56488e[_0x5c4d59(0x207)]['p1'],state['p2'][_0x5c4d59(0x1ff)]=_0x56488e[_0x5c4d59(0x207)]['p2'],state[_0x5c4d59(0x25c)]['x']=_0x56488e[_0x5c4d59(0x25c)]['x'],state[_0x5c4d59(0x25c)]['y']=_0x56488e[_0x5c4d59(0x25c)]['y'],state['puck']['vx']=_0x56488e[_0x5c4d59(0x25c)]['vx'],state[_0x5c4d59(0x25c)]['vy']=_0x56488e[_0x5c4d59(0x25c)]['vy'];if(_0x56488e[_0x5c4d59(0x1c6)]){if(_0x56488e[_0x5c4d59(0x1c6)]==='score')handleGoal(_0x56488e[_0x5c4d59(0x1dd)],!![]);else{if(_0x56488e[_0x5c4d59(0x1c6)]===_0x5c4d59(0x1f0))playSound(_0x5c4d59(0x1f0));else _0x56488e[_0x5c4d59(0x1c6)]===_0x5c4d59(0x201)&&playSound(_0x5c4d59(0x201));}}}_0x56488e[_0x5c4d59(0x241)]===_0x5c4d59(0x1d8)&&endGame(_0x56488e[_0x5c4d59(0x208)]);}}}window[a0_0x127132(0x1ba)]=()=>{const _0x5d9288=a0_0x127132;if(!navigator[_0x5d9288(0x278)]){document['getElementById'](_0x5d9288(0x232))[_0x5d9288(0x266)][_0x5d9288(0x224)](_0x5d9288(0x1e7));return;}document['getElementById'](_0x5d9288(0x213))[_0x5d9288(0x266)][_0x5d9288(0x1a8)](_0x5d9288(0x1e7)),document[_0x5d9288(0x1e2)](_0x5d9288(0x242))[_0x5d9288(0x266)][_0x5d9288(0x224)](_0x5d9288(0x1e7)),initPeer();},window[a0_0x127132(0x1c2)]=()=>{const _0x4f4156=a0_0x127132;document[_0x4f4156(0x1e2)](_0x4f4156(0x242))[_0x4f4156(0x266)][_0x4f4156(0x1a8)](_0x4f4156(0x1e7)),document['getElementById']('main-menu')[_0x4f4156(0x266)][_0x4f4156(0x224)](_0x4f4156(0x1e7));},window[a0_0x127132(0x257)]=()=>{const _0x578908=a0_0x127132;document['getElementById'](_0x578908(0x1bb))[_0x578908(0x266)][_0x578908(0x1a8)](_0x578908(0x1e7)),document[_0x578908(0x1e2)](_0x578908(0x23d))[_0x578908(0x266)][_0x578908(0x224)](_0x578908(0x1e7));},window[a0_0x127132(0x238)]=()=>{const _0x47bae3=a0_0x127132;document['getElementById'](_0x47bae3(0x23d))['classList']['add'](_0x47bae3(0x1e7)),document['getElementById']('mode-menu')[_0x47bae3(0x266)][_0x47bae3(0x224)]('hidden');},window[a0_0x127132(0x20b)]=()=>{const _0x466cf4=a0_0x127132,_0x5cdf29=document[_0x466cf4(0x1e2)](_0x466cf4(0x1e6))[_0x466cf4(0x264)];navigator[_0x466cf4(0x276)][_0x466cf4(0x1b0)](_0x5cdf29)[_0x466cf4(0x1b4)](()=>{const _0x3bf9cd=_0x466cf4;document[_0x3bf9cd(0x1e2)](_0x3bf9cd(0x1d1))['textContent']=_0x3bf9cd(0x275),setTimeout(()=>document[_0x3bf9cd(0x1e2)](_0x3bf9cd(0x1d1))[_0x3bf9cd(0x243)]=_0x3bf9cd(0x24e),0x7d0);});},window[a0_0x127132(0x1da)]=()=>{const _0xbfaadc=a0_0x127132;let _0x577825=document[_0xbfaadc(0x1e2)](_0xbfaadc(0x268))[_0xbfaadc(0x264)]['trim']();if(!_0x577825)return;if(_0x577825[_0xbfaadc(0x1bd)]('http')||_0x577825[_0xbfaadc(0x1bd)]('game='))try{_0x577825[_0xbfaadc(0x1bd)]('game=')&&(_0x577825=_0x577825[_0xbfaadc(0x1a2)](_0xbfaadc(0x256))[0x1][_0xbfaadc(0x1a2)]('&')[0x0]);}catch(_0x2636a4){console[_0xbfaadc(0x258)](_0xbfaadc(0x24b),_0x2636a4);}conn&&conn[_0xbfaadc(0x21d)](),document['getElementById'](_0xbfaadc(0x205))['textContent']=_0xbfaadc(0x1af)+_0x577825+'...',conn=peer[_0xbfaadc(0x1c1)](_0x577825),isHost=![],setupConnection();};function a0_0x55dc(){const _0x16790e=['textBaseline','install-btn','createOscillator','clientX','shadowBlur','friction','moveTo','shadowColor','roundRect','game-over-score','particles','Host\x20not\x20found!\x20Make\x20sure\x20the\x20Host\x20is\x20online\x20and\x20the\x20ID\x20is\x20correct.','addEventListener','offline-modal','mode','width','radius','suspended','random','showMainMenu','running','QUIT\x20LOBBY','frequency','display','cpu-menu','beginPath','state','flipped','type','lobby-modal','textContent','resize','438pRWcfb','lineTo','insane','map','open','getContext','Error\x20parsing\x20ID','querySelectorAll','game-over-modal','Ready\x20to\x20Connect','off','#0ff','tron_hockey_wins','pause-exit-btn','togglePause','difficulty','height','game=','showCpuMenu','log','pause-modal','difficult','stroke','puck','clientWidth','resume-btn','cpu','strokeText','9XiAEzG','256168uvmtvf','\x20\x20-\x20\x20','value','start','classList','stop','connect-id-input','getItem','top','12eYwqqX','game-over-title','900\x20','strokeStyle','gain','942101cxXISK','delete','send','beforeinstallprompt','fillStyle','ID\x20Copied!','clipboard','Initializing...','onLine','peer-unavailable','maxSpeed','install-modal','puckMaxSpeedMultiplier','resume','game-ui','371222IRqIeu','lineJoin','game-over-exit-btn','getBoundingClientRect','serviceWorker','touches','split','paused','click','#ffcc00','caches','setValueAtTime','add','restartGame','wallBounce','#fff','8788GSrlBb','tron_hockey_peer_id','returnToMenu','Connecting\x20to\x20','writeText','font','#ffffff','local','then','left','startGame','style','update-modal','2781078jWYQlL','openLobby','mode-menu','clearRect','includes','getRegistrations','.diff-btn','Saved\x20ID\x20is\x20unavailable,\x20generating\x20new\x20one...','connect','closeLobby','Connection\x20Lost','color','href','event','forEach','Connected!','179284DQbdNV','connection','data','preventDefault','cos','game','location','push','lobby-status','online_host','performUpdate','unregister','abs','fill','highscore-display','game_over','min','connectToPeer','puckRadiusRatio','input','scorer','16lfdMCo','onclick','prevX','Rejected\x20extra\x20connection','getElementById','Ignoring\x20join\x20parameter\x20(Self\x20ID)','exponentialRampToValueAtTime','YOU\x20WIN','peer-id-input','hidden','sqrt','prompt','PAUSED','round','YOU\x20LOSE','prevY','medium','toString','hit','#2a4d53','createGain','paddleRadiusRatio','arc','life','online_client','max','pause-title','decay','atan2','sin','7946020putJuO','search','field','score','active','wall','User\x20response\x20to\x20the\x20install\x20prompt:\x20','winningScore','setItem','connection-status','get','scores','p1Won','removeItem','warn','copyPeerId','#0f0','clientY','block','square','game-container','5YjmbFK','gameCanvas','main-menu','clientHeight','quitLobby','globalAlpha','PeerJS\x20Error:','currentTime','bottom','userChoice','Error:\x20','rgba(0,\x20255,\x20255,\x200.1)','close','EXIT','keys','error','lineWidth','filter','reload','remove'];a0_0x55dc=function(){return _0x16790e;};return a0_0x55dc();}function update(){const _0x5a128d=a0_0x127132;state['p1']['vx']=state['p1']['x']-state['p1'][_0x5a128d(0x1e0)],state['p1']['vy']=state['p1']['y']-state['p1'][_0x5a128d(0x1ed)],state['p1'][_0x5a128d(0x1e0)]=state['p1']['x'],state['p1'][_0x5a128d(0x1ed)]=state['p1']['y'],state['p2']['vx']=state['p2']['x']-state['p2'][_0x5a128d(0x1e0)],state['p2']['vy']=state['p2']['y']-state['p2'][_0x5a128d(0x1ed)],state['p2']['prevX']=state['p2']['x'],state['p2'][_0x5a128d(0x1ed)]=state['p2']['y'];if(!state[_0x5a128d(0x239)]||state[_0x5a128d(0x1a3)])return;if(state[_0x5a128d(0x233)]===_0x5a128d(0x1f6)){conn&&conn[_0x5a128d(0x249)]&&conn['send']({'type':_0x5a128d(0x1dc),'x':state['p2']['x'],'y':state['p2']['y']});state['particles'][_0x5a128d(0x1c7)](_0x43becd=>{const _0x3b3e8a=_0x5a128d;_0x43becd['x']+=_0x43becd['vx'],_0x43becd['y']+=_0x43becd['vy'],_0x43becd[_0x3b3e8a(0x1f5)]-=_0x43becd['decay'];}),state[_0x5a128d(0x22f)]=state[_0x5a128d(0x22f)][_0x5a128d(0x222)](_0x3c04d4=>_0x3c04d4[_0x5a128d(0x1f5)]>0x0);return;}if(state['mode']===_0x5a128d(0x25f)){const _0x62f74d=DIFFICULTIES[state[_0x5a128d(0x254)]]||DIFFICULTIES['medium'];let _0x2e20ae=state['puck']['x'],_0x197c3f=state[_0x5a128d(0x1fe)][_0x5a128d(0x255)]*0.12;state[_0x5a128d(0x25c)]['vy']<0x0?_0x2e20ae=predictPuckX(state[_0x5a128d(0x25c)],_0x197c3f,state[_0x5a128d(0x1fe)]['width']):_0x2e20ae=state[_0x5a128d(0x1fe)]['width']/0x2;let _0x4d09de=![];if(state['difficulty']===_0x5a128d(0x247)){if(state[_0x5a128d(0x25c)]['y']<state[_0x5a128d(0x1fe)]['height']*0.45&&state[_0x5a128d(0x25c)]['y']>state['p2']['y'])_0x4d09de=!![],_0x2e20ae=state[_0x5a128d(0x25c)]['x'],_0x197c3f=state[_0x5a128d(0x25c)]['y'];else state['puck']['vy']>0x0&&state[_0x5a128d(0x25c)]['y']<state['field']['height']*0.3&&(_0x4d09de=!![],_0x2e20ae=state[_0x5a128d(0x25c)]['x'],_0x197c3f=state[_0x5a128d(0x25c)]['y']);}else state[_0x5a128d(0x254)]===_0x5a128d(0x25a)?state['puck']['y']<state[_0x5a128d(0x1fe)][_0x5a128d(0x255)]*0.4&&state[_0x5a128d(0x25c)]['vy']<0x0&&(_0x4d09de=!![],_0x2e20ae=state['puck']['x'],_0x197c3f=state[_0x5a128d(0x25c)]['y']-0x14):state['puck']['y']<state[_0x5a128d(0x1fe)][_0x5a128d(0x255)]*0.25&&state[_0x5a128d(0x25c)]['vy']<0x0&&(_0x4d09de=!![],_0x197c3f=state[_0x5a128d(0x25c)]['y']-0xa);if(!_0x4d09de){if(state[_0x5a128d(0x254)]===_0x5a128d(0x25a))_0x2e20ae+=(Math['random']()-0.5)*_0x62f74d['error'];if(state[_0x5a128d(0x254)]===_0x5a128d(0x1ee))_0x2e20ae+=(Math[_0x5a128d(0x237)]()-0.5)*_0x62f74d[_0x5a128d(0x220)];}const _0x2fa918=_0x2e20ae-state['p2']['x'],_0xedfabb=_0x197c3f-state['p2']['y'];let _0x31577f=_0x62f74d['speed'];if(_0x4d09de)_0x31577f*=1.5;state['p2']['x']+=_0x2fa918*_0x31577f,state['p2']['y']+=_0xedfabb*_0x31577f;}state[_0x5a128d(0x25c)]['x']+=state[_0x5a128d(0x25c)]['vx'],state[_0x5a128d(0x25c)]['y']+=state[_0x5a128d(0x25c)]['vy'],state['puck']['vx']*=CONFIG[_0x5a128d(0x22a)],state[_0x5a128d(0x25c)]['vy']*=CONFIG[_0x5a128d(0x22a)];if(Math[_0x5a128d(0x1d5)](state[_0x5a128d(0x25c)]['vx'])<0.05)state[_0x5a128d(0x25c)]['vx']=0x0;if(Math['abs'](state[_0x5a128d(0x25c)]['vy'])<0.05)state[_0x5a128d(0x25c)]['vy']=0x0;let _0x49ae81=![];state[_0x5a128d(0x25c)]['x']-state['puck'][_0x5a128d(0x235)]<0x0&&(state[_0x5a128d(0x25c)]['x']=state[_0x5a128d(0x25c)][_0x5a128d(0x235)],state[_0x5a128d(0x25c)]['vx']*=-0x1*CONFIG[_0x5a128d(0x1aa)],_0x49ae81=!![]);state[_0x5a128d(0x25c)]['x']+state['puck']['radius']>state[_0x5a128d(0x1fe)][_0x5a128d(0x234)]&&(state[_0x5a128d(0x25c)]['x']=state[_0x5a128d(0x1fe)][_0x5a128d(0x234)]-state[_0x5a128d(0x25c)][_0x5a128d(0x235)],state['puck']['vx']*=-0x1*CONFIG[_0x5a128d(0x1aa)],_0x49ae81=!![]);if(_0x49ae81){playSound(_0x5a128d(0x201));if(state[_0x5a128d(0x233)]===_0x5a128d(0x1d2))broadcast({'type':_0x5a128d(0x23f),'event':'wall'});}const _0xddd645=state['field'][_0x5a128d(0x234)]*0.3,_0x266374=state[_0x5a128d(0x1fe)][_0x5a128d(0x234)]/0x2;if(state['puck']['y']<0x0){handleGoal(0x1);return;}const _0x555f85=Math['hypot'](state['puck']['x']-_0x266374,state['puck']['y']-0x0);if(state[_0x5a128d(0x25c)]['y']<_0xddd645&&_0x555f85<_0xddd645){}if(state[_0x5a128d(0x25c)]['y']>state['field'][_0x5a128d(0x255)]){handleGoal(0x2);return;}checkPaddleCollision(state['p1']),checkPaddleCollision(state['p2']),state[_0x5a128d(0x22f)][_0x5a128d(0x1c7)](_0x1689e8=>{const _0x1c4e91=_0x5a128d;_0x1689e8['x']+=_0x1689e8['vx'],_0x1689e8['y']+=_0x1689e8['vy'],_0x1689e8[_0x1c4e91(0x1f5)]-=_0x1689e8[_0x1c4e91(0x1f9)];}),state['particles']=state[_0x5a128d(0x22f)][_0x5a128d(0x222)](_0x3b88bb=>_0x3b88bb[_0x5a128d(0x1f5)]>0x0),state[_0x5a128d(0x233)]===_0x5a128d(0x1d2)&&conn&&conn['open']&&conn[_0x5a128d(0x272)]({'type':_0x5a128d(0x23f),'p1':{'x':state['p1']['x'],'y':state['p1']['y']},'p2':{'x':state['p2']['x'],'y':state['p2']['y']},'puck':{'x':state[_0x5a128d(0x25c)]['x'],'y':state[_0x5a128d(0x25c)]['y'],'vx':state[_0x5a128d(0x25c)]['vx'],'vy':state['puck']['vy']},'scores':{'p1':state['p1'][_0x5a128d(0x1ff)],'p2':state['p2']['score']}});}function handleGoal(_0x2debac,_0x1df50b=![]){const _0x509e40=a0_0x127132;if(_0x1df50b){playSound(_0x509e40(0x1ff));if(_0x2debac===0x1)spawnParticles(state[_0x509e40(0x25c)]['x'],0x0,state['p1'][_0x509e40(0x1c4)]);else spawnParticles(state[_0x509e40(0x25c)]['x'],state['field']['height'],state['p2'][_0x509e40(0x1c4)]);return;}playSound(_0x509e40(0x1ff)),state['puck']['vx']=0x0,state[_0x509e40(0x25c)]['vy']=0x0;_0x2debac===0x1?(state['p1'][_0x509e40(0x1ff)]++,spawnParticles(state[_0x509e40(0x25c)]['x'],0x0,state['p1'][_0x509e40(0x1c4)])):(state['p2']['score']++,spawnParticles(state[_0x509e40(0x25c)]['x'],state['field'][_0x509e40(0x255)],state['p2'][_0x509e40(0x1c4)]));if(state[_0x509e40(0x233)]==='online_host')broadcast({'type':'state','event':_0x509e40(0x1ff),'scorer':_0x2debac});state['p1'][_0x509e40(0x1ff)]>=CONFIG[_0x509e40(0x203)]||state['p2'][_0x509e40(0x1ff)]>=CONFIG['winningScore']?endGame(_0x2debac===0x1):resetPositions();}function broadcast(_0x1618d7){const _0x2ba74c=a0_0x127132;conn&&conn['open']&&conn['send']({..._0x1618d7,'p1':{'x':state['p1']['x'],'y':state['p1']['y']},'p2':{'x':state['p2']['x'],'y':state['p2']['y']},'puck':{'x':state[_0x2ba74c(0x25c)]['x'],'y':state['puck']['y'],'vx':state[_0x2ba74c(0x25c)]['vx'],'vy':state[_0x2ba74c(0x25c)]['vy']},'scores':{'p1':state['p1']['score'],'p2':state['p2'][_0x2ba74c(0x1ff)]}});}function stopGame(){const _0x2b4b0e=a0_0x127132;state[_0x2b4b0e(0x239)]=![],state[_0x2b4b0e(0x1a3)]=![],document[_0x2b4b0e(0x1e2)]('main-menu')[_0x2b4b0e(0x266)][_0x2b4b0e(0x224)](_0x2b4b0e(0x1e7)),document[_0x2b4b0e(0x1e2)]('game-ui')[_0x2b4b0e(0x266)][_0x2b4b0e(0x1a8)](_0x2b4b0e(0x1e7)),document[_0x2b4b0e(0x1e2)](_0x2b4b0e(0x259))['classList'][_0x2b4b0e(0x1a8)](_0x2b4b0e(0x1e7)),showMainMenu();}function endGame(_0x279f28){const _0x2c23f3=a0_0x127132;state[_0x2c23f3(0x239)]=![];state[_0x2c23f3(0x233)]==='online_host'&&broadcast({'type':'game_over','p1Won':_0x279f28});const _0xef81d5=document[_0x2c23f3(0x1e2)](_0x2c23f3(0x24d)),_0x5574d1=document['getElementById'](_0x2c23f3(0x26c)),_0x934e68=document[_0x2c23f3(0x1e2)](_0x2c23f3(0x22e)),_0x12d4b7=state[_0x2c23f3(0x233)]!==_0x2c23f3(0x1f6),_0x5a3d7d=_0x12d4b7?_0x279f28:!_0x279f28;_0x5574d1[_0x2c23f3(0x243)]=_0x5a3d7d?_0x2c23f3(0x1e5):_0x2c23f3(0x1ec),_0x5574d1[_0x2c23f3(0x1b7)][_0x2c23f3(0x1c4)]=_0x5a3d7d?_0x2c23f3(0x250):'#ff3366',_0x934e68[_0x2c23f3(0x243)]=state['p1'][_0x2c23f3(0x1ff)]+_0x2c23f3(0x263)+state['p2'][_0x2c23f3(0x1ff)];if(_0x5a3d7d){let _0x1bb767=parseInt(localStorage[_0x2c23f3(0x269)]('tron_hockey_wins')||'0');_0x1bb767++,localStorage['setItem']('tron_hockey_wins',_0x1bb767),updateHighScoreDisplay();}const _0x230edb=document[_0x2c23f3(0x1e2)](_0x2c23f3(0x19e));_0x230edb&&(state[_0x2c23f3(0x233)]===_0x2c23f3(0x1d2)||state[_0x2c23f3(0x233)]===_0x2c23f3(0x1f6)?(_0x230edb[_0x2c23f3(0x243)]=_0x2c23f3(0x23a),_0x230edb['onclick']=()=>quitLobby()):(_0x230edb[_0x2c23f3(0x243)]='MAIN\x20MENU',_0x230edb['onclick']=()=>returnToMenu())),_0xef81d5[_0x2c23f3(0x266)][_0x2c23f3(0x224)]('hidden'),document[_0x2c23f3(0x1e2)](_0x2c23f3(0x19b))[_0x2c23f3(0x266)][_0x2c23f3(0x1a8)](_0x2c23f3(0x1e7));}window[a0_0x127132(0x215)]=()=>{const _0x51e23b=a0_0x127132;conn&&(conn['close'](),conn=null),localStorage[_0x51e23b(0x209)](_0x51e23b(0x1ad)),state['running']=![],window['location'][_0x51e23b(0x1c5)]=window[_0x51e23b(0x1cf)]['pathname'];},window[a0_0x127132(0x1ae)]=()=>{const _0x222cf3=a0_0x127132;document[_0x222cf3(0x1e2)](_0x222cf3(0x24d))[_0x222cf3(0x266)][_0x222cf3(0x1a8)](_0x222cf3(0x1e7)),document[_0x222cf3(0x1e2)](_0x222cf3(0x213))[_0x222cf3(0x266)][_0x222cf3(0x224)]('hidden');},window[a0_0x127132(0x253)]=()=>{const _0x586f02=a0_0x127132;state[_0x586f02(0x1a3)]=!state[_0x586f02(0x1a3)];const _0x193ca0=document[_0x586f02(0x1e2)](_0x586f02(0x259)),_0x310634=document[_0x586f02(0x1e2)](_0x586f02(0x1f8)),_0xe6ae9e=document[_0x586f02(0x1e2)](_0x586f02(0x25e)),_0x1dc345=document['getElementById'](_0x586f02(0x252));if(state['paused']){if(_0x310634)_0x310634[_0x586f02(0x243)]=_0x586f02(0x1ea);if(_0xe6ae9e)_0xe6ae9e[_0x586f02(0x1b7)]['display']=_0x586f02(0x20e);_0x1dc345&&(state[_0x586f02(0x233)]===_0x586f02(0x1d2)||state[_0x586f02(0x233)]===_0x586f02(0x1f6)?(_0x1dc345['textContent']=_0x586f02(0x23a),_0x1dc345[_0x586f02(0x1df)]=()=>quitLobby()):(_0x1dc345['textContent']=_0x586f02(0x21e),_0x1dc345['onclick']=()=>stopGame())),_0x193ca0['classList']['remove'](_0x586f02(0x1e7));}else _0x193ca0['classList'][_0x586f02(0x1a8)]('hidden');},window[a0_0x127132(0x1a9)]=()=>{const _0x367e4d=a0_0x127132;document['getElementById'](_0x367e4d(0x24d))[_0x367e4d(0x266)]['add'](_0x367e4d(0x1e7)),startGame(state[_0x367e4d(0x233)]);};function updateHighScoreDisplay(){const _0x4b65d0=a0_0x127132,_0x5095da=localStorage[_0x4b65d0(0x269)](_0x4b65d0(0x251))||'0',_0x386a7f=document[_0x4b65d0(0x1e2)](_0x4b65d0(0x1d7));if(_0x386a7f)_0x386a7f[_0x4b65d0(0x243)]='WINS:\x20'+_0x5095da;}function checkPaddleCollision(_0x3641ac){const _0x1deba8=a0_0x127132,_0x2c9c1d=state[_0x1deba8(0x25c)]['x']-_0x3641ac['x'],_0x546171=state[_0x1deba8(0x25c)]['y']-_0x3641ac['y'],_0x2f2358=Math[_0x1deba8(0x1e8)](_0x2c9c1d*_0x2c9c1d+_0x546171*_0x546171),_0x2e6ad9=state[_0x1deba8(0x25c)][_0x1deba8(0x235)]+_0x3641ac['radius'];if(_0x2f2358<_0x2e6ad9){const _0x3e91cb=Math[_0x1deba8(0x1fa)](_0x546171,_0x2c9c1d),_0x18effd=_0x2e6ad9-_0x2f2358;state[_0x1deba8(0x25c)]['x']+=Math[_0x1deba8(0x1cd)](_0x3e91cb)*_0x18effd,state[_0x1deba8(0x25c)]['y']+=Math['sin'](_0x3e91cb)*_0x18effd;const _0xbda01f=Math['cos'](_0x3e91cb),_0x22a67f=Math[_0x1deba8(0x1fb)](_0x3e91cb),_0x17bd52=state[_0x1deba8(0x25c)]['vx']*_0xbda01f+state[_0x1deba8(0x25c)]['vy']*_0x22a67f;state[_0x1deba8(0x25c)]['vx']=state[_0x1deba8(0x25c)]['vx']-0x2*_0x17bd52*_0xbda01f,state[_0x1deba8(0x25c)]['vy']=state[_0x1deba8(0x25c)]['vy']-0x2*_0x17bd52*_0x22a67f;const _0x403ca3=Math[_0x1deba8(0x1e8)](_0x3641ac['vx']**0x2+_0x3641ac['vy']**0x2);_0x403ca3>0.1?(state[_0x1deba8(0x25c)]['vx']+=_0x3641ac['vx']*1.5,state[_0x1deba8(0x25c)]['vy']+=_0x3641ac['vy']*1.5):(state[_0x1deba8(0x25c)]['vx']*=0.8,state[_0x1deba8(0x25c)]['vy']*=0.8);const _0x586352=Math[_0x1deba8(0x1e8)](state[_0x1deba8(0x25c)]['vx']**0x2+state['puck']['vy']**0x2);_0x586352>state[_0x1deba8(0x25c)][_0x1deba8(0x197)]&&(state['puck']['vx']=state[_0x1deba8(0x25c)]['vx']/_0x586352*state[_0x1deba8(0x25c)][_0x1deba8(0x197)],state[_0x1deba8(0x25c)]['vy']=state[_0x1deba8(0x25c)]['vy']/_0x586352*state['puck']['maxSpeed']),playSound(_0x1deba8(0x1f0));}}function viewX(_0x295dcc){const _0x15e73c=a0_0x127132;if(state[_0x15e73c(0x240)])return state[_0x15e73c(0x1fe)][_0x15e73c(0x234)]-_0x295dcc;return _0x295dcc;}function viewY(_0x390390){const _0x3a52bf=a0_0x127132;if(state[_0x3a52bf(0x240)])return state[_0x3a52bf(0x1fe)][_0x3a52bf(0x255)]-_0x390390;return _0x390390;}window['toggleFlip']=()=>{const _0x2047fd=a0_0x127132;state['flipped']=!state[_0x2047fd(0x240)];};function draw(){const _0x1be1da=a0_0x127132;ctx[_0x1be1da(0x1bc)](0x0,0x0,canvas[_0x1be1da(0x234)],canvas[_0x1be1da(0x255)]);const _0x18ed05=canvas[_0x1be1da(0x234)],_0x4e8fbb=canvas[_0x1be1da(0x255)];state[_0x1be1da(0x233)]===_0x1be1da(0x1f6)&&state[_0x1be1da(0x240)]===undefined&&(state['flipped']=!![]);const _0x157b0c=_0x4e8fbb/0x2;drawGrid(_0x18ed05,_0x4e8fbb),ctx[_0x1be1da(0x221)]=0x3,ctx['strokeStyle']=_0x1be1da(0x1f1),ctx[_0x1be1da(0x23e)](),ctx[_0x1be1da(0x22b)](0x0,_0x157b0c-0x6),ctx[_0x1be1da(0x246)](_0x18ed05,_0x157b0c-0x6),ctx[_0x1be1da(0x25b)](),ctx[_0x1be1da(0x23e)](),ctx[_0x1be1da(0x22b)](0x0,_0x157b0c+0x6),ctx[_0x1be1da(0x246)](_0x18ed05,_0x157b0c+0x6),ctx[_0x1be1da(0x25b)](),ctx['strokeStyle']='rgba(0,\x20255,\x20255,\x200.3)',ctx['shadowBlur']=0xa,ctx['shadowColor']='#00ffff',ctx[_0x1be1da(0x23e)](),ctx[_0x1be1da(0x1f4)](_0x18ed05/0x2,_0x157b0c,_0x18ed05*0.22,0x0,Math['PI']*0x2),ctx[_0x1be1da(0x25b)](),ctx[_0x1be1da(0x23e)](),ctx[_0x1be1da(0x1f4)](_0x18ed05/0x2,_0x157b0c,_0x18ed05*0.18,0x0,Math['PI']*0x2),ctx[_0x1be1da(0x26e)]=_0x1be1da(0x21c),ctx[_0x1be1da(0x25b)]();const _0x378799=_0x18ed05*0.3;ctx[_0x1be1da(0x229)]=0xf,ctx['shadowColor']=state['p2']['color'],ctx['strokeStyle']=state['p2']['color'],ctx['lineWidth']=0x4,ctx[_0x1be1da(0x23e)]();const _0x43c167=state[_0x1be1da(0x240)],_0x23678d=_0x43c167?state['p1'][_0x1be1da(0x1c4)]:state['p2']['color'],_0x25d854=_0x43c167?state['p2'][_0x1be1da(0x1c4)]:state['p1']['color'];ctx[_0x1be1da(0x22c)]=_0x23678d,ctx[_0x1be1da(0x26e)]=_0x23678d,ctx[_0x1be1da(0x23e)](),ctx['arc'](_0x18ed05/0x2,-0x3c,_0x378799,0x0,Math['PI'],![]),ctx['stroke'](),ctx[_0x1be1da(0x22c)]=_0x25d854,ctx[_0x1be1da(0x26e)]=_0x25d854,ctx[_0x1be1da(0x23e)](),ctx['arc'](_0x18ed05/0x2,_0x4e8fbb+0x3c,_0x378799,Math['PI'],0x0,![]),ctx['stroke'](),ctx['shadowBlur']=0x0,ctx[_0x1be1da(0x225)]=_0x1be1da(0x26a);const _0x50b394=_0x4e8fbb*0.08;ctx[_0x1be1da(0x1b1)]=_0x1be1da(0x26d)+_0x50b394+'px\x20sans-serif';const _0x436da2=(_0x257629,_0x1463f2,_0x4ed8f8,_0x37aedc,_0x11825d)=>{const _0x3b019b=_0x1be1da;ctx['textBaseline']=_0x11825d,ctx[_0x3b019b(0x19d)]=_0x3b019b(0x1eb),ctx['miterLimit']=0x2,ctx[_0x3b019b(0x26e)]=_0x37aedc,ctx[_0x3b019b(0x221)]=0x4,ctx['textAlign']='right',ctx[_0x3b019b(0x260)](_0x257629,_0x1463f2,_0x4ed8f8);},_0x7112f7=_0x43c167?state['p1'][_0x1be1da(0x1ff)]:state['p2'][_0x1be1da(0x1ff)],_0x42a28d=_0x43c167?state['p2'][_0x1be1da(0x1ff)]:state['p1'][_0x1be1da(0x1ff)];_0x436da2(_0x7112f7[_0x1be1da(0x1ef)](),_0x18ed05-0x19,0x19,_0x23678d,_0x1be1da(0x26a)),_0x436da2(_0x42a28d[_0x1be1da(0x1ef)](),_0x18ed05-0x19,_0x4e8fbb-0x19,_0x25d854,_0x1be1da(0x219)),drawPaddle(state['p1']),drawPaddle(state['p2']),drawPuck(state[_0x1be1da(0x25c)]),state['particles'][_0x1be1da(0x1c7)](_0x3d6731=>{const _0x19aa5b=_0x1be1da;ctx[_0x19aa5b(0x216)]=_0x3d6731[_0x19aa5b(0x1f5)]>0x0?_0x3d6731[_0x19aa5b(0x1f5)]:0x0,ctx[_0x19aa5b(0x274)]=_0x3d6731[_0x19aa5b(0x1c4)],ctx[_0x19aa5b(0x23e)](),ctx[_0x19aa5b(0x1f4)](viewX(_0x3d6731['x']),viewY(_0x3d6731['y']),0x4,0x0,Math['PI']*0x2),ctx[_0x19aa5b(0x1d6)](),ctx[_0x19aa5b(0x216)]=0x1;}),requestAnimationFrame(draw);}function drawGrid(_0x5e4456,_0x1d6ebd){const _0xafa570=a0_0x127132,_0x5b2a77=0x5,_0x27885f=0x9,_0x345568=_0x5e4456/_0x5b2a77,_0x152c8e=_0x1d6ebd/_0x27885f,_0x32e58c=0x5;ctx[_0xafa570(0x26e)]='#103035',ctx[_0xafa570(0x221)]=0x2,ctx[_0xafa570(0x229)]=0x0;for(let _0xa4ba0d=0x0;_0xa4ba0d<_0x27885f;_0xa4ba0d++){for(let _0x363a1a=0x0;_0x363a1a<_0x5b2a77;_0x363a1a++){const _0x520a5a=_0x363a1a*_0x345568+_0x32e58c,_0x47ea50=_0xa4ba0d*_0x152c8e+_0x32e58c,_0x2ceba2=_0x345568-_0x32e58c*0x2,_0x20c7f7=_0x152c8e-_0x32e58c*0x2;ctx[_0xafa570(0x23e)](),ctx[_0xafa570(0x22d)](_0x520a5a,_0x47ea50,_0x2ceba2,_0x20c7f7,0xc),ctx[_0xafa570(0x25b)]();}}}function drawPaddle(_0xe2e51b){const _0x3221c5=a0_0x127132,_0x52b312=viewX(_0xe2e51b['x']),_0x500439=viewY(_0xe2e51b['y']),_0x25ecf9=_0xe2e51b[_0x3221c5(0x235)],_0x47eb5a=_0xe2e51b['color'];ctx[_0x3221c5(0x229)]=0xf,ctx[_0x3221c5(0x22c)]=_0x47eb5a,_0x47eb5a==='#ffffff'?(ctx[_0x3221c5(0x221)]=0x5,ctx[_0x3221c5(0x26e)]=_0x3221c5(0x1ab),ctx[_0x3221c5(0x23e)](),ctx[_0x3221c5(0x1f4)](_0x52b312,_0x500439,_0x25ecf9,0x0,Math['PI']*0x2),ctx['stroke'](),ctx['lineWidth']=0x2,ctx[_0x3221c5(0x26e)]='#555',ctx[_0x3221c5(0x23e)](),ctx['arc'](_0x52b312,_0x500439,Math[_0x3221c5(0x1f7)](0x0,_0x25ecf9-0x6),0x0,Math['PI']*0x2),ctx[_0x3221c5(0x25b)]()):(ctx[_0x3221c5(0x221)]=0x4,ctx[_0x3221c5(0x26e)]=_0x47eb5a,ctx[_0x3221c5(0x23e)](),ctx[_0x3221c5(0x1f4)](_0x52b312,_0x500439,_0x25ecf9,0x0,Math['PI']*0x2),ctx['stroke'](),ctx[_0x3221c5(0x23e)](),ctx[_0x3221c5(0x1f4)](_0x52b312,_0x500439,Math['max'](0x0,_0x25ecf9-0x8),0x0,Math['PI']*0x2),ctx[_0x3221c5(0x25b)]()),ctx[_0x3221c5(0x229)]=0x0;}function a0_0x4bb1(_0xc39499,_0x26dafb){_0xc39499=_0xc39499-0x197;const _0x55dcc0=a0_0x55dc();let _0x4bb1a1=_0x55dcc0[_0xc39499];return _0x4bb1a1;}function drawPuck(_0xc970cd){const _0x58755c=a0_0x127132,_0x6e684=viewX(_0xc970cd['x']),_0xd6aebe=viewY(_0xc970cd['y']),_0xe3f29b=_0xc970cd[_0x58755c(0x235)];ctx[_0x58755c(0x229)]=0xf,ctx[_0x58755c(0x22c)]=_0x58755c(0x250),ctx[_0x58755c(0x26e)]=_0x58755c(0x250),ctx[_0x58755c(0x221)]=0x5,ctx[_0x58755c(0x23e)](),ctx[_0x58755c(0x1f4)](_0x6e684,_0xd6aebe,_0xe3f29b,Math['PI'],1.5*Math['PI']-0.5),ctx[_0x58755c(0x25b)](),ctx[_0x58755c(0x23e)](),ctx[_0x58755c(0x1f4)](_0x6e684,_0xd6aebe,_0xe3f29b,1.5*Math['PI']+0.5,0x0),ctx['stroke'](),ctx['beginPath'](),ctx[_0x58755c(0x1f4)](_0x6e684,_0xd6aebe,_0xe3f29b,0x0+0.5,0.5*Math['PI']),ctx[_0x58755c(0x25b)](),ctx[_0x58755c(0x23e)](),ctx['arc'](_0x6e684,_0xd6aebe,_0xe3f29b,0.5*Math['PI']+0.5,Math['PI']),ctx['stroke'](),ctx[_0x58755c(0x221)]=0x3,ctx[_0x58755c(0x23e)]();const _0x58c2b6=0x6;ctx['moveTo'](_0x6e684,_0xd6aebe-_0xe3f29b+_0x58c2b6),ctx['lineTo'](_0x6e684,_0xd6aebe-_0xe3f29b-0x4),ctx[_0x58755c(0x22b)](_0x6e684,_0xd6aebe+_0xe3f29b-_0x58c2b6),ctx[_0x58755c(0x246)](_0x6e684,_0xd6aebe+_0xe3f29b+0x4),ctx[_0x58755c(0x22b)](_0x6e684-_0xe3f29b+_0x58c2b6,_0xd6aebe),ctx['lineTo'](_0x6e684-_0xe3f29b-0x4,_0xd6aebe),ctx[_0x58755c(0x22b)](_0x6e684+_0xe3f29b+_0x58c2b6,_0xd6aebe),ctx['lineTo'](_0x6e684+_0xe3f29b+0x4,_0xd6aebe),ctx[_0x58755c(0x25b)](),ctx['shadowColor']='#ffcc00',ctx['strokeStyle']=_0x58755c(0x1a5),ctx[_0x58755c(0x221)]=0x4,ctx['beginPath'](),ctx[_0x58755c(0x1f4)](_0x6e684,_0xd6aebe,_0xe3f29b*0.5,0x0,Math['PI']*0x2),ctx['stroke'](),ctx['shadowBlur']=0x0;}function handleInput(_0x5923c0,_0x5d1354,_0x489b85){const _0x1cddc4=a0_0x127132;if(!state['running'])return;let _0x358e84;if(state['mode']===_0x1cddc4(0x1f6))_0x358e84=state['p2'];else state[_0x1cddc4(0x233)]===_0x1cddc4(0x1d2)||state[_0x1cddc4(0x233)]===_0x1cddc4(0x25f)?_0x358e84=state['p1']:_0x358e84=_0x489b85?state['p1']:state['p2'];const _0x5958ed=_0x358e84===state['p1'],_0x215f2c=_0x5958ed?state[_0x1cddc4(0x1fe)]['height']/0x2+_0x358e84[_0x1cddc4(0x235)]:_0x358e84[_0x1cddc4(0x235)],_0xc6541=_0x5958ed?state['field']['height']-_0x358e84[_0x1cddc4(0x235)]:state[_0x1cddc4(0x1fe)]['height']/0x2-_0x358e84[_0x1cddc4(0x235)];_0x358e84['x']=Math[_0x1cddc4(0x1f7)](_0x358e84[_0x1cddc4(0x235)],Math['min'](state[_0x1cddc4(0x1fe)]['width']-_0x358e84[_0x1cddc4(0x235)],_0x5923c0)),_0x358e84['y']=Math['max'](_0x215f2c,Math[_0x1cddc4(0x1d9)](_0xc6541,_0x5d1354));}canvas[a0_0x127132(0x231)]('pointermove',_0xd93081=>{const _0x2ed51a=a0_0x127132;_0xd93081['preventDefault']();if(state[_0x2ed51a(0x1a3)])return;const _0x27dd42=canvas[_0x2ed51a(0x19f)]();let _0x21f155=_0xd93081['clientX']-_0x27dd42[_0x2ed51a(0x1b5)],_0x451f9f=_0xd93081[_0x2ed51a(0x20d)]-_0x27dd42[_0x2ed51a(0x26a)];state[_0x2ed51a(0x240)]&&(_0x21f155=state[_0x2ed51a(0x1fe)][_0x2ed51a(0x234)]-_0x21f155,_0x451f9f=state[_0x2ed51a(0x1fe)]['height']-_0x451f9f),handleInput(_0x21f155,_0x451f9f,!![]);}),canvas['addEventListener']('touchmove',_0x263a49=>{const _0x4afd62=a0_0x127132;_0x263a49[_0x4afd62(0x1cc)]();if(state[_0x4afd62(0x1a3)])return;const _0x301572=canvas[_0x4afd62(0x19f)]();for(let _0x19221b=0x0;_0x19221b<_0x263a49['touches']['length'];_0x19221b++){const _0xd2c18=_0x263a49[_0x4afd62(0x1a1)][_0x19221b];let _0x20d65a=_0xd2c18[_0x4afd62(0x228)]-_0x301572['left'],_0x95c540=_0xd2c18[_0x4afd62(0x20d)]-_0x301572[_0x4afd62(0x26a)];state[_0x4afd62(0x240)]&&(_0x20d65a=state[_0x4afd62(0x1fe)]['width']-_0x20d65a,_0x95c540=state[_0x4afd62(0x1fe)][_0x4afd62(0x255)]-_0x95c540);if(state[_0x4afd62(0x233)]===_0x4afd62(0x1b3)){if(_0x95c540>state[_0x4afd62(0x1fe)][_0x4afd62(0x255)]/0x2)handleInput(_0x20d65a,_0x95c540,!![]);else handleInput(_0x20d65a,_0x95c540,![]);}else handleInput(_0x20d65a,_0x95c540,!![]);}},{'passive':![]});const updateLoop=setInterval(update,0x3e8/0x3c);requestAnimationFrame(draw),window[a0_0x127132(0x1b6)]=_0x1ad26c=>{const _0x4a246d=a0_0x127132;state[_0x4a246d(0x233)]=_0x1ad26c,state[_0x4a246d(0x254)]=document[_0x4a246d(0x1e2)]('difficulty-select')['value'],state[_0x4a246d(0x239)]=!![],state['p1']['score']=0x0,state['p2']['score']=0x0,resize(),resetPositions(),document[_0x4a246d(0x1e2)](_0x4a246d(0x213))['classList'][_0x4a246d(0x1a8)](_0x4a246d(0x1e7)),document[_0x4a246d(0x1e2)](_0x4a246d(0x19b))[_0x4a246d(0x266)][_0x4a246d(0x224)]('hidden');if(audioCtx[_0x4a246d(0x23f)]==='suspended')audioCtx[_0x4a246d(0x19a)]();};let deferredPrompt;window[a0_0x127132(0x231)](a0_0x127132(0x273),_0x543aa1=>{const _0x32e645=a0_0x127132;_0x543aa1['preventDefault'](),deferredPrompt=_0x543aa1,document['getElementById'](_0x32e645(0x198))['classList'][_0x32e645(0x224)](_0x32e645(0x1e7));}),document['getElementById'](a0_0x127132(0x226))[a0_0x127132(0x231)](a0_0x127132(0x1a4),async()=>{const _0xc6b164=a0_0x127132;if(deferredPrompt){deferredPrompt[_0xc6b164(0x1e9)]();const {outcome:_0x15d883}=await deferredPrompt[_0xc6b164(0x21a)];console[_0xc6b164(0x258)](_0xc6b164(0x202)+_0x15d883),deferredPrompt=null,document[_0xc6b164(0x1e2)](_0xc6b164(0x198))[_0xc6b164(0x266)][_0xc6b164(0x1a8)](_0xc6b164(0x1e7));}}),window['updateApp']=()=>{const _0x5d7fd5=a0_0x127132;if(!navigator[_0x5d7fd5(0x278)]){document[_0x5d7fd5(0x1e2)]('offline-modal')[_0x5d7fd5(0x266)][_0x5d7fd5(0x224)](_0x5d7fd5(0x1e7));return;}document[_0x5d7fd5(0x1e2)](_0x5d7fd5(0x1b8))['classList'][_0x5d7fd5(0x224)](_0x5d7fd5(0x1e7));},window[a0_0x127132(0x1d3)]=async()=>{const _0x118bd2=a0_0x127132;document['getElementById'](_0x118bd2(0x1b8))[_0x118bd2(0x266)][_0x118bd2(0x1a8)](_0x118bd2(0x1e7));if(_0x118bd2(0x1a0)in navigator){const _0x1b884f=await navigator[_0x118bd2(0x1a0)][_0x118bd2(0x1be)]();for(let _0x441179 of _0x1b884f){await _0x441179[_0x118bd2(0x1d4)]();}}if(_0x118bd2(0x1a6)in window){const _0x1cae74=await caches[_0x118bd2(0x21f)]();await Promise['all'](_0x1cae74[_0x118bd2(0x248)](_0x370d76=>caches[_0x118bd2(0x271)](_0x370d76)));}window[_0x118bd2(0x1cf)][_0x118bd2(0x223)](!![]);},window['selectDiff']=(_0x101d1c,_0x1266c2)=>{const _0x1148a4=a0_0x127132;document[_0x1148a4(0x1e2)]('difficulty-select')['value']=_0x101d1c;const _0x488bd1=document[_0x1148a4(0x24c)](_0x1148a4(0x1bf));_0x488bd1[_0x1148a4(0x1c7)](_0x32eb9e=>_0x32eb9e[_0x1148a4(0x266)][_0x1148a4(0x224)](_0x1148a4(0x200))),_0x1266c2[_0x1148a4(0x266)]['add']('active');},window[a0_0x127132(0x231)](a0_0x127132(0x244),resize),setTimeout(()=>{resize(),resetPositions(),updateHighScoreDisplay();},0x64);