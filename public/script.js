const a0_0x5c7e84=a0_0x34d1;(function(_0x2b5355,_0x10b398){const _0x5ef357=a0_0x34d1,_0x4e51d4=_0x2b5355();while(!![]){try{const _0x33bb0e=-parseInt(_0x5ef357(0xb7))/0x1+parseInt(_0x5ef357(0x113))/0x2*(-parseInt(_0x5ef357(0xb2))/0x3)+-parseInt(_0x5ef357(0x129))/0x4+-parseInt(_0x5ef357(0x112))/0x5*(-parseInt(_0x5ef357(0x14c))/0x6)+parseInt(_0x5ef357(0x10a))/0x7+parseInt(_0x5ef357(0xe2))/0x8*(-parseInt(_0x5ef357(0x12d))/0x9)+-parseInt(_0x5ef357(0xf8))/0xa*(-parseInt(_0x5ef357(0xb4))/0xb);if(_0x33bb0e===_0x10b398)break;else _0x4e51d4['push'](_0x4e51d4['shift']());}catch(_0x4c07ce){_0x4e51d4['push'](_0x4e51d4['shift']());}}}(a0_0x4db1,0x91d44));const canvas=document[a0_0x5c7e84(0x11f)]('gameCanvas'),ctx=canvas[a0_0x5c7e84(0xd1)]('2d'),state={'running':![],'paused':![],'mode':a0_0x5c7e84(0x110),'difficulty':a0_0x5c7e84(0xe9),'p1':{'score':0x0,'x':0x0,'y':0x0,'prevX':0x0,'prevY':0x0,'vx':0x0,'vy':0x0,'radius':0x0,'color':a0_0x5c7e84(0x116)},'p2':{'score':0x0,'x':0x0,'y':0x0,'prevX':0x0,'prevY':0x0,'vx':0x0,'vy':0x0,'radius':0x0,'color':a0_0x5c7e84(0xcd)},'puck':{'x':0x0,'y':0x0,'vx':0x0,'vy':0x0,'radius':0x0,'speed':0x0,'maxSpeed':0x0},'field':{'width':0x0,'height':0x0},'particles':[]},CONFIG={'friction':0.992,'wallBounce':0.9,'puckMaxSpeedMultiplier':0.04,'paddleRadiusRatio':0.08,'puckRadiusRatio':0.04,'winningScore':0x7},DIFFICULTIES={'medium':{'speed':0.09,'reaction':0.1,'error':0x1e},'difficult':{'speed':0.15,'reaction':0.05,'error':0xa},'insane':{'speed':0.35,'reaction':0.01,'error':0x0}},AudioContext=window['AudioContext']||window[a0_0x5c7e84(0xaf)],audioCtx=new AudioContext();function playSound(_0x1c5fcb){const _0x13212f=a0_0x5c7e84;if(audioCtx[_0x13212f(0x118)]===_0x13212f(0xc2))audioCtx[_0x13212f(0xd9)]();const _0xccc48a=audioCtx[_0x13212f(0xd6)](),_0x3c3839=audioCtx['createGain']();_0xccc48a[_0x13212f(0x117)](_0x3c3839),_0x3c3839[_0x13212f(0x117)](audioCtx[_0x13212f(0xbb)]);const _0x4461d3=audioCtx[_0x13212f(0xeb)];if(_0x1c5fcb===_0x13212f(0xde))_0xccc48a[_0x13212f(0xe7)][_0x13212f(0x100)](0x190,_0x4461d3),_0xccc48a[_0x13212f(0xe7)][_0x13212f(0xdc)](0x64,_0x4461d3+0.1),_0x3c3839[_0x13212f(0x134)][_0x13212f(0x100)](0.3,_0x4461d3),_0x3c3839[_0x13212f(0x134)][_0x13212f(0xdc)](0.01,_0x4461d3+0.1),_0xccc48a[_0x13212f(0xee)](_0x4461d3),_0xccc48a[_0x13212f(0x103)](_0x4461d3+0.1);else{if(_0x1c5fcb==='wall')_0xccc48a[_0x13212f(0xe7)][_0x13212f(0x100)](0xc8,_0x4461d3),_0xccc48a[_0x13212f(0xe7)][_0x13212f(0xdc)](0x32,_0x4461d3+0.1),_0x3c3839[_0x13212f(0x134)][_0x13212f(0x100)](0.2,_0x4461d3),_0x3c3839[_0x13212f(0x134)][_0x13212f(0xdc)](0.01,_0x4461d3+0.1),_0xccc48a[_0x13212f(0xee)](_0x4461d3),_0xccc48a[_0x13212f(0x103)](_0x4461d3+0.1);else _0x1c5fcb==='score'&&(_0xccc48a['type']='square',_0xccc48a[_0x13212f(0xe7)][_0x13212f(0x100)](0x258,_0x4461d3),_0xccc48a['frequency']['setValueAtTime'](0x320,_0x4461d3+0.1),_0xccc48a[_0x13212f(0xe7)]['setValueAtTime'](0x190,_0x4461d3+0.2),_0x3c3839['gain'][_0x13212f(0x100)](0.3,_0x4461d3),_0x3c3839['gain']['exponentialRampToValueAtTime'](0.01,_0x4461d3+0.6),_0xccc48a['start'](_0x4461d3),_0xccc48a[_0x13212f(0x103)](_0x4461d3+0.6));}}function resize(){const _0x66efb3=a0_0x5c7e84,_0x5579d9=document[_0x66efb3(0x11f)]('game-container'),_0x53d8cb=canvas['width']||0xa,_0xb61935=canvas[_0x66efb3(0x120)]||0xa;canvas[_0x66efb3(0xc9)]=_0x5579d9[_0x66efb3(0x15c)]||window[_0x66efb3(0x142)],canvas['height']=_0x5579d9['clientHeight']||window[_0x66efb3(0x168)];const _0x5f304d=canvas[_0x66efb3(0xc9)]/_0x53d8cb,_0x34de32=canvas[_0x66efb3(0x120)]/_0xb61935;state[_0x66efb3(0xfe)][_0x66efb3(0xc9)]=canvas[_0x66efb3(0xc9)],state[_0x66efb3(0xfe)][_0x66efb3(0x120)]=canvas[_0x66efb3(0x120)];const _0x1ff8dc=Math[_0x66efb3(0xf4)](canvas['width'],canvas[_0x66efb3(0x120)]);state['p1'][_0x66efb3(0x164)]=_0x1ff8dc*CONFIG[_0x66efb3(0x131)],state['p2'][_0x66efb3(0x164)]=_0x1ff8dc*CONFIG[_0x66efb3(0x131)],state[_0x66efb3(0x14b)][_0x66efb3(0x164)]=_0x1ff8dc*CONFIG['puckRadiusRatio'],state[_0x66efb3(0x14b)][_0x66efb3(0xe3)]=canvas[_0x66efb3(0x120)]*CONFIG['puckMaxSpeedMultiplier'],state[_0x66efb3(0x152)]&&_0x53d8cb>0xa?(state['p1']['x']*=_0x5f304d,state['p1']['y']*=_0x34de32,state['p1'][_0x66efb3(0x153)]*=_0x5f304d,state['p1'][_0x66efb3(0xfb)]*=_0x34de32,state['p2']['x']*=_0x5f304d,state['p2']['y']*=_0x34de32,state['p2'][_0x66efb3(0x153)]*=_0x5f304d,state['p2'][_0x66efb3(0xfb)]*=_0x34de32,state[_0x66efb3(0x14b)]['x']*=_0x5f304d,state['puck']['y']*=_0x34de32):resetPositions();}function resetPositions(){const _0x22702a=a0_0x5c7e84;state[_0x22702a(0x14b)]['x']=state[_0x22702a(0xfe)]['width']/0x2,state[_0x22702a(0x14b)]['y']=state[_0x22702a(0xfe)][_0x22702a(0x120)]/0x2,state[_0x22702a(0x14b)]['vx']=0x0,state['puck']['vy']=0x0,state['p1']['x']=state[_0x22702a(0xfe)][_0x22702a(0xc9)]/0x2,state['p1']['y']=state[_0x22702a(0xfe)]['height']-state[_0x22702a(0xfe)][_0x22702a(0x120)]*0.15,state['p1'][_0x22702a(0x153)]=state['p1']['x'],state['p1'][_0x22702a(0xfb)]=state['p1']['y'],state['p2']['x']=state[_0x22702a(0xfe)][_0x22702a(0xc9)]/0x2,state['p2']['y']=state[_0x22702a(0xfe)][_0x22702a(0x120)]*0.15,state['p2'][_0x22702a(0x153)]=state['p2']['x'],state['p2'][_0x22702a(0xfb)]=state['p2']['y'];}function spawnParticles(_0x106316,_0x2fc5a6,_0x47fd8a){const _0x34522d=a0_0x5c7e84;for(let _0x2f6c3e=0x0;_0x2f6c3e<0x28;_0x2f6c3e++){const _0x31a388=Math[_0x34522d(0xef)]()*0xf+0x5,_0x7f9a26=Math[_0x34522d(0xef)]()*Math['PI']*0x2;state[_0x34522d(0x16a)][_0x34522d(0x159)]({'x':_0x106316,'y':_0x2fc5a6,'vx':Math[_0x34522d(0xd2)](_0x7f9a26)*_0x31a388,'vy':Math[_0x34522d(0xdf)](_0x7f9a26)*_0x31a388,'life':0x1,'decay':Math['random']()*0.03+0.01,'color':_0x47fd8a});}for(let _0xf50669=0x0;_0xf50669<0x14;_0xf50669++){const _0x4cbfc0=Math['PI']*0x2*_0xf50669/0x14;state[_0x34522d(0x16a)][_0x34522d(0x159)]({'x':_0x106316,'y':_0x2fc5a6,'vx':Math['cos'](_0x4cbfc0)*0xa,'vy':Math[_0x34522d(0xdf)](_0x4cbfc0)*0xa,'life':0x1,'decay':0.05,'color':_0x34522d(0xe0)});}}function a0_0x34d1(_0x16bad9,_0x30560d){_0x16bad9=_0x16bad9-0xaf;const _0x4db137=a0_0x4db1();let _0x34d158=_0x4db137[_0x16bad9];return _0x34d158;}function predictPuckX(_0x4ac4c9,_0x254c86,_0x1107fa){if(_0x4ac4c9['vy']===0x0)return _0x4ac4c9['x'];const _0x1800a5=(_0x254c86-_0x4ac4c9['y'])/_0x4ac4c9['vy'];if(_0x1800a5<0x0)return _0x1107fa/0x2;let _0xab5d19=_0x4ac4c9['x']+_0x4ac4c9['vx']*_0x1800a5;const _0xd16ceb=_0x1107fa;while(_0xab5d19<0x0||_0xab5d19>_0xd16ceb){if(_0xab5d19<0x0)_0xab5d19=-_0xab5d19;else _0xab5d19>_0xd16ceb&&(_0xab5d19=0x2*_0xd16ceb-_0xab5d19);}return _0xab5d19;}let peer=null,conn=null,myPeerId=null,isHost=![];function initPeer(){const _0x4f5b38=a0_0x5c7e84;if(peer)return;document['getElementById'](_0x4f5b38(0x165))[_0x4f5b38(0x10d)]='Initializing...';let _0x579ef3=localStorage[_0x4f5b38(0x12a)](_0x4f5b38(0x115));setupPeer(_0x579ef3);}function setupPeer(_0xf8c94e=null){const _0x181354=a0_0x5c7e84;if(peer)peer['destroy']();const _0xf13e16={'debug':0x1};peer=_0xf8c94e?new Peer(_0xf8c94e,_0xf13e16):new Peer(null,_0xf13e16),peer['on'](_0x181354(0xc6),_0x5819be=>{const _0x1bf3b6=_0x181354;myPeerId=_0x5819be,localStorage[_0x1bf3b6(0xba)](_0x1bf3b6(0x115),_0x5819be);const _0x54d346=document['getElementById'](_0x1bf3b6(0x13b));if(_0x54d346)_0x54d346[_0x1bf3b6(0x141)]=_0x5819be;const _0x3029f1=document['getElementById'](_0x1bf3b6(0x165));if(_0x3029f1)_0x3029f1[_0x1bf3b6(0x10d)]=_0x1bf3b6(0x106);const _0x17de98=new URLSearchParams(window['location'][_0x1bf3b6(0x149)]);let _0x38ebad=_0x17de98[_0x1bf3b6(0x130)]('game');if(_0x38ebad&&!state['running']){if(_0x38ebad===myPeerId){console[_0x1bf3b6(0x13d)](_0x1bf3b6(0x156));return;}_0x38ebad['includes'](_0x1bf3b6(0xc1))&&(_0x38ebad=_0x38ebad[_0x1bf3b6(0xf1)](_0x1bf3b6(0xc1))[0x1][_0x1bf3b6(0xf1)]('&')[0x0]),openLobby(),document['getElementById']('connect-id-input')[_0x1bf3b6(0x141)]=_0x38ebad,setTimeout(connectToPeer,0x1f4);}}),peer['on'](_0x181354(0x137),_0x29237b=>{const _0x445a0b=_0x181354;if(_0x29237b[_0x445a0b(0x124)]===_0x445a0b(0x161)){console[_0x445a0b(0xda)](_0x445a0b(0x11a)),setupPeer(null);return;}if(_0x29237b[_0x445a0b(0x124)]===_0x445a0b(0x128)){alert('Host\x20not\x20found!\x20Make\x20sure\x20the\x20Host\x20is\x20online\x20and\x20the\x20ID\x20is\x20correct.'),document['getElementById']('connection-status')['textContent']=_0x445a0b(0xff);if(conn)conn[_0x445a0b(0x135)]();return;}const _0x111d71=document['getElementById'](_0x445a0b(0x10c));if(_0x111d71)_0x111d71[_0x445a0b(0x10d)]=_0x445a0b(0x10f)+_0x29237b[_0x445a0b(0x124)];console[_0x445a0b(0x137)]('PeerJS\x20Error:',_0x29237b);}),peer['on']('connection',_0x1d6ce5=>{const _0x167aa3=_0x181354;if(conn&&conn[_0x167aa3(0xc6)]){_0x1d6ce5[_0x167aa3(0x135)](),console[_0x167aa3(0x13d)](_0x167aa3(0x111));return;}if(conn)conn['close']();conn=_0x1d6ce5,isHost=!![],setupConnection();});}function setupConnection(){const _0x5fc4a1=a0_0x5c7e84;conn[_0x5fc4a1(0x107)](_0x5fc4a1(0xc6)),conn['off'](_0x5fc4a1(0x16b)),conn[_0x5fc4a1(0x107)](_0x5fc4a1(0x135)),conn['on'](_0x5fc4a1(0xc6),()=>{const _0x319d4c=_0x5fc4a1;document[_0x319d4c(0x11f)](_0x319d4c(0x10c))[_0x319d4c(0x10d)]=_0x319d4c(0xfa),document['getElementById'](_0x319d4c(0x10c))[_0x319d4c(0x13c)][_0x319d4c(0x126)]='#0f0',setTimeout(()=>{const _0x3b4c0a=_0x319d4c;document[_0x3b4c0a(0x11f)](_0x3b4c0a(0xbf))[_0x3b4c0a(0x155)][_0x3b4c0a(0x13a)](_0x3b4c0a(0xd4)),startGame(isHost?_0x3b4c0a(0xf7):_0x3b4c0a(0xe8));},0x3e8);}),conn['on'](_0x5fc4a1(0x16b),_0x477ca9=>{handleData(_0x477ca9);}),conn['on']('close',()=>{const _0x1ac889=_0x5fc4a1;stopGame();const _0x2191ee=document[_0x1ac889(0x11f)](_0x1ac889(0x14a)),_0x42e414=document[_0x1ac889(0x11f)](_0x1ac889(0xf2)),_0x2edb8f=document[_0x1ac889(0x11f)](_0x1ac889(0xb3));_0x2191ee&&_0x42e414&&_0x2edb8f?(_0x42e414[_0x1ac889(0x10d)]=_0x1ac889(0xc3),_0x2edb8f[_0x1ac889(0x13c)][_0x1ac889(0xf0)]=_0x1ac889(0xec),_0x2191ee[_0x1ac889(0x155)]['remove']('hidden')):(alert(_0x1ac889(0xc3)),location[_0x1ac889(0x133)]());}),conn['on']('error',_0x58f521=>{const _0x47ef91=_0x5fc4a1;console[_0x47ef91(0x137)]('Connection\x20Error:',_0x58f521);});}function handleData(_0x22e6d1){const _0x591fef=a0_0x5c7e84;if(state['mode']===_0x591fef(0xf7))_0x22e6d1['type']==='input'&&(_0x22e6d1['y']<state[_0x591fef(0xfe)][_0x591fef(0x120)]/0x2&&(state['p2']['x']=_0x22e6d1['x'],state['p2']['y']=_0x22e6d1['y']));else{if(state['mode']===_0x591fef(0xe8)){if(_0x22e6d1[_0x591fef(0x124)]===_0x591fef(0x118)){state['p1']['x']=_0x22e6d1['p1']['x'],state['p1']['y']=_0x22e6d1['p1']['y'],state['p2']['x']=_0x22e6d1['p2']['x'],state['p2']['y']=_0x22e6d1['p2']['y'],state['p1'][_0x591fef(0x125)]=_0x22e6d1[_0x591fef(0xcc)]['p1'],state['p2'][_0x591fef(0x125)]=_0x22e6d1[_0x591fef(0xcc)]['p2'],state[_0x591fef(0x14b)]['x']=_0x22e6d1['puck']['x'],state[_0x591fef(0x14b)]['y']=_0x22e6d1[_0x591fef(0x14b)]['y'],state[_0x591fef(0x14b)]['vx']=_0x22e6d1[_0x591fef(0x14b)]['vx'],state['puck']['vy']=_0x22e6d1[_0x591fef(0x14b)]['vy'];if(_0x22e6d1[_0x591fef(0xe6)]){if(_0x22e6d1['event']===_0x591fef(0x125))handleGoal(_0x22e6d1['scorer'],!![]);else{if(_0x22e6d1[_0x591fef(0xe6)]===_0x591fef(0xde))playSound(_0x591fef(0xde));else _0x22e6d1[_0x591fef(0xe6)]===_0x591fef(0x105)&&playSound(_0x591fef(0x105));}}}_0x22e6d1['type']===_0x591fef(0x15e)&&endGame(_0x22e6d1[_0x591fef(0x163)]);}}}window[a0_0x5c7e84(0xe5)]=()=>{const _0x4a3a48=a0_0x5c7e84;document['getElementById']('main-menu')[_0x4a3a48(0x155)][_0x4a3a48(0x13a)](_0x4a3a48(0xd4)),document[_0x4a3a48(0x11f)](_0x4a3a48(0xbf))[_0x4a3a48(0x155)][_0x4a3a48(0xcf)]('hidden'),initPeer();},window[a0_0x5c7e84(0x144)]=()=>{const _0x374e3d=a0_0x5c7e84;document[_0x374e3d(0x11f)](_0x374e3d(0xbf))[_0x374e3d(0x155)][_0x374e3d(0x13a)](_0x374e3d(0xd4)),document[_0x374e3d(0x11f)](_0x374e3d(0xf9))[_0x374e3d(0x155)]['remove']('hidden');},window['showCpuMenu']=()=>{const _0x344d38=a0_0x5c7e84;document[_0x344d38(0x11f)](_0x344d38(0x14d))[_0x344d38(0x155)][_0x344d38(0x13a)](_0x344d38(0xd4)),document[_0x344d38(0x11f)]('cpu-menu')['classList'][_0x344d38(0xcf)]('hidden');},window[a0_0x5c7e84(0x15a)]=()=>{const _0x21d0a1=a0_0x5c7e84;document['getElementById']('cpu-menu')[_0x21d0a1(0x155)][_0x21d0a1(0x13a)]('hidden'),document[_0x21d0a1(0x11f)](_0x21d0a1(0x14d))['classList']['remove'](_0x21d0a1(0xd4));},window[a0_0x5c7e84(0x162)]=()=>{const _0x24d018=a0_0x5c7e84,_0x53ce6e=document[_0x24d018(0x11f)]('peer-id-input')[_0x24d018(0x141)];navigator[_0x24d018(0x143)][_0x24d018(0x12c)](_0x53ce6e)['then'](()=>{const _0x3f12d7=_0x24d018;document['getElementById'](_0x3f12d7(0x165))[_0x3f12d7(0x10d)]='ID\x20Copied!',setTimeout(()=>document[_0x3f12d7(0x11f)](_0x3f12d7(0x165))['textContent']='Ready\x20to\x20Connect',0x7d0);});},window['connectToPeer']=()=>{const _0x329e48=a0_0x5c7e84;let _0x2dcfab=document[_0x329e48(0x11f)](_0x329e48(0x154))[_0x329e48(0x141)][_0x329e48(0xdd)]();if(!_0x2dcfab)return;if(_0x2dcfab[_0x329e48(0xe1)](_0x329e48(0x15f))||_0x2dcfab[_0x329e48(0xe1)](_0x329e48(0xc1)))try{_0x2dcfab[_0x329e48(0xe1)](_0x329e48(0xc1))&&(_0x2dcfab=_0x2dcfab[_0x329e48(0xf1)](_0x329e48(0xc1))[0x1]['split']('&')[0x0]);}catch(_0x4d2d0b){console['log'](_0x329e48(0xca),_0x4d2d0b);}conn&&conn[_0x329e48(0x135)](),document[_0x329e48(0x11f)](_0x329e48(0x10c))[_0x329e48(0x10d)]=_0x329e48(0xc0)+_0x2dcfab+_0x329e48(0x12e),conn=peer[_0x329e48(0x117)](_0x2dcfab),isHost=![],setupConnection();};function a0_0x4db1(){const _0x23b3bb=['min','rgba(0,\x20255,\x20255,\x200.3)','mode','online_host','72620QKCRgT','main-menu','Connected!','prevY','PAUSED','preventDefault','field','Host\x20invalid\x20or\x20offline','setValueAtTime','length','returnToMenu','stop','max','wall','Ready\x20to\x20Connect','off','round','textAlign','1750154bcIpfd','toString','connection-status','textContent','shadowColor','Error:\x20','cpu','Rejected\x20extra\x20connection','210985aCoCcN','558zjWAcT','beginPath','tron_hockey_peer_id','#ffffff','connect','state','globalAlpha','Saved\x20ID\x20is\x20unavailable,\x20generating\x20new\x20one...','local','difficult','send','friction','getElementById','height','miterLimit','lineWidth','sqrt','type','score','color','selectDiff','peer-unavailable','1323176uiPHXT','getItem','speed','writeText','551277uZPScw','...','clientY','get','paddleRadiusRatio','getBoundingClientRect','reload','gain','close','#555','error','wallBounce','life','add','peer-id-input','style','log','left','active','.diff-btn','value','innerWidth','clipboard','closeLobby','paused','atan2','#2a4d53','input','search','pause-modal','puck','6ysTlNY','mode-menu','flipped','hypot','tron_hockey_wins','forEach','running','prevX','connect-id-input','classList','Ignoring\x20join\x20parameter\x20(Self\x20ID)','font','difficulty-select','push','showMainMenu','#0ff','clientWidth','game-over-score','game_over','http','abs','unavailable-id','copyPeerId','p1Won','radius','lobby-status','insane','game-over-modal','innerHeight','bottom','particles','data','winningScore','webkitAudioContext','moveTo','filter','5793Npzlvs','resume-btn','3630XmhNIs','strokeStyle','arc','548037JUuDrB','stroke','decay','setItem','destination','touches','WINS:\x20','right','lobby-modal','Connecting\x20to\x20','game=','suspended','Connection\x20Lost','YOU\x20LOSE','fill','open','top','#00ffff','width','Error\x20parsing\x20ID','roundRect','scores','#ffcc00','fillStyle','remove','lineTo','getContext','cos','clientX','hidden','difficulty','createOscillator','clearRect','touchmove','resume','warn','shadowBlur','exponentialRampToValueAtTime','trim','hit','sin','#fff','includes','88rFtTKJ','maxSpeed','game-ui','openLobby','event','frequency','online_client','medium','togglePause','currentTime','none','textBaseline','start','random','display','split','pause-title','addEventListener'];a0_0x4db1=function(){return _0x23b3bb;};return a0_0x4db1();}function update(){const _0x1ba786=a0_0x5c7e84;state['p1']['vx']=state['p1']['x']-state['p1'][_0x1ba786(0x153)],state['p1']['vy']=state['p1']['y']-state['p1'][_0x1ba786(0xfb)],state['p1']['prevX']=state['p1']['x'],state['p1'][_0x1ba786(0xfb)]=state['p1']['y'],state['p2']['vx']=state['p2']['x']-state['p2'][_0x1ba786(0x153)],state['p2']['vy']=state['p2']['y']-state['p2'][_0x1ba786(0xfb)],state['p2'][_0x1ba786(0x153)]=state['p2']['x'],state['p2'][_0x1ba786(0xfb)]=state['p2']['y'];if(!state[_0x1ba786(0x152)]||state[_0x1ba786(0x145)])return;if(state['mode']===_0x1ba786(0xe8)){conn&&conn['open']&&conn['send']({'type':_0x1ba786(0x148),'x':state['p2']['x'],'y':state['p2']['y']});state[_0x1ba786(0x16a)][_0x1ba786(0x151)](_0x57e8f3=>{_0x57e8f3['x']+=_0x57e8f3['vx'],_0x57e8f3['y']+=_0x57e8f3['vy'],_0x57e8f3['life']-=_0x57e8f3['decay'];}),state[_0x1ba786(0x16a)]=state[_0x1ba786(0x16a)][_0x1ba786(0xb1)](_0x108426=>_0x108426[_0x1ba786(0x139)]>0x0);return;}if(state[_0x1ba786(0xf6)]===_0x1ba786(0x110)){const _0x4aa51c=DIFFICULTIES[state[_0x1ba786(0xd5)]]||DIFFICULTIES[_0x1ba786(0xe9)];let _0x1822e1=state[_0x1ba786(0x14b)]['x'],_0x4f5f53=state[_0x1ba786(0xfe)][_0x1ba786(0x120)]*0.12;state['puck']['vy']<0x0?_0x1822e1=predictPuckX(state['puck'],_0x4f5f53,state[_0x1ba786(0xfe)][_0x1ba786(0xc9)]):_0x1822e1=state['field'][_0x1ba786(0xc9)]/0x2;let _0x412da1=![];if(state[_0x1ba786(0xd5)]===_0x1ba786(0x166)){if(state[_0x1ba786(0x14b)]['y']<state[_0x1ba786(0xfe)][_0x1ba786(0x120)]*0.45&&state['puck']['y']>state['p2']['y'])_0x412da1=!![],_0x1822e1=state[_0x1ba786(0x14b)]['x'],_0x4f5f53=state[_0x1ba786(0x14b)]['y'];else state[_0x1ba786(0x14b)]['vy']>0x0&&state[_0x1ba786(0x14b)]['y']<state[_0x1ba786(0xfe)][_0x1ba786(0x120)]*0.3&&(_0x412da1=!![],_0x1822e1=state['puck']['x'],_0x4f5f53=state[_0x1ba786(0x14b)]['y']);}else state[_0x1ba786(0xd5)]===_0x1ba786(0x11c)?state[_0x1ba786(0x14b)]['y']<state[_0x1ba786(0xfe)][_0x1ba786(0x120)]*0.4&&state['puck']['vy']<0x0&&(_0x412da1=!![],_0x1822e1=state['puck']['x'],_0x4f5f53=state[_0x1ba786(0x14b)]['y']-0x14):state[_0x1ba786(0x14b)]['y']<state[_0x1ba786(0xfe)][_0x1ba786(0x120)]*0.25&&state['puck']['vy']<0x0&&(_0x412da1=!![],_0x4f5f53=state[_0x1ba786(0x14b)]['y']-0xa);if(!_0x412da1){if(state[_0x1ba786(0xd5)]===_0x1ba786(0x11c))_0x1822e1+=(Math[_0x1ba786(0xef)]()-0.5)*_0x4aa51c[_0x1ba786(0x137)];if(state['difficulty']==='medium')_0x1822e1+=(Math[_0x1ba786(0xef)]()-0.5)*_0x4aa51c[_0x1ba786(0x137)];}const _0x3c4b8f=_0x1822e1-state['p2']['x'],_0x1124f3=_0x4f5f53-state['p2']['y'];let _0x14ee63=_0x4aa51c[_0x1ba786(0x12b)];if(_0x412da1)_0x14ee63*=1.5;state['p2']['x']+=_0x3c4b8f*_0x14ee63,state['p2']['y']+=_0x1124f3*_0x14ee63;}state[_0x1ba786(0x14b)]['x']+=state[_0x1ba786(0x14b)]['vx'],state['puck']['y']+=state[_0x1ba786(0x14b)]['vy'],state['puck']['vx']*=CONFIG[_0x1ba786(0x11e)],state[_0x1ba786(0x14b)]['vy']*=CONFIG[_0x1ba786(0x11e)];if(Math['abs'](state[_0x1ba786(0x14b)]['vx'])<0.05)state[_0x1ba786(0x14b)]['vx']=0x0;if(Math[_0x1ba786(0x160)](state[_0x1ba786(0x14b)]['vy'])<0.05)state[_0x1ba786(0x14b)]['vy']=0x0;let _0x16b763=![];state[_0x1ba786(0x14b)]['x']-state[_0x1ba786(0x14b)][_0x1ba786(0x164)]<0x0&&(state[_0x1ba786(0x14b)]['x']=state[_0x1ba786(0x14b)][_0x1ba786(0x164)],state[_0x1ba786(0x14b)]['vx']*=-0x1*CONFIG[_0x1ba786(0x138)],_0x16b763=!![]);state[_0x1ba786(0x14b)]['x']+state[_0x1ba786(0x14b)]['radius']>state[_0x1ba786(0xfe)][_0x1ba786(0xc9)]&&(state[_0x1ba786(0x14b)]['x']=state[_0x1ba786(0xfe)]['width']-state[_0x1ba786(0x14b)][_0x1ba786(0x164)],state[_0x1ba786(0x14b)]['vx']*=-0x1*CONFIG[_0x1ba786(0x138)],_0x16b763=!![]);if(_0x16b763){playSound(_0x1ba786(0x105));if(state[_0x1ba786(0xf6)]==='online_host')broadcast({'type':'state','event':_0x1ba786(0x105)});}const _0x18e289=state[_0x1ba786(0xfe)][_0x1ba786(0xc9)]*0.3,_0x987685=state['field'][_0x1ba786(0xc9)]/0x2;if(state[_0x1ba786(0x14b)]['y']<0x0){handleGoal(0x1);return;}const _0x40eb36=Math[_0x1ba786(0x14f)](state[_0x1ba786(0x14b)]['x']-_0x987685,state[_0x1ba786(0x14b)]['y']-0x0);if(state[_0x1ba786(0x14b)]['y']<_0x18e289&&_0x40eb36<_0x18e289){}if(state[_0x1ba786(0x14b)]['y']>state['field'][_0x1ba786(0x120)]){handleGoal(0x2);return;}checkPaddleCollision(state['p1']),checkPaddleCollision(state['p2']),state['particles']['forEach'](_0x21965c=>{const _0xa1cd24=_0x1ba786;_0x21965c['x']+=_0x21965c['vx'],_0x21965c['y']+=_0x21965c['vy'],_0x21965c[_0xa1cd24(0x139)]-=_0x21965c[_0xa1cd24(0xb9)];}),state[_0x1ba786(0x16a)]=state[_0x1ba786(0x16a)][_0x1ba786(0xb1)](_0x74a8c0=>_0x74a8c0[_0x1ba786(0x139)]>0x0),state['mode']===_0x1ba786(0xf7)&&conn&&conn['open']&&conn[_0x1ba786(0x11d)]({'type':_0x1ba786(0x118),'p1':{'x':state['p1']['x'],'y':state['p1']['y']},'p2':{'x':state['p2']['x'],'y':state['p2']['y']},'puck':{'x':state[_0x1ba786(0x14b)]['x'],'y':state[_0x1ba786(0x14b)]['y'],'vx':state[_0x1ba786(0x14b)]['vx'],'vy':state[_0x1ba786(0x14b)]['vy']},'scores':{'p1':state['p1'][_0x1ba786(0x125)],'p2':state['p2']['score']}});}function handleGoal(_0x1973eb,_0x35e646=![]){const _0x47d6b8=a0_0x5c7e84;if(_0x35e646){playSound(_0x47d6b8(0x125));if(_0x1973eb===0x1)spawnParticles(state[_0x47d6b8(0x14b)]['x'],0x0,state['p1']['color']);else spawnParticles(state['puck']['x'],state[_0x47d6b8(0xfe)][_0x47d6b8(0x120)],state['p2'][_0x47d6b8(0x126)]);return;}playSound(_0x47d6b8(0x125)),state[_0x47d6b8(0x14b)]['vx']=0x0,state[_0x47d6b8(0x14b)]['vy']=0x0;_0x1973eb===0x1?(state['p1'][_0x47d6b8(0x125)]++,spawnParticles(state[_0x47d6b8(0x14b)]['x'],0x0,state['p1'][_0x47d6b8(0x126)])):(state['p2']['score']++,spawnParticles(state[_0x47d6b8(0x14b)]['x'],state['field'][_0x47d6b8(0x120)],state['p2']['color']));if(state[_0x47d6b8(0xf6)]===_0x47d6b8(0xf7))broadcast({'type':'state','event':_0x47d6b8(0x125),'scorer':_0x1973eb});state['p1'][_0x47d6b8(0x125)]>=CONFIG[_0x47d6b8(0x16c)]||state['p2'][_0x47d6b8(0x125)]>=CONFIG['winningScore']?endGame(_0x1973eb===0x1):resetPositions();}function broadcast(_0x1ec2f3){const _0x283436=a0_0x5c7e84;conn&&conn[_0x283436(0xc6)]&&conn['send']({..._0x1ec2f3,'p1':{'x':state['p1']['x'],'y':state['p1']['y']},'p2':{'x':state['p2']['x'],'y':state['p2']['y']},'puck':{'x':state[_0x283436(0x14b)]['x'],'y':state[_0x283436(0x14b)]['y'],'vx':state[_0x283436(0x14b)]['vx'],'vy':state[_0x283436(0x14b)]['vy']},'scores':{'p1':state['p1'][_0x283436(0x125)],'p2':state['p2'][_0x283436(0x125)]}});}function stopGame(){const _0xf46945=a0_0x5c7e84;state[_0xf46945(0x152)]=![],state['paused']=![],document[_0xf46945(0x11f)](_0xf46945(0xf9))[_0xf46945(0x155)][_0xf46945(0xcf)](_0xf46945(0xd4)),document[_0xf46945(0x11f)](_0xf46945(0xe4))['classList'][_0xf46945(0x13a)](_0xf46945(0xd4)),document['getElementById']('pause-modal')[_0xf46945(0x155)]['add'](_0xf46945(0xd4)),showMainMenu();}function endGame(_0x2037d6){const _0x1390c6=a0_0x5c7e84;state[_0x1390c6(0x152)]=![];state[_0x1390c6(0xf6)]===_0x1390c6(0xf7)&&broadcast({'type':_0x1390c6(0x15e),'p1Won':_0x2037d6});const _0x5bb419=document['getElementById'](_0x1390c6(0x167)),_0x4d9cae=document[_0x1390c6(0x11f)]('game-over-title'),_0x5dc6e1=document[_0x1390c6(0x11f)](_0x1390c6(0x15d)),_0x3bb3c1=state[_0x1390c6(0xf6)]!==_0x1390c6(0xe8),_0x4458b0=_0x3bb3c1?_0x2037d6:!_0x2037d6;_0x4d9cae[_0x1390c6(0x10d)]=_0x4458b0?'YOU\x20WIN':_0x1390c6(0xc4),_0x4d9cae[_0x1390c6(0x13c)]['color']=_0x4458b0?'#0ff':'#ff3366',_0x5dc6e1[_0x1390c6(0x10d)]=state['p1'][_0x1390c6(0x125)]+'\x20\x20-\x20\x20'+state['p2']['score'];if(_0x4458b0){let _0x393ad1=parseInt(localStorage[_0x1390c6(0x12a)](_0x1390c6(0x150))||'0');_0x393ad1++,localStorage['setItem'](_0x1390c6(0x150),_0x393ad1),updateHighScoreDisplay();}_0x5bb419[_0x1390c6(0x155)][_0x1390c6(0xcf)](_0x1390c6(0xd4)),document[_0x1390c6(0x11f)](_0x1390c6(0xe4))['classList'][_0x1390c6(0x13a)](_0x1390c6(0xd4));}window[a0_0x5c7e84(0x102)]=()=>{const _0x12af32=a0_0x5c7e84;document[_0x12af32(0x11f)]('game-over-modal')[_0x12af32(0x155)][_0x12af32(0x13a)](_0x12af32(0xd4)),document[_0x12af32(0x11f)]('main-menu')[_0x12af32(0x155)]['remove'](_0x12af32(0xd4));},window[a0_0x5c7e84(0xea)]=()=>{const _0x534939=a0_0x5c7e84;state[_0x534939(0x145)]=!state[_0x534939(0x145)];const _0x47998e=document[_0x534939(0x11f)](_0x534939(0x14a)),_0x2b2d9d=document[_0x534939(0x11f)](_0x534939(0xf2)),_0x1998b5=document[_0x534939(0x11f)](_0x534939(0xb3));if(state[_0x534939(0x145)]){if(_0x2b2d9d)_0x2b2d9d['textContent']=_0x534939(0xfc);if(_0x1998b5)_0x1998b5[_0x534939(0x13c)][_0x534939(0xf0)]='block';_0x47998e[_0x534939(0x155)]['remove'](_0x534939(0xd4));}else _0x47998e[_0x534939(0x155)][_0x534939(0x13a)](_0x534939(0xd4));},window['restartGame']=()=>{const _0x725fbc=a0_0x5c7e84;document[_0x725fbc(0x11f)](_0x725fbc(0x167))['classList'][_0x725fbc(0x13a)](_0x725fbc(0xd4)),startGame(state[_0x725fbc(0xf6)]);};function updateHighScoreDisplay(){const _0x26d26a=a0_0x5c7e84,_0x33ec3b=localStorage[_0x26d26a(0x12a)](_0x26d26a(0x150))||'0',_0x55a2d5=document[_0x26d26a(0x11f)]('highscore-display');if(_0x55a2d5)_0x55a2d5[_0x26d26a(0x10d)]=_0x26d26a(0xbd)+_0x33ec3b;}function checkPaddleCollision(_0x634357){const _0x502d1b=a0_0x5c7e84,_0x532536=state['puck']['x']-_0x634357['x'],_0x5f201a=state[_0x502d1b(0x14b)]['y']-_0x634357['y'],_0x35a511=Math[_0x502d1b(0x123)](_0x532536*_0x532536+_0x5f201a*_0x5f201a),_0x19fc07=state[_0x502d1b(0x14b)][_0x502d1b(0x164)]+_0x634357[_0x502d1b(0x164)];if(_0x35a511<_0x19fc07){const _0x479229=Math[_0x502d1b(0x146)](_0x5f201a,_0x532536),_0x250fa4=_0x19fc07-_0x35a511;state[_0x502d1b(0x14b)]['x']+=Math[_0x502d1b(0xd2)](_0x479229)*_0x250fa4,state[_0x502d1b(0x14b)]['y']+=Math[_0x502d1b(0xdf)](_0x479229)*_0x250fa4;const _0x4cfbef=Math[_0x502d1b(0xd2)](_0x479229),_0x3ced74=Math[_0x502d1b(0xdf)](_0x479229),_0x3e3083=state['puck']['vx']*_0x4cfbef+state[_0x502d1b(0x14b)]['vy']*_0x3ced74;state['puck']['vx']=state['puck']['vx']-0x2*_0x3e3083*_0x4cfbef,state[_0x502d1b(0x14b)]['vy']=state['puck']['vy']-0x2*_0x3e3083*_0x3ced74;const _0x5ae578=Math[_0x502d1b(0x123)](_0x634357['vx']**0x2+_0x634357['vy']**0x2);_0x5ae578>0.1?(state[_0x502d1b(0x14b)]['vx']+=_0x634357['vx']*1.5,state[_0x502d1b(0x14b)]['vy']+=_0x634357['vy']*1.5):(state[_0x502d1b(0x14b)]['vx']*=0.8,state['puck']['vy']*=0.8);const _0x1d8919=Math[_0x502d1b(0x123)](state[_0x502d1b(0x14b)]['vx']**0x2+state[_0x502d1b(0x14b)]['vy']**0x2);_0x1d8919>state[_0x502d1b(0x14b)][_0x502d1b(0xe3)]&&(state[_0x502d1b(0x14b)]['vx']=state['puck']['vx']/_0x1d8919*state[_0x502d1b(0x14b)][_0x502d1b(0xe3)],state[_0x502d1b(0x14b)]['vy']=state[_0x502d1b(0x14b)]['vy']/_0x1d8919*state[_0x502d1b(0x14b)][_0x502d1b(0xe3)]),playSound(_0x502d1b(0xde));}}function viewX(_0x4272b4){const _0x46a438=a0_0x5c7e84;if(state[_0x46a438(0x14e)])return state[_0x46a438(0xfe)][_0x46a438(0xc9)]-_0x4272b4;return _0x4272b4;}function viewY(_0x570d24){const _0x206e0a=a0_0x5c7e84;if(state[_0x206e0a(0x14e)])return state[_0x206e0a(0xfe)][_0x206e0a(0x120)]-_0x570d24;return _0x570d24;}window['toggleFlip']=()=>{const _0x5ed0ff=a0_0x5c7e84;state[_0x5ed0ff(0x14e)]=!state['flipped'];};function draw(){const _0x86cb0f=a0_0x5c7e84;ctx[_0x86cb0f(0xd7)](0x0,0x0,canvas[_0x86cb0f(0xc9)],canvas[_0x86cb0f(0x120)]);const _0x262a07=canvas[_0x86cb0f(0xc9)],_0x26f7c9=canvas[_0x86cb0f(0x120)];state[_0x86cb0f(0xf6)]===_0x86cb0f(0xe8)&&state[_0x86cb0f(0x14e)]===undefined&&(state[_0x86cb0f(0x14e)]=!![]);const _0x5665c0=_0x26f7c9/0x2;drawGrid(_0x262a07,_0x26f7c9),ctx[_0x86cb0f(0x122)]=0x3,ctx[_0x86cb0f(0xb5)]=_0x86cb0f(0x147),ctx[_0x86cb0f(0x114)](),ctx[_0x86cb0f(0xb0)](0x0,_0x5665c0-0x6),ctx['lineTo'](_0x262a07,_0x5665c0-0x6),ctx[_0x86cb0f(0xb8)](),ctx[_0x86cb0f(0x114)](),ctx['moveTo'](0x0,_0x5665c0+0x6),ctx[_0x86cb0f(0xd0)](_0x262a07,_0x5665c0+0x6),ctx['stroke'](),ctx['strokeStyle']=_0x86cb0f(0xf5),ctx[_0x86cb0f(0xdb)]=0xa,ctx['shadowColor']=_0x86cb0f(0xc8),ctx[_0x86cb0f(0x114)](),ctx['arc'](_0x262a07/0x2,_0x5665c0,_0x262a07*0.22,0x0,Math['PI']*0x2),ctx[_0x86cb0f(0xb8)](),ctx[_0x86cb0f(0x114)](),ctx[_0x86cb0f(0xb6)](_0x262a07/0x2,_0x5665c0,_0x262a07*0.18,0x0,Math['PI']*0x2),ctx[_0x86cb0f(0xb5)]='rgba(0,\x20255,\x20255,\x200.1)',ctx[_0x86cb0f(0xb8)]();const _0x246b4b=_0x262a07*0.3;ctx['shadowBlur']=0xf,ctx['shadowColor']=state['p2']['color'],ctx[_0x86cb0f(0xb5)]=state['p2'][_0x86cb0f(0x126)],ctx['lineWidth']=0x4,ctx[_0x86cb0f(0x114)]();const _0x222e04=state[_0x86cb0f(0x14e)],_0x330d63=_0x222e04?state['p1'][_0x86cb0f(0x126)]:state['p2']['color'],_0x2ed79f=_0x222e04?state['p2'][_0x86cb0f(0x126)]:state['p1'][_0x86cb0f(0x126)];ctx['shadowColor']=_0x330d63,ctx[_0x86cb0f(0xb5)]=_0x330d63,ctx[_0x86cb0f(0x114)](),ctx['arc'](_0x262a07/0x2,-0x3c,_0x246b4b,0x0,Math['PI'],![]),ctx[_0x86cb0f(0xb8)](),ctx[_0x86cb0f(0x10e)]=_0x2ed79f,ctx[_0x86cb0f(0xb5)]=_0x2ed79f,ctx[_0x86cb0f(0x114)](),ctx[_0x86cb0f(0xb6)](_0x262a07/0x2,_0x26f7c9+0x3c,_0x246b4b,Math['PI'],0x0,![]),ctx[_0x86cb0f(0xb8)](),ctx[_0x86cb0f(0xdb)]=0x0,ctx[_0x86cb0f(0xed)]=_0x86cb0f(0xc7);const _0x441c43=_0x26f7c9*0.08;ctx[_0x86cb0f(0x157)]='900\x20'+_0x441c43+'px\x20sans-serif';const _0x209468=(_0x9b71e0,_0x1e3439,_0x1c8b14,_0x2ec9db,_0x380993)=>{const _0x153c43=_0x86cb0f;ctx['textBaseline']=_0x380993,ctx['lineJoin']=_0x153c43(0x108),ctx[_0x153c43(0x121)]=0x2,ctx[_0x153c43(0xb5)]=_0x2ec9db,ctx[_0x153c43(0x122)]=0x4,ctx[_0x153c43(0x109)]=_0x153c43(0xbe),ctx['strokeText'](_0x9b71e0,_0x1e3439,_0x1c8b14);},_0x5c57a7=_0x222e04?state['p1']['score']:state['p2'][_0x86cb0f(0x125)],_0x244238=_0x222e04?state['p2']['score']:state['p1'][_0x86cb0f(0x125)];_0x209468(_0x5c57a7[_0x86cb0f(0x10b)](),_0x262a07-0x19,0x19,_0x330d63,_0x86cb0f(0xc7)),_0x209468(_0x244238[_0x86cb0f(0x10b)](),_0x262a07-0x19,_0x26f7c9-0x19,_0x2ed79f,_0x86cb0f(0x169)),drawPaddle(state['p1']),drawPaddle(state['p2']),drawPuck(state[_0x86cb0f(0x14b)]),state[_0x86cb0f(0x16a)][_0x86cb0f(0x151)](_0x23ce87=>{const _0x138e48=_0x86cb0f;ctx[_0x138e48(0x119)]=_0x23ce87['life']>0x0?_0x23ce87[_0x138e48(0x139)]:0x0,ctx[_0x138e48(0xce)]=_0x23ce87[_0x138e48(0x126)],ctx[_0x138e48(0x114)](),ctx[_0x138e48(0xb6)](viewX(_0x23ce87['x']),viewY(_0x23ce87['y']),0x4,0x0,Math['PI']*0x2),ctx[_0x138e48(0xc5)](),ctx['globalAlpha']=0x1;}),requestAnimationFrame(draw);}function drawGrid(_0x563875,_0x1880a8){const _0x31a32e=a0_0x5c7e84,_0x20e40d=0x5,_0x1efb90=0x9,_0x29f222=_0x563875/_0x20e40d,_0x278396=_0x1880a8/_0x1efb90,_0x5d08c1=0x5;ctx[_0x31a32e(0xb5)]='#103035',ctx[_0x31a32e(0x122)]=0x2,ctx[_0x31a32e(0xdb)]=0x0;for(let _0x166a9e=0x0;_0x166a9e<_0x1efb90;_0x166a9e++){for(let _0x4d1c2d=0x0;_0x4d1c2d<_0x20e40d;_0x4d1c2d++){const _0x53ec73=_0x4d1c2d*_0x29f222+_0x5d08c1,_0x1029f4=_0x166a9e*_0x278396+_0x5d08c1,_0x346e2c=_0x29f222-_0x5d08c1*0x2,_0x32ef35=_0x278396-_0x5d08c1*0x2;ctx[_0x31a32e(0x114)](),ctx[_0x31a32e(0xcb)](_0x53ec73,_0x1029f4,_0x346e2c,_0x32ef35,0xc),ctx[_0x31a32e(0xb8)]();}}}function drawPaddle(_0x448d97){const _0x1a5363=a0_0x5c7e84,_0x5a4d26=viewX(_0x448d97['x']),_0x2f76ca=viewY(_0x448d97['y']),_0x9bdd7=_0x448d97[_0x1a5363(0x164)],_0x53bae4=_0x448d97[_0x1a5363(0x126)];ctx[_0x1a5363(0xdb)]=0xf,ctx[_0x1a5363(0x10e)]=_0x53bae4,_0x53bae4===_0x1a5363(0x116)?(ctx['lineWidth']=0x5,ctx['strokeStyle']=_0x1a5363(0xe0),ctx[_0x1a5363(0x114)](),ctx[_0x1a5363(0xb6)](_0x5a4d26,_0x2f76ca,_0x9bdd7,0x0,Math['PI']*0x2),ctx[_0x1a5363(0xb8)](),ctx['lineWidth']=0x2,ctx[_0x1a5363(0xb5)]=_0x1a5363(0x136),ctx[_0x1a5363(0x114)](),ctx[_0x1a5363(0xb6)](_0x5a4d26,_0x2f76ca,Math[_0x1a5363(0x104)](0x0,_0x9bdd7-0x6),0x0,Math['PI']*0x2),ctx[_0x1a5363(0xb8)]()):(ctx['lineWidth']=0x4,ctx[_0x1a5363(0xb5)]=_0x53bae4,ctx[_0x1a5363(0x114)](),ctx[_0x1a5363(0xb6)](_0x5a4d26,_0x2f76ca,_0x9bdd7,0x0,Math['PI']*0x2),ctx['stroke'](),ctx['beginPath'](),ctx[_0x1a5363(0xb6)](_0x5a4d26,_0x2f76ca,Math[_0x1a5363(0x104)](0x0,_0x9bdd7-0x8),0x0,Math['PI']*0x2),ctx[_0x1a5363(0xb8)]()),ctx[_0x1a5363(0xdb)]=0x0;}function drawPuck(_0x54a448){const _0x184e17=a0_0x5c7e84,_0x539908=viewX(_0x54a448['x']),_0x48adc6=viewY(_0x54a448['y']),_0x5e88b7=_0x54a448[_0x184e17(0x164)];ctx['shadowBlur']=0xf,ctx[_0x184e17(0x10e)]=_0x184e17(0x15b),ctx[_0x184e17(0xb5)]=_0x184e17(0x15b),ctx['lineWidth']=0x5,ctx[_0x184e17(0x114)](),ctx[_0x184e17(0xb6)](_0x539908,_0x48adc6,_0x5e88b7,Math['PI'],1.5*Math['PI']-0.5),ctx[_0x184e17(0xb8)](),ctx['beginPath'](),ctx[_0x184e17(0xb6)](_0x539908,_0x48adc6,_0x5e88b7,1.5*Math['PI']+0.5,0x0),ctx[_0x184e17(0xb8)](),ctx[_0x184e17(0x114)](),ctx[_0x184e17(0xb6)](_0x539908,_0x48adc6,_0x5e88b7,0x0+0.5,0.5*Math['PI']),ctx[_0x184e17(0xb8)](),ctx[_0x184e17(0x114)](),ctx[_0x184e17(0xb6)](_0x539908,_0x48adc6,_0x5e88b7,0.5*Math['PI']+0.5,Math['PI']),ctx['stroke'](),ctx['lineWidth']=0x3,ctx[_0x184e17(0x114)]();const _0x2c1082=0x6;ctx[_0x184e17(0xb0)](_0x539908,_0x48adc6-_0x5e88b7+_0x2c1082),ctx[_0x184e17(0xd0)](_0x539908,_0x48adc6-_0x5e88b7-0x4),ctx[_0x184e17(0xb0)](_0x539908,_0x48adc6+_0x5e88b7-_0x2c1082),ctx[_0x184e17(0xd0)](_0x539908,_0x48adc6+_0x5e88b7+0x4),ctx[_0x184e17(0xb0)](_0x539908-_0x5e88b7+_0x2c1082,_0x48adc6),ctx[_0x184e17(0xd0)](_0x539908-_0x5e88b7-0x4,_0x48adc6),ctx[_0x184e17(0xb0)](_0x539908+_0x5e88b7+_0x2c1082,_0x48adc6),ctx[_0x184e17(0xd0)](_0x539908+_0x5e88b7+0x4,_0x48adc6),ctx[_0x184e17(0xb8)](),ctx[_0x184e17(0x10e)]='#ffcc00',ctx[_0x184e17(0xb5)]=_0x184e17(0xcd),ctx[_0x184e17(0x122)]=0x4,ctx[_0x184e17(0x114)](),ctx['arc'](_0x539908,_0x48adc6,_0x5e88b7*0.5,0x0,Math['PI']*0x2),ctx[_0x184e17(0xb8)](),ctx[_0x184e17(0xdb)]=0x0;}function handleInput(_0x2c8373,_0x3d4a08,_0x340c1a){const _0x54a3d6=a0_0x5c7e84;if(!state['running'])return;let _0x2dfb49;if(state[_0x54a3d6(0xf6)]===_0x54a3d6(0xe8))_0x2dfb49=state['p2'];else state['mode']==='online_host'||state[_0x54a3d6(0xf6)]==='cpu'?_0x2dfb49=state['p1']:_0x2dfb49=_0x340c1a?state['p1']:state['p2'];const _0x6b5079=_0x2dfb49===state['p1'],_0x20557d=_0x6b5079?state[_0x54a3d6(0xfe)][_0x54a3d6(0x120)]/0x2+_0x2dfb49[_0x54a3d6(0x164)]:_0x2dfb49[_0x54a3d6(0x164)],_0x169fcb=_0x6b5079?state[_0x54a3d6(0xfe)][_0x54a3d6(0x120)]-_0x2dfb49['radius']:state[_0x54a3d6(0xfe)][_0x54a3d6(0x120)]/0x2-_0x2dfb49[_0x54a3d6(0x164)];_0x2dfb49['x']=Math[_0x54a3d6(0x104)](_0x2dfb49[_0x54a3d6(0x164)],Math[_0x54a3d6(0xf4)](state[_0x54a3d6(0xfe)][_0x54a3d6(0xc9)]-_0x2dfb49[_0x54a3d6(0x164)],_0x2c8373)),_0x2dfb49['y']=Math[_0x54a3d6(0x104)](_0x20557d,Math[_0x54a3d6(0xf4)](_0x169fcb,_0x3d4a08));}canvas[a0_0x5c7e84(0xf3)]('pointermove',_0x20efb6=>{const _0x3fff5d=a0_0x5c7e84;_0x20efb6[_0x3fff5d(0xfd)]();if(state[_0x3fff5d(0x145)])return;const _0x1c37b0=canvas[_0x3fff5d(0x132)]();let _0x2e2590=_0x20efb6[_0x3fff5d(0xd3)]-_0x1c37b0[_0x3fff5d(0x13e)],_0x34a78e=_0x20efb6[_0x3fff5d(0x12f)]-_0x1c37b0[_0x3fff5d(0xc7)];state['flipped']&&(_0x2e2590=state[_0x3fff5d(0xfe)]['width']-_0x2e2590,_0x34a78e=state['field'][_0x3fff5d(0x120)]-_0x34a78e),handleInput(_0x2e2590,_0x34a78e,!![]);}),canvas[a0_0x5c7e84(0xf3)](a0_0x5c7e84(0xd8),_0x4043c0=>{const _0x698089=a0_0x5c7e84;_0x4043c0[_0x698089(0xfd)]();if(state[_0x698089(0x145)])return;const _0x525a7a=canvas[_0x698089(0x132)]();for(let _0x555f69=0x0;_0x555f69<_0x4043c0[_0x698089(0xbc)][_0x698089(0x101)];_0x555f69++){const _0x6a5e31=_0x4043c0[_0x698089(0xbc)][_0x555f69];let _0x1992e9=_0x6a5e31[_0x698089(0xd3)]-_0x525a7a[_0x698089(0x13e)],_0x4944b3=_0x6a5e31['clientY']-_0x525a7a['top'];state[_0x698089(0x14e)]&&(_0x1992e9=state[_0x698089(0xfe)][_0x698089(0xc9)]-_0x1992e9,_0x4944b3=state[_0x698089(0xfe)][_0x698089(0x120)]-_0x4944b3);if(state[_0x698089(0xf6)]===_0x698089(0x11b)){if(_0x4944b3>state['field'][_0x698089(0x120)]/0x2)handleInput(_0x1992e9,_0x4944b3,!![]);else handleInput(_0x1992e9,_0x4944b3,![]);}else handleInput(_0x1992e9,_0x4944b3,!![]);}},{'passive':![]});const updateLoop=setInterval(update,0x3e8/0x3c);requestAnimationFrame(draw),window['startGame']=_0x3b5999=>{const _0x3daf10=a0_0x5c7e84;state[_0x3daf10(0xf6)]=_0x3b5999,state[_0x3daf10(0xd5)]=document[_0x3daf10(0x11f)](_0x3daf10(0x158))[_0x3daf10(0x141)],state['running']=!![],state['p1'][_0x3daf10(0x125)]=0x0,state['p2'][_0x3daf10(0x125)]=0x0,resize(),resetPositions(),document[_0x3daf10(0x11f)]('main-menu')[_0x3daf10(0x155)][_0x3daf10(0x13a)](_0x3daf10(0xd4)),document[_0x3daf10(0x11f)](_0x3daf10(0xe4))[_0x3daf10(0x155)]['remove'](_0x3daf10(0xd4));if(audioCtx[_0x3daf10(0x118)]===_0x3daf10(0xc2))audioCtx['resume']();},window[a0_0x5c7e84(0x127)]=(_0x45148b,_0x2017b7)=>{const _0x34ec68=a0_0x5c7e84;document[_0x34ec68(0x11f)](_0x34ec68(0x158))[_0x34ec68(0x141)]=_0x45148b;const _0x43dea1=document['querySelectorAll'](_0x34ec68(0x140));_0x43dea1[_0x34ec68(0x151)](_0x34857d=>_0x34857d['classList'][_0x34ec68(0xcf)](_0x34ec68(0x13f))),_0x2017b7[_0x34ec68(0x155)][_0x34ec68(0x13a)](_0x34ec68(0x13f));},window['addEventListener']('resize',resize),setTimeout(()=>{resize(),resetPositions(),updateHighScoreDisplay();},0x64);